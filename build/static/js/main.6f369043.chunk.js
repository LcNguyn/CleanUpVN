(this.webpackJsonptesting=this.webpackJsonptesting||[]).push([[0],{285:function(e,t,a){e.exports=a(578)},578:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),s=a.n(r),o=a(38),c=(a(294),a(16)),i=a(17),m=a(20),u=a(18),d=a(19),h=a(34),v=a(76),E=a(7),p=a(84),b=a(94),g=a(59),f=a(175),y=a(630),C=a(264),S=Object(y.a)({searchBox:{marginTop:10,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)"},input:{width:240,height:40,fontSize:14,borderRadius:3,outline:"none",padding:"0 12px",boxSizing:"border-box",textOverflow:"ellipses",border:"1px solid transparent"}}),O=function(e){var t=e.onPlacesChanged,a=e.controlPosition,r=void 0===a?google.maps.ControlPosition.TOP_LEFT:a,s=S(),o=Object(n.useRef)(null);return l.a.createElement(C.SearchBox,{ref:o,onPlacesChanged:function(){t(o.current.getPlaces()[0])},controlPosition:r},l.a.createElement("div",{className:s.searchBox},l.a.createElement("input",{style:{width:"150%"},type:"text",placeholder:"Enter the location you are finding...",className:s.input})))},D=a(42),N=a.n(D),_=a(25),w=a.n(_),j=function(e){return{type:"ADD_EVENTS",payload:e}},T=function(e){return function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"POST",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/delete/".concat(e),data:null}).then((function(e){console.log(e.data,"data"),t(k(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},k=function(e){return{type:"DELETE_EVENTS",payload:e}},x=function(e){return{type:"EDIT_EVENTS",payload:e}},I=function(){return function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/all",data:null}).then((function(t){console.log(t.data,"get all"),e(A(t.data))})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}))}},A=function(e){return{type:"FETCH_EVENTS",payload:e}},M=function(e){return function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/".concat(e),data:null}).then((function(e){console.log(e.data[0],"get by id"),t(V(e.data[0]))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},V=function(e){return{type:"FETCH_EVENTS_BY_ID",payload:e}},B=function(e){return{type:"FETCH_EVENTS_BY_OWNER",payload:e}},F=function(e){return function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/volunteer/".concat(e),data:null}).then((function(e){console.log(e.data[0],"get by email"),t(L(e.data[0]))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},L=function(e){return{type:"FETCH_VOLUNTEERS_BY_EMAIL",payload:e}},P=function(e){return function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"POST",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/volunteer",data:e}).then((function(e){t(R(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},R=function(e){return{type:"ADD_VLOUNTEERS",payload:e}},H=function(){return function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/volunteer/all",data:null}).then((function(t){console.log(t.data,"get all volunteers"),e(U(t.data))})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}))}},U=function(e){return{type:"FETCH_VOLUNTEERS",payload:e}},G=function(e){return function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"POST",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/sitevolunteer",data:e}).then((function(e){t(W(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},W=function(e){return{type:"ADD_SITE_VOLUNTEER",payload:e}},z=function(e){return function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/site/".concat(e,"/volunteer"),data:null}).then((function(e){console.log(e.data,"get by site id"),t(Y(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},Y=function(e){return{type:"FETCH_VOLUNTEERS_BY_SITE",payload:e}},q=function(e,t){return function(a){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/".concat(e,"/volunteer/download"),data:null,responseType:"blob"}).then((function(e){console.log(e.data,"get volunteers by site");var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download","".concat(t," volunteers.xlsx")),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},J=Object(b.a)(Object(b.b)((function(){return{isOpen:!1,markerIndex:0}}),{onToggleOpen:function(e){e.isOpen;return function(e){return{isOpen:!0,markerIndex:e}}}}),g.withScriptjs,g.withGoogleMap)((function(e){console.log(e);Object(n.useRef)(null);var t=Object(n.useState)(12),a=Object(p.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)({hasMarker:!1,position:{}}),c=Object(p.a)(o,2),i=c[0],m=c[1],u=Object(n.useState)({lat:10.807279,lng:106.630638}),d=Object(p.a)(u,2),v=d[0],E=d[1];return l.a.createElement(g.GoogleMap,{zoom:r,center:v},l.a.createElement(O,{onPlacesChanged:function(e){s(12),E({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),m({hasMarker:!0,position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})}}),i.hasMarker,l.a.createElement(f.MarkerClusterer,{averageCenter:!0,enableRetinaIcons:!0,gridSize:30},e.events.events.map((function(t,a){return l.a.createElement(g.Marker,{key:a,position:{lat:parseFloat(t.cs_lat),lng:parseFloat(t.cs_long)},onClick:function(){e.onToggleOpen(a)}},e.isOpen&&e.markerIndex===a&&l.a.createElement(g.InfoWindow,{onCloseClick:e.onToggleOpen},l.a.createElement("div",{className:"infoWindow"},l.a.createElement("h5",null,t.cs_name),l.a.createElement("p",{style:{fontSize:"16px"}},t.cs_address),l.a.createElement(h.b,{to:"/event-detail/".concat(t.clean_site_id)},"View"))))}))))})),K=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={isOpen:!1,events:[]},e.onToggleOpen=e.onToggleOpen.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onToggleOpen",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"componentDidMount",value:function(){this.props.actionFetchEvents(),console.log(this.props.events,"test")}},{key:"render",value:function(){return console.log(this.props.events,"zzz"),l.a.createElement("div",{className:"App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"pageTitle"},"Clean Up Events Around You"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(J,{events:this.props.events,defaultOptions:{scaleControl:!0},googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt5F_65miIiCpSgOEmbg3hACbgU0RwZas&libraries=visualization,drawing,geometry,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}," Loading... "),containerElement:l.a.createElement("div",{style:{height:"75vh"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})})))}}]),t}(n.Component),Z=Object(o.b)((function(e){return{events:e.events}}),(function(e,t){return{actionFetchEvents:function(){e(I())}}}))(K),$=a(23),X=a(68),Q=a.n(X),ee=(a(127),a(91),Object(b.a)(Object(b.b)((function(){return{isOpen:!1,markerIndex:0}}),{onToggleOpen:function(e){var t=e.isOpen;return function(e){return{isOpen:!t,markerIndex:e}}}}),g.withScriptjs,g.withGoogleMap)((function(e){var t=Object(n.useState)({hasMarker:!1,position:{}}),a=Object(p.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)({lat:10.729572,lng:106.693748}),c=Object(p.a)(o,2),i=c[0],m=c[1];return l.a.createElement(g.GoogleMap,{defaultZoom:14,center:i},l.a.createElement(O,{onPlacesChanged:function(t){m({lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}),s({hasMarker:!0,position:{lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}}),e.handleCall({lat:t.geometry.location.lat(),lng:t.geometry.location.lng(),address:t.formatted_address})}}),r.hasMarker&&l.a.createElement(g.Marker,{position:r.position}))}))),te=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).parentCall=function(t){console.log(t,"hjhj"),e.props.history(t)},e.state={isOpen:!1},e.onToggleOpen=e.onToggleOpen.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onToggleOpen",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ee,{handleCall:this.parentCall,defaultOptions:{scaleControl:!0},googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt5F_65miIiCpSgOEmbg3hACbgU0RwZas&libraries=visualization,drawing,geometry,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}," Loading... "),containerElement:l.a.createElement("div",{style:{height:"48vh",width:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(n.Component),ae=a(632),ne=a(621),le=a(104),re=a.n(le),se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleStartDateTimeChange=function(e){a.setState({eventStartDateTime:e,eventEndDateTime:e})},a.handleEndDateTimeChange=function(e){a.setState({eventEndDateTime:e})},a.get_end_of_date=function(){var e=new Date;return e.setHours(23),e},a.get_7_days_after=function(){var e=new Date;return e.setDate(e.getDate()+7),e},a.get_24_hours_before=function(){var e=a.state.eventEndDateTime;return e.setDate(e.getHours),e},a.callBackFunc=function(e){console.log("called from parent"),a.setState({eventCoordLat:e.lat,eventCoordLng:e.lng,eventAdress:e.address})},a.state={eventName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventStartDateTime:a.get_7_days_after(),eventEndDateTime:a.get_7_days_after(),ownerID:"",notify:!1,token:"",nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1},a.handleNameChange=a.handleNameChange.bind(Object(E.a)(a)),a.handleCoordChange=a.handleCoordChange.bind(Object(E.a)(a)),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(E.a)(a)),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(E.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleNameChange",value:function(e){this.setState({eventName:e.target.value})}},{key:"handleCoordChange",value:function(){this.setState({eventCoordLat:this.childData.lat,eventCoordLng:this.childData.lng})}},{key:"handleDescriptionChange",value:function(e){this.setState({eventDescription:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={cs_name:this.state.eventName,cs_address:this.state.eventAdress.normalize("NFD").replace(/[\u0300-\u036f]/g,""),cs_lat:this.state.eventCoordLat,cs_long:this.state.eventCoordLng,cs_description:this.state.eventDescription,cs_start_time:this.state.eventStartDateTime,cs_end_time:this.state.eventEndDateTime,cs_owner:this.state.token};""===this.state.eventName?(console.log("check name"),this.setState({nameErr:!0,descErr:!1,coordErr:!1,timeErr:!1})):""===this.state.eventDescription?(console.log("check desc"),this.setState({nameErr:!1,descErr:!0,coordErr:!1,timeErr:!1})):this.state.eventStartDateTime.getDate()==this.state.eventEndDateTime.getDate()&&this.state.eventStartDateTime.getTime()>=this.state.eventEndDateTime.getTime()?this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!0}):""===this.state.eventCoordLat||""===this.state.eventCoordLng?this.setState({nameErr:!1,descErr:!1,coordErr:!0,timeErr:!1}):(this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1}),this.props.actionAddEvents(t),this.setState({eventName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventEndDateTime:"",eventStartDateTime:"",notify:!0}))}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if("undefined"!==typeof e&&null!==e){var t=re()(e);t.acc_id;this.setState({token:t.acc_id})}else window.location.href="/#/sign-in"}},{key:"render",value:function(){var e;return l.a.createElement("div",{className:"App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae.a,{isOpen:this.state.notify},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Event successfully created!")),l.a.createElement(ne.a,null,l.a.createElement(h.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Go to List Page")))),l.a.createElement("div",{className:"pageTitle"},"Create event"),l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Event Name *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"name..."},Object($.a)(e,"className","form-control"),Object($.a)(e,"value",this.state.eventName),Object($.a)(e,"onChange",this.handleNameChange),e)),this.state.nameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Description *"),l.a.createElement("textarea",{placeholder:"tell everyone a bit about your event...",class:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.state.eventDescription,onChange:this.handleDescriptionChange}),this.state.descErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"Start Date / Time *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(Q.a,{className:"form-control",selected:this.state.eventStartDateTime,minDate:this.get_7_days_after(),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"Time",onSelect:this.handleSelect,placeholderText:"date / time",onChange:this.handleStartDateTimeChange}))),l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"End Date / Time of Event *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(Q.a,{className:"form-control",selected:this.state.eventEndDateTime,minDate:this.state.eventStartDateTime,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time",onSelect:this.handleSelect,placeholderText:"date / time",onChange:this.handleEndDateTimeChange})))),this.state.timeErr&&l.a.createElement("span",{className:"error"},"Invalid end time!")),l.a.createElement("br",null),l.a.createElement("div",{className:"col-6"},l.a.createElement("label",null,"Location *"),l.a.createElement("div",null,l.a.createElement(te,{history:this.callBackFunc,onChange:this.handleCoordChanges}),this.state.coordErr&&l.a.createElement("span",{className:"error"},"Please choose your location!"))),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btnColor btn-lg",type:"submit",on:!0},"Create"))))}}]),t}(n.Component),oe=Object(o.b)((function(e){return{}}),(function(e,t){return{actionAddEvents:function(t){var a;e((a=t,function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("check"),t.abrupt("return",w()({method:"POST",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite",data:a}).then((function(t){console.log("add event",t.data),e(j(t.data))})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}))}))}}}))(se),ce=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleOpenForm=function(e){a.setState({showForm:!a.state.showForm})},a.get_100_years=function(){var e=new Date;return e.setDate(e.getDate()-36500),e},a.state={eventId:"",eventName:"",eventAddress:"",eventDescription:"",eventStartDateTime:"",eventEndDateTime:"",eventLat:"",eventLng:"",eventDataCollected:"",vltEmail:"",vltName:"",vltDOB:"",vltAddress:"",account:[],showForm:!1,notify:!1,notify2:!1,emailErr:!1},a.handleVolunteerEmailChange=a.handleVolunteerEmailChange.bind(Object(E.a)(a)),a.handleVolunteerNameChange=a.handleVolunteerNameChange.bind(Object(E.a)(a)),a.handleVolunteerAddressChange=a.handleVolunteerAddressChange.bind(Object(E.a)(a)),a.handleVolunteerDOBChange=a.handleVolunteerDOBChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.toggleOpenForm=a.toggleOpenForm.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleVolunteerEmailChange",value:function(e){this.setState({vltEmail:e.target.value})}},{key:"handleVolunteerNameChange",value:function(e){this.setState({vltName:e.target.value})}},{key:"handleVolunteerAddressChange",value:function(e){this.setState({vltAddress:e.target.value})}},{key:"handleVolunteerDOBChange",value:function(e){this.setState({vltDOB:e})}},{key:"componentDidMount",value:function(){var e=this;this.props.actionFetchVolunteers(),this.setState({account:this.props.volunteers.volunteers});var t=this.props.match;if(t){var a=t.params.eventID;this.props.fetchVolunteerBySite(a),w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/".concat(a),data:null}).then((function(t){console.log(t.data,"data");var a=t.data[0];e.setState({eventId:a.clean_site_id,eventName:a.cs_name,eventAddress:a.cs_address,eventDescription:a.cs_description,eventStartDateTime:a.cs_start_time,eventEndDateTime:a.cs_end_time,eventLat:a.cs_lat,eventLng:a.cs_long,eventDataCollected:a.cs_amount_collected})})).catch((function(e){console.log(e)}))}}},{key:"onSubmit",value:function(e){e.preventDefault();var t={sv_site:this.state.eventId,sv_volunteer:this.state.vltEmail},a={vlt_name:this.state.vltName,vlt_email:this.state.vltEmail,vlt_dob:this.state.vltDOB,vlt_address:this.state.vltAddress};if(""===this.state.vltEmail||!1===ce.test(this.state.vltEmail))this.setState({emailErr:!0});else{if(this.setState({emailErr:!1}),0==this.state.showForm)for(var n=0,l=0;l<this.props.volunteers.volunteers.length;l++){if(this.props.volunteers.volunteers[l].vlt_email==this.state.vltEmail)if(n+=1,0==this.props.volunteers.volunteersBySite.length)this.props.actionAddSiteVolunteer(t),this.setState({vltEmail:""}),this.setState({notify:!0}),console.log("added old volunteer to event 111");else for(var r=0;r<this.props.volunteers.volunteersBySite.length;r++){if(console.log(this.props.volunteers.volunteersBySite[r]),this.props.volunteers.volunteersBySite[r].vlt_email==this.state.vltEmail){console.log("this volunteer already registered this site"),this.setState({notify2:!0});break}this.props.actionAddSiteVolunteer(t),this.setState({vltEmail:""}),console.log("added old volunteer to event"),this.setState({notify:!0});break}console.log(n),0==n&&(console.log("open form"),this.setState({showForm:!this.state.showForm}))}1==this.state.showForm&&(this.props.actionAddVolunteers(a),this.props.actionAddSiteVolunteer(t),console.log("added new volunteer"),this.setState({notify:!0}))}}},{key:"getDate",value:function(e){return new Date(e).toLocaleDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify2:!1})}},{key:"render",value:function(){var e,t,a;return l.a.createElement("div",{className:"Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"container font",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae.a,{isOpen:this.state.notify},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Successfully registered for this event. Thank you!")),l.a.createElement(ne.a,null,l.a.createElement(h.b,{to:"/",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to Homepage")))),l.a.createElement(ae.a,{isOpen:this.state.notify2},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"You have already registered for this event!")),l.a.createElement(ne.a,null,l.a.createElement("button",{className:"btn btn-success btn-sm",style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:this.closeModal},"Confirm"))),l.a.createElement("div",{className:"row",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"col-7"},l.a.createElement("h1",{className:""},this.state.eventName),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px"}},this.state.eventAddress),l.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(this.state.eventLat,",").concat(this.state.eventLng)},"See location on Google Maps"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",{className:"hr"})," ",l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}}," Event Time:"),l.a.createElement("div",{className:"AppSmall"},"Start time: ",this.getTime(this.state.eventStartDateTime),", ",this.getDate(this.state.eventStartDateTime)),l.a.createElement("div",{className:"AppSmall"},"End time: ",this.getTime(this.state.eventEndDateTime),", ",this.getDate(this.state.eventEndDateTime)),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Description: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDescription)," ",l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Report: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDataCollected)," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-5"},l.a.createElement("div",{id:"formModal",className:"  modalCSS",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{class:"modal-content cardCSS"},l.a.createElement("div",{class:"modal-header"},this.state.showForm&&l.a.createElement("h5",null,"First time joining events of Vietnam Sach & Xanh? Tell us a little bit about you!"),0==this.state.showForm&&l.a.createElement("h5",{class:"modal-title"},"Let's join the Clean Up!")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"abc@example.com"},Object($.a)(e,"className","form-control"),Object($.a)(e,"name","vltEmail"),Object($.a)(e,"value",this.state.vltEmail),Object($.a)(e,"onChange",this.handleVolunteerEmailChange),Object($.a)(e,"noValidate",!0),e)),this.state.emailErr&&l.a.createElement("span",{className:"error"},"Invalid Email!")),this.state.showForm&&l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Full Name *"),l.a.createElement("input",(t={type:"text",className:"col",placeholder:"name..."},Object($.a)(t,"className","form-control"),Object($.a)(t,"value",this.state.vltName),Object($.a)(t,"onChange",this.handleVolunteerNameChange),t))),l.a.createElement("div",null,l.a.createElement("label",null,"D.O.B *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(Q.a,{className:"form-control",selected:this.state.vltDOB,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"MMMM d, yyyy",placeholderText:"dd/mm/yy",minDate:this.get_100_years(),maxDate:new Date,onChange:this.handleVolunteerDOBChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Address *"),l.a.createElement("input",(a={type:"text",className:"col",placeholder:"address..."},Object($.a)(a,"className","form-control"),Object($.a)(a,"value",this.state.vltAddress),Object($.a)(a,"onChange",this.handleVolunteerAddressChange),a)))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btnColor btn-lg btn-block",type:"submit",on:!0},"Join"))))))))))}}]),t}(l.a.Component),me=Object(o.b)((function(e){return{event:e.event,volunteers:e.volunteers}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchVolunteerByEmail:function(t){e(F(t))},fetchVolunteerBySite:function(t){e(z(t))},actionAddSiteVolunteer:function(t){e(G(t))},actionAddVolunteers:function(t){e(P(t))},actionFetchVolunteers:function(){e(H())},actionDownloadVolunteersBySite:function(t,a){e(q(t,a))}}}))(ie),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleOpenForm=function(e){a.setState({showForm:!a.state.showForm})},a.get_100_years=function(){var e=new Date;return e.setDate(e.getDate()-36500),e},a.openModal=function(){a.setState({notify:!0})},a.state={eventId:"",eventName:"",eventAddress:"",eventDescription:"",eventStartDateTime:"",eventEndDateTime:"",eventDataCollected:"",vltEmail:"",vltName:"",vltDOB:"",vltAddress:"",account:[],showForm:!1,notify:!1,notify2:!1},a.handleVolunteerEmailChange=a.handleVolunteerEmailChange.bind(Object(E.a)(a)),a.handleVolunteerNameChange=a.handleVolunteerNameChange.bind(Object(E.a)(a)),a.handleVolunteerAddressChange=a.handleVolunteerAddressChange.bind(Object(E.a)(a)),a.handleVolunteerDOBChange=a.handleVolunteerDOBChange.bind(Object(E.a)(a)),a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.toggleOpenForm=a.toggleOpenForm.bind(Object(E.a)(a)),a.download=a.download.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleVolunteerEmailChange",value:function(e){this.setState({vltEmail:e.target.value})}},{key:"handleVolunteerNameChange",value:function(e){this.setState({vltName:e.target.value})}},{key:"handleVolunteerAddressChange",value:function(e){this.setState({vltAddress:e.target.value})}},{key:"handleVolunteerDOBChange",value:function(e){this.setState({vltDOB:e})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken");if("undefined"!==typeof t&&null!==t){this.setState({account:this.props.volunteers.volunteers});var a=this.props.match;if(console.log(a,"match"),a){var n=a.params.eventID;this.props.fetchVolunteerBySite(n),w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/".concat(n),data:null}).then((function(t){console.log(t.data,"data");var a=t.data[0];e.setState({eventId:a.clean_site_id,eventName:a.cs_name,eventAddress:a.cs_address,eventDescription:a.cs_description,eventStartDateTime:a.cs_start_time,eventEndDateTime:a.cs_end_time,eventDataCollected:a.cs_amount_collected})})).catch((function(e){console.log(e)}))}}else window.location.href="/#/sign-in"}},{key:"getDate",value:function(e){return new Date(e).toLocaleDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify:!1})}},{key:"download",value:function(){this.props.actionDownloadVolunteersBySite(this.state.eventId,this.state.eventName)}},{key:"deleteBooking",value:function(e){this.props.actionDeleteEvents(e),this.setState({notify:!1}),this.setState({notify2:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"container font",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae.a,{isOpen:this.state.notify},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"left",justifyContent:"left"}},"Are you sure you want to delete this event?")),l.a.createElement(ne.a,{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(h.b,null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){e.deleteBooking(e.state.eventId)}},"Yes")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.closeModal},"Cancel"))),l.a.createElement(ae.a,{isOpen:this.state.notify2},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Event deleted!")),l.a.createElement(ne.a,null,l.a.createElement(h.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to List Page")))),l.a.createElement("div",{className:"row",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"col-7"},l.a.createElement("h1",{className:""},this.state.eventName),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px"}},this.state.eventAddress),l.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(this.state.eventLat,",").concat(this.state.eventLng)},"See location on Google Maps"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",{className:"hr"}),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}}," Event Time:"),l.a.createElement("div",{className:"AppSmall"},"Start time: ",this.getTime(this.state.eventStartDateTime),", ",this.getDate(this.state.eventStartDateTime)),l.a.createElement("div",{className:"AppSmall"},"End time: ",this.getTime(this.state.eventEndDateTime),", ",this.getDate(this.state.eventEndDateTime)),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Description: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDescription)," ",l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Report: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDataCollected)," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.download},"Download list of volunteers"),"\xa0",l.a.createElement(h.b,{to:"/edit-event/".concat(this.state.eventId)},l.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm"},"Edit this event")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){e.openModal()}},"Delete this event")))))}}]),t}(l.a.Component),de=Object(o.b)((function(e){return{event:e.event,volunteers:e.volunteers}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchVolunteerByEmail:function(t){e(F(t))},fetchVolunteerBySite:function(t){e(z(t))},actionAddSiteVolunteer:function(t){e(G(t))},actionAddVolunteers:function(t){e(P(t))},actionFetchVolunteers:function(){e(H())},actionDownloadVolunteersBySite:function(t,a){e(q(t,a))},actionDeleteEvents:function(t){e(T(t))}}}))(ue),he=a(633),ve=a(628),Ee=a(626),pe=a(625),be=a(629),ge=a(586),fe=a(622),ye=a(141),Ce=a.n(ye),Se=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),Oe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={acc_email:"",acc_pass:"",emailErr:!1,passErr:!1,loginErr:!1},e.handleEmailChange=e.handleEmailChange.bind(Object(E.a)(e)),e.handlePasswordChange=e.handlePasswordChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object($.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={acc_email:this.state.acc_email,acc_pass:this.state.acc_pass};""===this.state.acc_email||!1===Se.test(this.state.acc_email)?this.setState({emailErr:!0,passErr:!1}):""===this.state.acc_pass?(console.log("check desc"),this.setState({emailErr:!1,passErr:!0})):(this.setState({emailErr:!1,passErr:!1}),function(e){return w.a.post("http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/users/login",{acc_email:e.acc_email,acc_pass:e.acc_pass}).then((function(e){return localStorage.setItem("usertoken",e.data),e.data})).catch((function(e){console.log(e)}))}(a).then((function(e){e?(window.location.href="/#/event-list",window.location.reload()):t.setState({loginErr:!0})})))}},{key:"handleEmailChange",value:function(e){this.setState({acc_email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({acc_pass:e.target.value})}},{key:"render",value:function(){var e=this.props;return l.a.createElement(fe.a,{component:"main",maxWidth:"xs",className:" Min-height"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(he.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(ge.a,{className:"signIn",component:"h1",variant:"h5"},"Sign In"),l.a.createElement("form",{onSubmit:this.onSubmit,className:e.form,noValidate:!0},l.a.createElement(ve.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:this.state.acc_email,onChange:this.handleEmailChange}),this.state.emailErr&&l.a.createElement("span",{className:"error"},"Please enter a valid email!"),l.a.createElement(ve.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.acc_pass,onChange:this.handlePasswordChange}),this.state.passErr&&l.a.createElement("span",{className:"error"},"Please enter your password!"),this.state.loginErr&&l.a.createElement("span",{className:"error"},"Wrong username or password!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn noHoverButton btn-block",type:"submit",role:"button",on:!0},"SIGN IN"),l.a.createElement("br",null),l.a.createElement(pe.a,{container:!0},l.a.createElement(pe.a,{item:!0},l.a.createElement(Ee.a,{href:"#/sign-up",variant:"body2"},"Don't have an account yet?"))))),l.a.createElement(be.a,{mt:8}))}}]),t}(n.Component),De=Ce()({paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"}})(Oe);Object(o.b)((function(e){return{}}),(function(e){return{}}));var Ne=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),_e=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={acc_username:"",acc_email:"",acc_pass:"",errors:{},notify:!1,usernameErr:!1,emailErr:!1,passErr:!1},e.handleEmailChange=e.handleEmailChange.bind(Object(E.a)(e)),e.handleUsernameChange=e.handleUsernameChange.bind(Object(E.a)(e)),e.handlePasswordChange=e.handlePasswordChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={acc_email:this.state.acc_email,acc_pass:this.state.acc_pass,acc_username:this.state.acc_username};""===this.state.acc_username?this.setState({emailErr:!1,passErr:!1,usernameErr:!0}):""===this.state.acc_email||!1===Ne.test(this.state.acc_email)?this.setState({emailErr:!0,passErr:!1,usernameErr:!1}):""===this.state.acc_pass?this.setState({emailErr:!1,passErr:!0,usernameErr:!1}):(this.setState({emailErr:!1,passErr:!1,usernameErr:!1}),function(e){return w.a.post("http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/users/register",{acc_email:e.acc_email,acc_username:e.acc_username,acc_pass:e.acc_pass}).then((function(e){console.log("Registered",e.data)}))}(a).then((function(e){t.props.history.push("/")})),this.setState({notify:!0}))}},{key:"handleUsernameChange",value:function(e){this.setState({acc_username:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({acc_email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({acc_pass:e.target.value})}},{key:"render",value:function(){var e=this.props;return l.a.createElement(fe.a,{component:"main",maxWidth:"xs",className:"Min-height"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae.a,{isOpen:this.state.notify},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"You've successfully created your account!")),l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"You will be redirected to Sign In page.")),l.a.createElement(ne.a,null,l.a.createElement(Ee.a,{to:"/",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"X\xe1c Nh\u1eadn")))),l.a.createElement(he.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(ge.a,{className:"signIn",component:"h1",variant:"h5"},"Sign Up"),l.a.createElement("form",{className:e.form,onSubmit:this.onSubmit,noValidate:!0},l.a.createElement(ve.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,margin:"normal",fullWidth:!0,id:"username",label:"Username",autoFocus:!0,value:this.state.acc_username,onChange:this.handleUsernameChange}),this.state.usernameErr&&l.a.createElement("span",{className:"error"},"Please enter your username!"),l.a.createElement(ve.a,{variant:"outlined",required:!0,margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.acc_email,onChange:this.handleEmailChange}),this.state.emailErr&&l.a.createElement("span",{className:"error"},"Please enter a valid email!"),l.a.createElement(ve.a,{variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.acc_pass,onChange:this.handlePasswordChange}),this.state.passErr&&l.a.createElement("span",{className:"error"},"Please enter your password!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn noHoverButton  btn-block",type:"submit",on:!0},"\u0110\u0103ng K\xed"),l.a.createElement("br",null),l.a.createElement(pe.a,{container:!0,justify:"flex-end"},l.a.createElement(pe.a,{item:!0},l.a.createElement(Ee.a,{href:"#/sign-in",variant:"body2"},"Already have an account? Sign In !"))))),l.a.createElement(be.a,{mt:5}))}}]),t}(n.Component),we=Ce()({paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"}})(_e),je=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"font App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"pageTitle"},"About Us"),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{className:"container"}),l.a.createElement("p",{className:"container"},l.a.createElement("p",null,"Our goal at Keep Vietnam Clean & Green (KVCG) is to raise awareness about the litter & trash problem in Vietnam. While we understand there are many other issues that impact the environment, our focus is on littering, as we believe it to be the most basic of environmental issues and the foundational basis of environmental education. We believe, \u201cHow can we educate people about issues like climate change, sustainable building, reusable energies and recycling when we can\u2019t get the general population to stop littering?\u201d"),l.a.createElement("p",null,"Our first program, started in June 2013, was the Green Ribbon Campaign that won the international Youth4Asia competition sponsored by the Asian Development Bank in 2015 when we worked with 15 universities in Vietnam to get over 40,000 pledges to not litter. We were honored to present our program to the Environment Ministers of all the countries in the Greater Mekong Region in Myanmar and then again in 2016 at the Asia Youth Conference in the Philippines."),l.a.createElement("p",null,"In April 2015, we started our second program the Community Clean Ups on Phu Quoc Island. We have, since then, also organized clean ups in Han Noi, HCMC, Hoi An, Hue and Can Tho and have engaged over organizations to join the clean ups.                            "),l.a.createElement("p",null,"In 2016, we developed the characters for the Green Turtle Army, a campaign targeting children. We are excited as these mascots will educate children about the negative impacts of littering. Our partners in this effort are (1) RMIT University\u2019s Centre of Communication and Design, whose students designed the characters and (2) Saigon South International School, whose elementary and middle school students helped to create activities based on the Green Turtle Army characters."))),l.a.createElement("div",{className:"col-5"},l.a.createElement("img",{src:"http://vietnamsachvaxanh.org/wp-content/uploads/a_MG_0443s.jpg",style:{width:"100%"}}))))}}]),t}(l.a.Component),Te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).openModal=function(e){a.setState({notify:!0,readytodeleteEvent:e})},a.state={readytodeleteEvent:"",notify:!1,idNow:"",nameNow:""},a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.download=a.download.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if("undefined"!==typeof e&&null!==e){var t=re()(e),a=t.acc_id,n=t.acc_username;this.setState({idNow:a,nameNow:n}),"admin"==t.acc_username?this.props.actionFetchEvents():this.props.fetchEventsByOwner(a)}else window.location.href="/#/sign-in"}},{key:"deleteBooking",value:function(e){this.props.actionDeleteEvents(e),this.setState({notify:!1})}},{key:"getDate",value:function(e){return new Date(e).toDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify:!1})}},{key:"download",value:function(){this.props.actionDownloadEventsByAccount(this.state.idNow,this.state.nameNow)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"tableMargin App Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae.a,{isOpen:this.state.notify},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"left",justifyContent:"left"}},"Are you sure you want to delete this event?")),l.a.createElement(ne.a,{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(h.b,null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){e.deleteBooking(e.state.readytodeleteEvent)}},"Yes")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.closeModal},"Cancel"))),l.a.createElement("div",{className:"pageTitle"},"List of Events"),l.a.createElement("br",null),l.a.createElement("a",{href:"/#/event-list",onClick:this.download},"Download your events"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-hover tableColor"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col",style:{width:"200px"}},"Name"),l.a.createElement("th",{scope:"col",style:{width:"250px"}},"Start Date / Time"),l.a.createElement("th",{scope:"col",style:{width:"250px"}},"End Date / Time"),l.a.createElement("th",{scope:"col",style:{width:"350px"}},"Location"),l.a.createElement("th",{scope:"col"},"Action"))),l.a.createElement("tbody",null,this.props.events.events.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,l.a.createElement(h.b,{style:{fontWeight:"500",color:"black"},to:"/event-detail-owner/".concat(t.clean_site_id)},t.cs_name)),l.a.createElement("td",null,e.getTime(t.cs_start_time),", ",e.getDate(t.cs_start_time)),l.a.createElement("td",null,e.getTime(t.cs_end_time),", ",e.getDate(t.cs_end_time)),l.a.createElement("td",null,t.cs_address),l.a.createElement("td",null,l.a.createElement(h.b,{to:"/edit-event/".concat(t.clean_site_id)},l.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm"},"Edit")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){e.openModal(t.clean_site_id)}},"Delete")))})))))}}]),t}(n.Component),ke=Object(o.b)((function(e){return{events:e.events}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchEventsByOwner:function(t){var a;e((a=t,function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a,"123"),t.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/account/".concat(a,"/ownevent"),data:null}).then((function(t){console.log(t.data,"get by owner"),e(B(t.data))})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}))}))},actionDeleteEvents:function(t){e(T(t))},actionFetchEvents:function(){e(I())},actionDownloadEventsByAccount:function(t,a){var n,l;e((n=t,l=a,function(e){return N.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"id"),e.abrupt("return",w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/account/".concat(n,"/ownevent/download"),data:null,responseType:"blob"}).then((function(e){console.log(e.data,"get events by id");var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","".concat(l," events.xlsx")),document.body.appendChild(a),a.click()})).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}))}))}}}))(Te),xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleStartDateTimeChange=function(e){a.setState({eventStartDateTime:e,eventEndDateTime:e})},a.handleEndDateTimeChange=function(e){a.setState({eventEndDateTime:e})},a.get_end_of_date=function(){var e=new Date;return e.setHours(23),e},a.get_7_days_after=function(){var e=new Date;return e.setDate(e.getDate()+7),e},a.get_24_hours_before=function(){var e=a.state.eventEndDateTime;return e.setDate(e.getHours),e},a.callBackFunc=function(e){console.log("called from parent"),a.setState({eventCoordLat:e.lat,eventCoordLng:e.lng,eventAdress:e.address})},a.state={eventId:"",eventName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventDataCollected:"",eventStartDateTime:a.get_7_days_after(),eventEndDateTime:a.get_7_days_after(),ownerID:"",notify:!1,nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1},a.handleNameChange=a.handleNameChange.bind(Object(E.a)(a)),a.handleCoordChange=a.handleCoordChange.bind(Object(E.a)(a)),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(E.a)(a)),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(E.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.handleDataCollectedChange=a.handleDataCollectedChange.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleNameChange",value:function(e){this.setState({eventName:e.target.value})}},{key:"handleCoordChange",value:function(){this.setState({eventCoordLat:this.childData.lat,eventCoordLng:this.childData.lng})}},{key:"handleDescriptionChange",value:function(e){this.setState({eventDescription:e.target.value})}},{key:"handleDataCollectedChange",value:function(e){this.setState({eventDataCollected:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={clean_site_id:this.state.eventId,cs_name:this.state.eventName,cs_address:this.state.eventAdress,cs_lat:this.state.eventCoordLat,cs_long:this.state.eventCoordLng,cs_description:this.state.eventDescription,cs_start_time:this.state.eventStartDateTime,cs_end_time:this.state.eventEndDateTime,cs_amount_collected:this.state.eventDataCollected};""===this.state.eventName?(console.log("check name"),this.setState({nameErr:!0,descErr:!1,coordErr:!1,timeErr:!1})):""===this.state.eventDescription?(console.log("check desc"),this.setState({nameErr:!1,descErr:!0,coordErr:!1,timeErr:!1})):this.state.eventStartDateTime.getDate()==this.state.eventEndDateTime.getDate()&&this.state.eventStartDateTime.getTime()>=this.state.eventEndDateTime.getTime()?this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!0}):""===this.state.eventCoordLat||""===this.state.eventCoordLng?this.setState({nameErr:!1,descErr:!1,coordErr:!0,timeErr:!1}):(this.props.actionEditEvents(t,this.state.eventId),this.setState({eventName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventEndDateTime:"",eventStartDateTime:"",eventDataCollected:"",notify:!0}))}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken");if("undefined"!==typeof t&&null!==t){var a=this.props.match;if(console.log(this.props),a){var n=a.params.eventID;console.log(n),w()({method:"GET",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/".concat(n),data:null}).then((function(t){console.log(t.data,"data");var a=t.data[0];e.setState({eventId:a.clean_site_id,eventName:a.cs_name,eventAddress:a.cs_address,eventDescription:a.cs_description,eventDataCollected:a.cs_amount_collected,eventStartDateTime:new Date(a.cs_start_time),eventEndDateTime:new Date(a.cs_end_time)})})).catch((function(e){console.log(e)}))}}else window.location.href="/#/sign-in"}},{key:"render",value:function(){var e;return l.a.createElement("div",{className:"App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae.a,{isOpen:this.state.notify},l.a.createElement(ne.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Successfully edited!")),l.a.createElement(ne.a,null,l.a.createElement(h.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to List page")))),l.a.createElement("div",{className:"pageTitle"},"Edit event"),l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5"},l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Event Name *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"name..."},Object($.a)(e,"className","form-control"),Object($.a)(e,"value",this.state.eventName),Object($.a)(e,"onChange",this.handleNameChange),e)),this.state.nameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Description *"),l.a.createElement("textarea",{placeholder:"tell everyone a bit about your event...",class:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.state.eventDescription,onChange:this.handleDescriptionChange}),this.state.descErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Data Collected "),l.a.createElement("textarea",{placeholder:"reports come here...",class:"form-control",rows:"3",value:this.state.eventDataCollected,onChange:this.handleDataCollectedChange})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"Start Date / Time *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(Q.a,{className:"form-control",selected:this.state.eventStartDateTime,minDate:this.get_7_days_after(),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"Time",onSelect:this.handleSelect,placeholderText:"date - time",onChange:this.handleStartDateTimeChange}))),l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"End Date / Time *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(Q.a,{className:"form-control",selected:this.state.eventEndDateTime,minDate:this.state.eventStartDateTime,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time",onSelect:this.handleSelect,placeholderText:"date - time",onChange:this.handleEndDateTimeChange})))),this.state.timeErr&&l.a.createElement("span",{className:"error"},"Invalid end time!")),l.a.createElement("br",null),l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Location *"),l.a.createElement("div",null,l.a.createElement(te,{history:this.callBackFunc,onChange:this.handleCoordChanges}),this.state.coordErr&&l.a.createElement("span",{className:"error"},"Please choose your location!"))),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btnColor btn-lg",type:"submit",on:!0},"Change"))))}}]),t}(n.Component),Ie=Object(o.b)((function(e){return{}}),(function(e,t){return{fetchEventsById:function(t){e(M(t))},actionEditEvents:function(t,a){e(function(e,t){return function(a){return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",w()({method:"PUT",url:"http://cleanupvn.ap-southeast-1.elasticbeanstalk.com/cleansite/".concat(t),data:e}).then((function(e){console.log(e.data,"edited"),a(x(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return n.stop()}}))}}(t,a))}}}))(xe),Ae=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(v.c,null,l.a.createElement(v.a,{exact:!0,path:"/",component:Z}),l.a.createElement(v.a,{path:"/create-event",component:oe}),l.a.createElement(v.a,{path:"/event-detail/:eventID",component:me}),l.a.createElement(v.a,{path:"/event-detail-owner/:eventID",component:de}),l.a.createElement(v.a,{path:"/sign-in",component:De}),l.a.createElement(v.a,{path:"/sign-up",component:we}),l.a.createElement(v.a,{path:"/about-us",component:je}),l.a.createElement(v.a,{path:"/event-list",component:ke}),l.a.createElement(v.a,{path:"/edit-event/:eventID",component:Ie}))}}]),t}(n.Component),Me=a(631),Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={token:"",switch:!1},a.signOut=a.signOut.bind(Object(E.a)(a)),a.signIn=a.signIn.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");this.setState({token:e})}},{key:"signOut",value:function(){this.setState({switch:!1}),localStorage.removeItem("usertoken"),window.location.href="/#/",window.location.reload()}},{key:"signIn",value:function(){this.setState({switch:!0})}},{key:"render",value:function(){var e=this;return console.log(this.state.token,"heheee"),l.a.createElement("div",{className:"fixed-top",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("nav",{className:"navbar navbar-expand-lg"},l.a.createElement("a",{className:"navbar-brand",href:"#"},l.a.createElement("img",{src:"svx-logo.png",width:"150",height:"50",alt:""})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},l.a.createElement("ul",{className:"navbar-nav nav-item active mr-auto mt-2 mt-lg-0"}),l.a.createElement("div",{className:" navbar-nav my-2 my-lg-0"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Me.a,{className:"nav-link navFontColor",href:"#/",style:{backgroundColor:"rgb(250, 250, 250)"}},"Map of Events")),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Me.a,{className:"nav-link navFontColor",href:"#/about-us",style:{backgroundColor:"rgb(250, 250, 250)"}},"About Us")),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Me.a,{className:"nav-link navFontColor",href:"#/event-list",style:{backgroundColor:"rgb(250, 250, 250)"}},"Your Events")),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Me.a,{className:"nav-link navFontColor",href:"#/create-event",style:{backgroundColor:"rgb(250, 250, 250)"}},"Create Your Event")),null!==this.state.token&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Me.a,{className:"nav-link navFontColor",onClick:function(){e.signOut()},style:{backgroundColor:"rgb(250, 250, 250)"}},"Sign Out")),null==this.state.token&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Me.a,{className:"nav-link navFontColor",href:"#/sign-in",style:{backgroundColor:"rgb(250, 250, 250)"}},"Sign In"))))))}}]),t}(n.Component),Be=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"bckgrd"},l.a.createElement(h.a,null,l.a.createElement(Ve,null),l.a.createElement(v.a,{path:"/",component:Ae})))}}]),t}(n.Component),Fe=a(73),Le=a(47),Pe={volunteers:[],volunteer:{},volunteersBySite:[]},Re=a(267),He={events:[],event:{}},Ue=Object(Fe.combineReducers)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EVENTS":return Object(Le.a)({},e,{events:t.payload});case"FETCH_EVENTS_BY_ID":return Object(Le.a)({},e,{event:t.payload});case"DOWNLOAD_EVENTS_BY_ACCOUNT":case"FETCH_EVENTS_BY_OWNER":return Object(Le.a)({},e,{events:t.payload});case"ADD_EVENTS":return Object(Le.a)({},e,{events:[].concat(Object(Re.a)(e.events),[t.payload])});case"DELETE_EVENTS":var a=e.events.filter((function(e){return e.clean_site_id!==t.payload.toString()}));return Object(Le.a)({},e,{events:a});case"EDIT_EVENTS":var n=e.events.filter((function(e){return e.clean_site_id!==t.payload}));return Object(Le.a)({},e,{events:n});default:return e}},volunteers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_VOLUNTEERS":return Object(Le.a)({},e,{volunteers:t.payload});case"FETCH_VOLUNTEERS_BY_EMAIL":return Object(Le.a)({},e,{volunteer:t.payload});case"FETCH_VOLUNTEERS_BY_SITE":return Object(Le.a)({},e,{volunteersBySite:t.payload});case"ADD_VLOUNTEERS":return Object(Le.a)({},e,{volunteers:t.payload});default:return e}}}),Ge=a(265),We=a(266),ze=Object(Fe.createStore)(Ue,Object(We.composeWithDevTools)(Object(Fe.applyMiddleware)(Ge.a)));s.a.render(l.a.createElement(o.a,{store:ze},l.a.createElement(Be,null)),document.getElementById("root"))},91:function(e,t,a){}},[[285,1,2]]]);
//# sourceMappingURL=main.6f369043.chunk.js.map