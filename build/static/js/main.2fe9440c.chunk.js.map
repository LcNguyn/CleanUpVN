{"version":3,"sources":["MapComponents/SearchBox.js","action/actions.js","action/constants.js","pages/Pagination.js","MapComponents/Map.js","MapComponents/MapForSetUp.js","pages/SetUpLocationPage.js","pages/EventDetailPage.js","pages/EventDetailPageOwner.js","pages/EventDetailPageAdmin.js","pages/SignIn.js","action/UserFunctions.js","pages/SignUp.js","pages/AboutUs.js","pages/EventListPage.js","pages/EditLocationPage.js","components/Routes.js","components/Navbar.js","App.js","reducers/volunteers.js","reducers/events.js","reducers/accounts.js","reducers/reducer.js","index.js"],"names":["useStyles","makeStyles","searchBox","marginTop","boxShadow","input","width","height","fontSize","borderRadius","outline","padding","boxSizing","textOverflow","border","SearchBox","props","onPlacesChanged","controlPosition","google","maps","ControlPosition","TOP_LEFT","classes","searchBoxRef","useRef","ref","current","getPlaces","className","style","type","placeholder","actionAddEvents","event","payload","actionDeleteEventsRequest","id","dispatch","a","async","axios","method","url","data","then","res","console","log","actionDeleteEvents","catch","err","actionEditEventsRequest","actionEditEvents","actionFetchEventsRequest","actionFetchEvents","events","actionFetchEventsByIDRequest","eventId","actionFetchEventsByID","actionFetchEventsByOwner","actionFetchVolunteersByEmailRequest","email","actionFetchVolunteersByEmail","volunteer","actionAddVolunteersRequest","actionAddVolunteers","actionFetchVolunteersRequest","actionFetchVolunteers","volunteers","actionAddSiteVolunteerRequest","actionAddSiteVolunteer","actionFetchVolunteersBySiteRequest","siteID","actionFetchVolunteersBySite","volunteersBySite","actionDownloadVolunteersBySiteRequest","siteName","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","actionFetchAccountsByID","account","Pagination","state","pager","this","items","length","setPage","initialPage","prevProps","prevState","page","pageSize","totalPages","getPager","pageOfItems","slice","startIndex","endIndex","setState","onChangePage","totalItems","currentPage","startPage","endPage","Math","ceil","min","pages","Array","keys","map","i","onClick","index","key","React","Component","defaultProps","Bounce","styled","div","keyframes","bounce","Map","compose","withStateHandlers","isOpen","markerIndex","display","onToggleOpen","lat","lng","onSearch","displaySearch","withScriptjs","withGoogleMap","useState","zoom","setZoom","hasMarker","position","marker","setMarker","center","setCenter","place","geometry","location","MarkerClusterer","averageCenter","enableRetinaIcons","gridSize","point","animation","clean_site_id","parseFloat","cs_lat","cs_long","onCloseClick","onPositionChanged","cs_name","cs_address","to","MapUI","componentDidMount","child","stateUpdaters","displayItems","componentWillReceiveProps","onChildClick","keyword","organizerName","filterCity","filterDistrict","filterTime","getDate","bind","getTime","handleKeywordChange","handleOrganizerNameChange","onChangeFilterCity","onChangeFilterDistrict","onChangeFilterTime","createRef","timestamp","Date","toDateString","toLocaleTimeString","e","array","filter","value","toLowerCase","includes","cs_owner","cs_start_time","getHours","target","backgroundColor","name","onChange","class","selected","searchFunc","src","alt","paddingBottom","fontWeight","data-toggle","title","data-content","color","defaultOptions","scaleControl","googleMapURL","loadingElement","containerElement","mapElement","connect","MapForSetUp","defaultZoom","handleCall","address","formatted_address","MapForSetUpUI","parentCall","history","SetUpLocationPage","RegExp","handleStartDateTimeChange","eventStartDateTime","eventEndDateTime","handleEndDateTimeChange","get_end_of_date","date","setHours","get_7_days_after","setDate","get_24_hours_before","callBackFunc","childData","eventCoordLat","eventCoordLng","eventAdress","eventName","eventLocationName","eventDescription","public","ownerID","notify","showInternal","token","tokenName","nameErr","descErr","coordErr","timeErr","publicErr","locationNameErr","handleNameChange","handleLocationNameChange","handleCoordChange","handleDescriptionChange","onSubmit","nopublic","preventDefault","obj","cs_address_name","normalize","replace","cs_agenda","cs_end_time","cs_owner_name","cs_inex","userToken","localStorage","getItem","decoded","jwtDecode","acc_id","acc_username","Modal","ModalBody","alignItems","justifyContent","action","novalidate","rows","minDate","showTimeSelect","timeFormat","timeIntervals","dateFormat","timeCaption","onSelect","handleSelect","placeholderText","maxDate","excludeOutOfBoundsTimes","handleCoordChanges","for","on","validEmailRegex","EventDetailPage","toggleOpenForm","bool","showForm","get_100_years","eventAddress","eventLat","eventLng","eventDomain","eventDataCollected","eventOwner","ownerPhoto","eventPhoto","vltEmail","vltName","vltDOB","vltAddress","tools","tool","showSize","shirt","notify2","emailErr","handleVolunteerEmailChange","handleVolunteerNameChange","handleVolunteerAddressChange","handleVolunteerDOBChange","handleToolsChange","handleShirtChange","handleSizeChange","closeModal","match","eventID","params","fetchVolunteerBySite","cs_description","cs_amount_collected","sv_site","sv_volunteer","sv_cleanuptools","sv_shirt","obj1","vlt_name","vlt_email","vlt_dob","vlt_address","test","count","k","toLocaleDateString","backgroundSize","p_url","tabIndex","role","aria-labelledby","aria-hidden","peekNextMonth","showMonthDropdown","showYearDropdown","dropdownMode","fetchEventsById","fetchVolunteerByEmail","actionDownloadVolunteersBySite","siteid","sitename","EventDetailPageOwner","eventNumParticipants","eventParticipants","toString","openModal","showResultForm","closeForm","close","reload","fileSelectedHandler","files","addPreview","fileUploadHandler","FormData","append","post","tokenId","eventInEx","eventTrashWeight","eventRecyclableTrash","eventNonRecyclableTrash","eventOrganicTrash","file","imagePreviewUrl","eventToolReq","eventXSreq","eventSreq","eventMreq","eventLreq","eventXLreq","eventPay","notify3","errorNum","errorWeight","download","sendEmail","handleeventNumParticipantsChange","handleeventTrashWeightChange","removePreview","handleeventRecyclableTrashChange","handleeventNonRecyclableTrashChange","handleeventOrganicTrashChange","recent","splice","cs_ptcp_no","cs_recy","cs_non_recy","cs_organic","cs_rq_set","cs_xs_shirt","cs_s_shirt","cs_m_shirt","cs_l_shirt","cs_xl_shirt","cs_pay","sendEmailVolunteersBySite","reader","FileReader","readAsDataURL","onloadend","concat","result","recent2","fd","deleteBooking","pay","accept","multiple","fileInput","actionSendEmailVolunteersBySiteRequest","EventDetailPageAdmin","Boolean","SignIn","acc_email","acc_pass","passErr","loginErr","handleEmailChange","handlePasswordChange","handleFBClick","handleGmailClick","user","response","setItem","login","clear","Container","component","maxWidth","CssBaseline","paper","Typography","variant","form","noValidate","TextField","margin","required","fullWidth","label","autoComplete","autoFocus","Grid","container","item","Link","Box","mt","withStyles","flexDirection","SignUp","pop","acc_description","errors","usernameErr","handleUsernameChange","handleDescChange","newUser","acc_profile_pic","register","multiline","rowsMax","justify","AboutUS","EventListPage","Cryptr","readytodeleteEvent","idNow","nameNow","descNow","photoNow","handleChange","socialType","desc","photo","fetchEventsByOwner","user_id","user_name","actionDownloadEventsByAccount","scope","ownerid","ownerId","fetchAccountBySite","accountID","ownername","accountId","accountName","EditLocationPage","handleDataCollectedChange","Routes","exact","path","setUpLocation","eventDetailPage","eventDetailPageOwner","eventDetailPageAdmin","signIn","signUp","aboutUs","eventListPage","editLocationPage","Navbar","switch","signOut","removeItem","Button","App","initialState","accounts","appReducers","combineReducers","filtered","filteredEdit","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2fe9440c.chunk.js","sourcesContent":["/* global google */\r\nimport React, { useRef } from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { SearchBox as GoogleSearchBox } from 'react-google-maps/lib/components/places/SearchBox'\r\n\r\nconst useStyles = makeStyles({\r\n  searchBox: {\r\n    marginTop: 10,\r\n    boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n  },\r\n  input: {\r\n    width: 240,\r\n    height: 40,\r\n    fontSize: 14,\r\n    borderRadius: 3,\r\n    outline: `none`,\r\n    padding: `0 12px`,\r\n    boxSizing: `border-box`,\r\n    textOverflow: `ellipses`,\r\n    border: `1px solid transparent`,\r\n  },\r\n})\r\n\r\nconst SearchBox = props => {\r\n  const {\r\n    onPlacesChanged,\r\n    controlPosition = google.maps.ControlPosition.TOP_LEFT,\r\n  } = props\r\n\r\n  const classes = useStyles()\r\n  const searchBoxRef = useRef(null)\r\n\r\n  const onChange = () => {\r\n    onPlacesChanged(searchBoxRef.current.getPlaces()[0])\r\n  }\r\n  \r\n\r\n  return (\r\n    <GoogleSearchBox\r\n      ref={searchBoxRef}\r\n      onPlacesChanged={onChange}\r\n      controlPosition={controlPosition}\r\n    >\r\n      <div className={classes.searchBox} >\r\n        <input\r\n          style={{width: \"150%\"}}\r\n          type=\"text\"\r\n          placeholder={'Search landmarks, addresses & more...'}\r\n          className={classes.input}\r\n        />\r\n      </div>\r\n    </GoogleSearchBox>\r\n  )\r\n}\r\n\r\nexport default SearchBox\r\n","import * as Types from './constants.js';\r\nimport axios from 'axios'\r\n\r\n/////// ADD EVENTS\r\nexport const actionAddEventsRequest = (event) => {\r\n    return async (dispatch) => {\r\n        console.log(\"check\")\r\n        return axios({\r\n            method: 'POST',\r\n            url: 'http://localhost:3000/cleansite',\r\n            data: event\r\n        }).then(res => {\r\n            console.log(\"add event\", res.data)\r\n            dispatch(actionAddEvents(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionAddEvents = (event) => {\r\n    return {\r\n        type: Types.ADD_EVENTS,\r\n        payload: event\r\n    }\r\n}\r\n\r\n/////// DELETE EVENTS\r\nexport const actionDeleteEventsRequest = (id) => {\r\n    return async (dispatch) => {\r\n\r\n        return axios({\r\n            method: 'POST',\r\n            url: `http://localhost:3000/cleansite/delete/${id}`,\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data, \"data\")\r\n            dispatch(actionDeleteEvents(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionDeleteEvents = (res) => {\r\n    return {\r\n        type: Types.DELETE_EVENTS,\r\n        payload: res\r\n    }\r\n\r\n}\r\n\r\n/////// EDIT EVENTS\r\nexport const actionEditEventsRequest = (event, id) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'PUT',\r\n            url: `http://localhost:3000/cleansite/${id}`,\r\n            data: event\r\n        }).then(res => {\r\n            console.log(res.data, \"edited\")\r\n            dispatch(actionEditEvents(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionEditEvents = (event) => {\r\n    return {\r\n        type: Types.EDIT_EVENTS,\r\n        payload: event\r\n    }\r\n}\r\n\r\n/////// FETCH EVENTS\r\nexport const actionFetchEventsRequest = () => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: 'http://localhost:3000/cleansite/all',\r\n            data: null\r\n        }).then(res => {\r\n            dispatch(actionFetchEvents(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchEvents = (events) => {\r\n    return {\r\n        type: Types.FETCH_EVENTS,\r\n        payload: events\r\n    }\r\n}\r\n\r\n/////// FETCH EVENTS BY ID\r\nexport const actionFetchEventsByIDRequest = (eventId) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/cleansite/${eventId}`,\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data[0], \"get by id\")\r\n            dispatch(actionFetchEventsByID(res.data[0]))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchEventsByID = (event) => {\r\n    return {\r\n        type: Types.FETCH_EVENTS_BY_ID,\r\n        payload: event\r\n    }\r\n}\r\n\r\n/////// FETCH EVENTS BY OWNER\r\nexport const actionFetchEventsByOwnerRequest = (ownerId) => {\r\n    return async (dispatch) => {\r\n        console.log(ownerId, \"123\")\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/account/${ownerId}/ownevent`,\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data, \"get by owner\")\r\n            dispatch(actionFetchEventsByOwner(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchEventsByOwner = (events) => {\r\n    return {\r\n        type: Types.FETCH_EVENTS_BY_OWNER,\r\n        payload: events\r\n    }\r\n}\r\n\r\n/////// FETCH VOLUNTEERS BY EMAIL\r\nexport const actionFetchVolunteersByEmailRequest = (email) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/volunteer/${email}`,\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data[0], \"get by email\")\r\n            dispatch(actionFetchVolunteersByEmail(res.data[0]))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchVolunteersByEmail = (volunteer) => {\r\n    return {\r\n        type: Types.FETCH_VOLUNTEERS_BY_EMAIL,\r\n        payload: volunteer\r\n    }\r\n}\r\n\r\n/////// ADD VLOUNTEERS\r\nexport const actionAddVolunteersRequest = (volunteer) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'POST',\r\n            url: 'http://localhost:3000/volunteer',\r\n            data: volunteer\r\n        }).then(res => {\r\n            dispatch(actionAddVolunteers(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionAddVolunteers = (volunteer) => {\r\n    return {\r\n        type: Types.ADD_VOLUNTEERS,\r\n        payload: volunteer\r\n    }\r\n}\r\n\r\n/////// FETCH VOLUNTEERS\r\nexport const actionFetchVolunteersRequest = () => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: 'http://localhost:3000/volunteer/all',\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data, \"get all volunteers\")\r\n            dispatch(actionFetchVolunteers(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchVolunteers = (volunteers) => {\r\n    return {\r\n        type: Types.FETCH_VOLUNTEERS,\r\n        payload: volunteers\r\n    }\r\n}\r\n\r\n/////// ADD SITE-VOLUNTEER\r\nexport const actionAddSiteVolunteerRequest = (volunteer) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'POST',\r\n            url: 'http://localhost:3000/sitevolunteer',\r\n            data: volunteer\r\n        }).then(res => {\r\n            dispatch(actionAddSiteVolunteer(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionAddSiteVolunteer = (volunteer) => {\r\n    return {\r\n        type: Types.ADD_SITE_VOLUNTEER,\r\n        payload: volunteer\r\n    }\r\n}\r\n\r\n/////// FETCH VOLUNTEERS BY SITE\r\nexport const actionFetchVolunteersBySiteRequest = (siteID) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/cleansite/${siteID}/volunteer`,\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data, \"get by site id\")\r\n            dispatch(actionFetchVolunteersBySite(res.data))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchVolunteersBySite = (volunteersBySite) => {\r\n    return {\r\n        type: Types.FETCH_VOLUNTEERS_BY_SITE,\r\n        payload: volunteersBySite\r\n    }\r\n}\r\n\r\n/////// DOWNLOAD EVENTS BY ACCOUNT\r\nexport const actionDownloadEventsByAccountRequest = (accountId, accountName) => {\r\n    return async (dispatch) => {\r\n        console.log(accountId, \"id\")\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/account/${accountId}/ownevent/download`,\r\n            data: null,\r\n            responseType: 'blob'\r\n        }).then(res => {\r\n            console.log(res.data, \"get events by id\")\r\n            const url = window.URL.createObjectURL(new Blob([res.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', `${accountName} events.xlsx`);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n/////// DOWNLOAD VOLUNTEERS BY SITE\r\nexport const actionDownloadVolunteersBySiteRequest = (siteID, siteName) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/cleansite/${siteID}/volunteer/download`,\r\n            data: null,\r\n            responseType: 'blob'\r\n        }).then(res => {\r\n            console.log(res.data, \"get volunteers by site\")\r\n            const url = window.URL.createObjectURL(new Blob([res.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', `${siteName} volunteers.xlsx`);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n/////// SEND EMAIL VOLUNTEERS BY SITE\r\nexport const actionSendEmailVolunteersBySiteRequest = (siteID) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `http://localhost:3000/cleansite/${siteID}/mailvolunteer`,\r\n            data: null,\r\n        }).then(res => {\r\n            console.log(\"Sent email to volunteers by site\")\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n/////// FETCH ACCOUNT BY ID\r\nexport const actionFetchAccountsByIDRequest = (accountID) => {\r\n    return async (dispatch) => {\r\n        return axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/account/${accountID}`,\r\n            data: null\r\n        }).then(res => {\r\n            console.log(res.data[0], \"get by id\")\r\n            dispatch(actionFetchAccountsByID(res.data[0]))\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport const actionFetchAccountsByID = (account) => {\r\n    return {\r\n        type: Types.FETCH_ACCOUNTS_BY_ID,\r\n        payload: account\r\n    }\r\n}","export const ADD_EVENTS = 'ADD_EVENTS';\r\nexport const DELETE_EVENTS = 'DELETE_EVENTS';\r\nexport const EDIT_EVENTS = 'EDIT_EVENTS';\r\nexport const FETCH_EVENTS = 'FETCH_EVENTS';\r\nexport const FETCH_EVENTS_BY_ID = 'FETCH_EVENTS_BY_ID';\r\nexport const FETCH_EVENTS_BY_OWNER = 'FETCH_EVENTS_BY_OWNER';\r\n\r\nexport const FETCH_VOLUNTEERS_BY_EMAIL = 'FETCH_VOLUNTEERS_BY_EMAIL';\r\nexport const ADD_VOLUNTEERS = 'ADD_VLOUNTEERS';\r\nexport const FETCH_VOLUNTEERS = 'FETCH_VOLUNTEERS';\r\n\r\nexport const ADD_SITE_VOLUNTEER = 'ADD_SITE_VOLUNTEER';\r\nexport const FETCH_VOLUNTEERS_BY_SITE = 'FETCH_VOLUNTEERS_BY_SITE';\r\n\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const REGISTER = 'REGISTER';\r\nexport const INVALID = 'INVALID';\r\n\r\n\r\nexport const DOWNLOAD_EVENTS_BY_ACCOUNT = 'DOWNLOAD_EVENTS_BY_ACCOUNT';\r\n\r\nexport const FETCH_ACCOUNTS_BY_ID = 'FETCH_ACCOUNTS_BY_ID';\r\n\r\n","import React from 'react';\r\n// import './../css/imgStyle.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nconst propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n    onChangePage: PropTypes.func.isRequired,\r\n    initialPage: PropTypes.number,\r\n    pageSize: PropTypes.number\r\n}\r\n\r\nconst defaultProps = {\r\n    initialPage: 1,\r\n    pageSize: 20\r\n}\r\n\r\nclass Pagination extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { pager: {} };\r\n    }\r\n\r\n    componentWillMount() {\r\n        // set page if items array isn't empty\r\n        if (this.props.items && this.props.items.length) {\r\n            this.setPage(this.props.initialPage);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // reset page if items array has changed\r\n        if (this.props.items !== prevProps.items) {\r\n            this.setPage(this.props.initialPage);\r\n        }\r\n    }\r\n\r\n    setPage(page) {\r\n        var { items, pageSize } = this.props;\r\n        var pager = this.state.pager;\r\n\r\n        if (page < 1 || page > pager.totalPages) {\r\n            return;\r\n        }\r\n\r\n        // get new pager object for specified page\r\n        pager = this.getPager(items.length, page, pageSize);\r\n\r\n        // get new page of items from items array\r\n        var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\r\n\r\n        // update state\r\n        this.setState({ pager: pager });\r\n\r\n        // call change page function in parent component\r\n        this.props.onChangePage(pageOfItems);\r\n    }\r\n\r\n    getPager(totalItems, currentPage, pageSize) {\r\n        // default to first page\r\n        currentPage = currentPage;\r\n\r\n        // default page size is 10\r\n        pageSize = pageSize\r\n\r\n        // calculate total pages\r\n        var totalPages = Math.ceil(totalItems / pageSize);\r\n\r\n        var startPage, endPage;\r\n        if (totalPages <= 10) {\r\n            // less than 10 total pages so show all\r\n            startPage = 1;\r\n            endPage = totalPages;\r\n        } else {\r\n            // more than 10 total pages so calculate start and end pages\r\n            if (currentPage <= 6) {\r\n                startPage = 1;\r\n                endPage = 10;\r\n            } else if (currentPage + 4 >= totalPages) {\r\n                startPage = totalPages - 9;\r\n                endPage = totalPages;\r\n            } else {\r\n                startPage = currentPage - 5;\r\n                endPage = currentPage + 4;\r\n            }\r\n        }\r\n\r\n        // calculate start and end item indexes\r\n        var startIndex = (currentPage - 1) * pageSize;\r\n        var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\r\n\r\n        // create an array of pages to ng-repeat in the pager control\r\n        var pages = [...Array((endPage + 1) - startPage).keys()].map(i => startPage + i);\r\n\r\n        // return object with all pager properties required by the view\r\n        return {\r\n            totalItems: totalItems,\r\n            currentPage: currentPage,\r\n            pageSize: pageSize,\r\n            totalPages: totalPages,\r\n            startPage: startPage,\r\n            endPage: endPage,\r\n            startIndex: startIndex,\r\n            endIndex: endIndex,\r\n            pages: pages\r\n        };\r\n    }\r\n\r\n    render() {\r\n        var pager = this.state.pager;\r\n\r\n        if (!pager.pages || pager.pages.length <= 1) {\r\n            // don't display pager if there is only 1 page\r\n            return null;\r\n        }\r\n\r\n        return (\r\n\r\n            <ul className=\"pagination justify-content-center\">\r\n                <li className={pager.currentPage === 1 ? 'page-item disabled' : 'page-item'}>\r\n                    <a className=\"page-link\" onClick={() => this.setPage(1)}>First</a>\r\n                </li>\r\n                <li className={pager.currentPage === 1 ? 'page-item disabled' : 'page-item'}>\r\n                    <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage - 1)}>Previous</a>\r\n                </li>\r\n                {pager.pages.map((page, index) =>\r\n                    <li key={index} className={pager.currentPage === page ? 'page-item active' : 'page-item'}>\r\n                        <a className=\"page-link\" onClick={() => this.setPage(page)}>{page}</a>\r\n                    </li>\r\n                )}\r\n                <li className={pager.currentPage === pager.totalPages ? 'page-item disabled' : 'page-item'}>\r\n                    <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage + 1)}>Next</a>\r\n                </li>\r\n                <li className={pager.currentPage === pager.totalPages ? 'page-item disabled' : 'page-item'}>\r\n                    <a className=\"page-link\" onClick={() => this.setPage(pager.totalPages)}>Last</a>\r\n                </li>\r\n            </ul>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nPagination.propTypes = propTypes;\r\nPagination.defaultProps = defaultProps;\r\nexport default Pagination;\r\n","/*global google*/\r\nimport React, { Component, useState, useRef } from 'react'\r\nimport { compose, withProps, withStateHandlers, lifecycle, shouldUpdate } from 'recompose'\r\nimport { Marker, GoogleMap, withScriptjs, withGoogleMap, InfoWindow } from 'react-google-maps'\r\nimport { MarkerClusterer } from 'react-google-maps/lib/components/addons/MarkerClusterer'\r\nimport SearchBox from './SearchBox'\r\nimport { actionFetchEventsRequest } from '../action/actions'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport { bounce } from 'react-animations'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport Pagination from './../pages/Pagination'\r\n\r\nconst Bounce = styled.div`animation: 2s ${keyframes`${bounce}`} infinite`\r\n\r\nconst Map = compose(\r\n    withStateHandlers(() => ({\r\n        isOpen: false,\r\n        markerIndex: 0,\r\n        display: []\r\n    }), {\r\n        onToggleOpen: ({ isOpen }) => (index, lat, lng) => ({\r\n            isOpen: true,\r\n            markerIndex: index,\r\n            lat: lat,\r\n            lng: lng\r\n        }),\r\n        onSearch: ({ isOpen }) => (displaySearch) => ({\r\n            display: displaySearch\r\n        }),\r\n    },\r\n    ),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)(props => {\r\n    const mapRef = useRef(null)\r\n    const [zoom, setZoom] = useState(12)\r\n    const [marker, setMarker] = useState({ hasMarker: false, position: {} })\r\n    const [center, setCenter] = useState({ lat: 10.777428, lng: 106.695448 })\r\n\r\n    const zoomIn = (lat, lng) => {\r\n        setZoom(16)\r\n        setCenter({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n    }\r\n\r\n    const handlePlacesChanged = place => {\r\n        setZoom(16)\r\n        setCenter({\r\n            lat: place.geometry.location.lat(),\r\n            lng: place.geometry.location.lng(),\r\n        })\r\n        setMarker({\r\n            hasMarker: true,\r\n            position: {\r\n                lat: place.geometry.location.lat(),\r\n                lng: place.geometry.location.lng(),\r\n            },\r\n        })\r\n    }\r\n    return (\r\n        <GoogleMap zoom={zoom}\r\n                    center={center}\r\n                    style={{ height: '75vh' }}>\r\n            <Bounce>\r\n\r\n            <SearchBox onPlacesChanged={handlePlacesChanged} /></Bounce>\r\n            {marker.hasMarker}\r\n\r\n            <MarkerClusterer averageCenter\r\n                            enableRetinaIcons\r\n                            gridSize={30}>\r\n\r\n                {props.display.map((point, index) => (\r\n                    <Marker key={index}\r\n                            animation={props ? (point.clean_site_id === props.markerIndex ? '1' : '0') : '0'}\r\n                            position={{ lat: parseFloat(point.cs_lat), lng: parseFloat(point.cs_long) }}\r\n                            onClick={() => { props.onToggleOpen(index) }}>\r\n\r\n                        {props.isOpen && props.markerIndex === index &&\r\n                            // point.clean_site_id === props.markerIndex &&\r\n                            <InfoWindow onCloseClick={props.onToggleOpen} onPositionChanged={() => { zoomIn(parseFloat(point.cs_lat), parseFloat(point.cs_long)) }}>\r\n                                <div className=\"infoWindow\"  >\r\n                                    <h5>{point.cs_name}</h5>\r\n                                    <p style={{ fontSize: \"16px\" }}>{point.cs_address}</p>\r\n                                    <Link to={`/event-detail/${point.clean_site_id}`}>See more...</Link>\r\n                                </div>\r\n                            </InfoWindow>\r\n                        }\r\n                    </Marker>\r\n                ))}\r\n            </MarkerClusterer>\r\n        </GoogleMap>\r\n    )\r\n}\r\n);\r\n\r\n\r\nclass MapUI extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isOpen: false,\r\n            // events: [],\r\n            // marker: \"\",\r\n\r\n            displayItems: [],\r\n            pageOfItems: [],\r\n\r\n            keyword: '',\r\n            organizerName: \"\",\r\n            filterCity: \"\",\r\n            filterDistrict: \"\",\r\n            filterTime: \"\"\r\n        }\r\n        this.getDate = this.getDate.bind(this);\r\n        this.getTime = this.getTime.bind(this);\r\n        this.handleKeywordChange = this.handleKeywordChange.bind(this);\r\n        this.handleOrganizerNameChange = this.handleOrganizerNameChange.bind(this);\r\n        this.onChangeFilterCity = this.onChangeFilterCity.bind(this);\r\n        this.onChangeFilterDistrict = this.onChangeFilterDistrict.bind(this);\r\n        this.onChangeFilterTime = this.onChangeFilterTime.bind(this);\r\n        this.onChangePage = this.onChangePage.bind(this);\r\n        this.child = React.createRef();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.props.actionFetchEvents();\r\n        this.child.current.stateUpdaters.onSearch(this.props.events.events);\r\n        this.setState({ displayItems: this.props.events.events })\r\n    }\r\n\r\n    componentWillReceiveProps = (props) => {\r\n        this.child.current.stateUpdaters.onSearch(props.events.events);\r\n        this.setState({ displayItems: props.events.events })\r\n    }\r\n\r\n    getDate(timestamp) {\r\n        return new Date(timestamp).toDateString()\r\n    }\r\n\r\n    getTime(timestamp) {\r\n        return new Date(timestamp).toLocaleTimeString()\r\n    }\r\n\r\n    searchFunc(e) {\r\n        if (this.state.filterTime == \"Morning\") {\r\n            let array = this.props.events.events.filter(value =>\r\n                value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n                && value.cs_owner.toLowerCase().includes(this.state.organizerName.toLowerCase())\r\n                && value.cs_address.includes(this.state.filterDistrict)\r\n                && value.cs_address.includes(this.state.filterCity)\r\n                && new Date(value.cs_start_time).getHours() < 12)\r\n            this.setState({ displayItems: array })\r\n            this.child.current.stateUpdaters.onSearch(array);\r\n        } else if (this.state.filterTime == \"Afternoon\") {\r\n            let array = this.props.events.events.filter(value =>\r\n                value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n                && value.cs_owner.toLowerCase().includes(this.state.organizerName.toLowerCase())\r\n                && value.cs_address.includes(this.state.filterDistrict)\r\n                && value.cs_address.includes(this.state.filterCity)\r\n                && new Date(value.cs_start_time).getHours() < 17 && new Date(value.cs_start_time).getHours() >= 12)\r\n            this.setState({ displayItems: array })\r\n            this.child.current.stateUpdaters.onSearch(array);\r\n        } else if (this.state.filterTime == \"Evening\") {\r\n            let array = this.props.events.events.filter(value =>\r\n                value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n                && value.cs_owner.toLowerCase().includes(this.state.organizerName.toLowerCase())\r\n                && value.cs_address.includes(this.state.filterDistrict)\r\n                && value.cs_address.includes(this.state.filterCity)\r\n                && new Date(value.cs_start_time).getHours() < 21 && new Date(value.cs_start_time).getHours() >= 17)\r\n            this.setState({ displayItems: array })\r\n            this.child.current.stateUpdaters.onSearch(array);\r\n        } else if (this.state.keyword == \"\" && this.state.filterCity == \"\" && this.state.filterDistrict == \"\" && this.state.filterTime == \"\" && this.state.organizerName == \"\") {\r\n            this.setState({ displayItems: this.props.events.events })\r\n            this.child.current.stateUpdaters.onSearch(this.props.events.events);\r\n        } else if (this.state.filterTime == \"\") {\r\n            let array = this.props.events.events.filter(value =>\r\n                value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n                && value.cs_owner.toLowerCase().includes(this.state.organizerName.toLowerCase())\r\n                && value.cs_address.includes(this.state.filterDistrict)\r\n                && value.cs_address.includes(this.state.filterCity))\r\n            this.setState({ displayItems: array })\r\n            this.child.current.stateUpdaters.onSearch(array);\r\n\r\n        }\r\n        // this.child.current.stateUpdaters.onSearch(this.state.displayItems);\r\n    }\r\n\r\n    handleKeywordChange(e) {\r\n        this.setState({\r\n            keyword: e.target.value\r\n        });\r\n    }\r\n\r\n    handleOrganizerNameChange(e) {\r\n        this.setState({\r\n            organizerName: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeFilterCity(e) {\r\n        this.setState({\r\n            filterCity: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeFilterDistrict(e) {\r\n        this.setState({\r\n            filterDistrict: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeFilterTime(e) {\r\n        this.setState({\r\n            filterTime: e.target.value\r\n        })\r\n    }\r\n\r\n    onChildClick = (index, lat, lng) => {\r\n        this.child.current.stateUpdaters.onToggleOpen(index, lat, lng);\r\n    }\r\n\r\n    onChangePage(pageOfItems) {\r\n        this.setState({ pageOfItems: pageOfItems });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state, \"state\")\r\n        return (\r\n            <div className=\"App\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <br /><br /><br /><br /><br />\r\n\r\n                <div className=\"pageTitle\">Clean Up Events Around You</div>\r\n                <br />\r\n\r\n                <div className=\"form-inline container searchCenter\">\r\n\r\n                    <input className=\"form-control mr-sm-2 \"\r\n                        type=\"search\"\r\n                        placeholder=\"Event name...\"\r\n                        value={this.state.keyword}\r\n                        name=\"keyword\"\r\n                        onChange={this.handleKeywordChange}\r\n                    />\r\n\r\n                    <input className=\"form-control mr-sm-2 \"\r\n                        type=\"search\"\r\n                        placeholder=\"Organizer name...\"\r\n                        value={this.state.organizerName}\r\n                        name=\"organizerName\"\r\n                        onChange={this.handleOrganizerNameChange}\r\n                    />\r\n\r\n                    <div class=\"form-row align-items-center\">\r\n                        <div class=\"col-auto my-1\">\r\n                            <select class=\"custom-select mr-sm-2\"\r\n                                value={this.state.filterCity}\r\n                                onChange={this.onChangeFilterCity}>\r\n                                <option selected value=\"\">City...</option>\r\n                                <option>Ho Chi Minh</option>    <option>Ha Noi</option> <option>Ba Ria - Vung Tau</option>  <option>Da Nang</option>\r\n                                <option>Can Tho</option>   <option>An Giang</option>    <option>Bac Giang</option>  <option>Bac Kan</option>    <option>Bac Lieu</option>\r\n                                <option>Bac Ninh</option>  <option>Ben Tre</option>     <option>Binh Dinh</option>    <option>Binh Duong</option>\r\n                                <option>Binh Phuoc</option>  <option>Binh Thuan</option>    <option>Ca Mau</option>  <option>Cao Bang</option>\r\n                                <option>Dak Lak</option>    <option>Dak Nong</option>  <option>Dien Bien</option>   <option>Dong Nai</option>\r\n                                <option>Dong Thap</option>  <option>Gia Lai</option>    <option>Ha Giang</option>   <option>Ha Nam</option>\r\n                                <option>Ha Tinh</option>    <option>Hai Duong</option>  <option>Hai Phong</option>    <option>Hau Giang</option>\r\n                                <option>Hoa Binh</option>   <option>Hung Yen</option>  <option>Khanh Hoa</option>\r\n                                <option>Kien Giang</option>  <option>Kon Tum</option>   <option>Lai Chau</option>  <option>Lam Dong</option>\r\n                                <option>Lang Son</option>  <option>Lao Cai</option>     <option>Long An</option>    <option>Nam Dinh</option>\r\n                                <option>Nghe An</option>    <option>Ninh Binh</option>  <option>Ninh Thuan</option>  <option>Phu Tho</option>\r\n                                <option>Phu Yen</option>    <option>Quang Binh</option>     <option>Quang Nam</option>    <option>Quang Ngai</option>\r\n                                <option>Quang Ninh</option>  <option>Quang Tri</option>     <option>Soc Trang</option>    <option>Son La</option>\r\n                                <option>Tay Ninh</option>      <option>Thai Binh</option>   <option>Thai Nguyen</option>    <option>Thanh Hoa</option>\r\n                                <option>Thua Thien Hue</option>  <option>Tien Giang</option>    <option>Tra Vinh</option>  <option>Tuyen Quang</option>\r\n                                <option>Vinh Long</option>    <option>Vinh Phuc</option>    <option>Yen Bai</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-auto my-1\">\r\n                            {this.state.filterCity == \"\" &&\r\n                                <select class=\"custom-select mr-sm-2\"\r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterDistrict}\r\n                                    onChange={this.onChangeFilterDistrict}>\r\n                                    <option selected value=\"\">District...</option>\r\n                                </select>\r\n                            }\r\n                            {this.state.filterCity.toLowerCase() == \"ho chi minh\" &&\r\n                                <select class=\"custom-select mr-sm-2\"\r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterDistrict}\r\n                                    onChange={this.onChangeFilterDistrict}>\r\n                                    <option selected value=\"\">District...</option>\r\n                                    <option>Quan 1</option>    <option>Quan 2</option>  <option>Quan 3</option>    <option>Quan 4</option>\r\n                                    <option>Quan 5</option>    <option>Quan 6</option>  <option>Quan 7</option>    <option>Quan 8</option>\r\n                                    <option>Quan 9</option>    <option>Quan 10</option> <option>Quan 11</option>   <option>Quan 12</option>\r\n                                    <option>Binh Tan</option>  <option>Binh Thanh</option>   <option>Go Vap</option>       <option>Phu Nhuan</option>\r\n                                    <option>Tan Binh</option>  <option>Tan Phu</option> <option>Thu Duc</option>    <option>Binh Chanh</option>\r\n                                    <option>Can Gio</option>      <option>Cu Chi</option>   <option>Hoc Mon</option>    <option>Nha Be</option>\r\n                                </select>\r\n                            }\r\n                            {this.state.filterCity.toLowerCase() == \"ha noi\" &&\r\n                                <select class=\"custom-select mr-sm-2\"\r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterDistrict}\r\n                                    onChange={this.onChangeFilterDistrict}>\r\n                                    <option selected>District...</option>\r\n                                    <option>Ba Dinh</option>    <option>Hoan Kiem</option>  <option>Hai Ba Trung</option>    <option>Dong Da</option>\r\n                                    <option>Cau Giay</option>    <option>Long Bien</option>  <option>Hoang Mai</option>    <option>Soc Son</option>\r\n                                    <option>Bac Tu Liem</option>    <option>Thanh Tri</option> <option>Gia Lam</option>   <option>Ba Vi</option>\r\n                                    <option>Chuong My</option>  <option>Dan Phuong</option>   <option>Hoai Duc</option>       <option>My Duc</option>\r\n                                    <option>Phu Xuyen</option>  <option>Phu Tho</option> <option>Quoc Oai</option>    <option>Thach That</option>\r\n                                    <option>Thanh Oai</option>      <option>Thuong Tin</option>   <option>Ung Hoa</option>    <option>Me Linh</option>\r\n                                    <option>Ha Dong</option>    <option>Son Tay</option>    <option>Dong Anh</option>   <option>Nam Tu Liem</option>\r\n                                    <option>Thanh Xuan</option>    <option>Tay Ho</option>\r\n                                </select>\r\n                            }\r\n                        </div>\r\n\r\n                        <div class=\"col-auto my-1\">\r\n                            <select class=\"custom-select mr-sm-2\"\r\n                                id=\"inlineFormCustomSelect\"\r\n                                value={this.state.filterTime}\r\n                                onChange={this.onChangeFilterTime}>\r\n                                <option selected value=\"\">Time...</option>\r\n                                <option>Morning</option>\r\n                                <option>Afternoon</option>\r\n                                <option>Evening</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button className=\"btn searchBtn my-2 my-sm-0 col-md-1\"\r\n                        onClick={this.searchFunc.bind(this)}>\r\n                        <img className=\"kinhlup\" src=\"https://www.stickpng.com/assets/images/585e4ae9cb11b227491c3394.png\" width=\"27px\" height=\"30px\" alt=\"No Logo\" />\r\n                    </button>\r\n\r\n                    <a href=''>\r\n                        <button type=\"button\" className=\"btn btn-danger btn-sm\" >\r\n                            Clear\r\n                        </button>\r\n                    </a>\r\n\r\n                </div>\r\n\r\n                <br />\r\n\r\n                <div className=\"row\">\r\n                    <div className='col-1'>\r\n                        <div>\r\n                            <img src=\"http://vietnamsachvaxanh.org/wp-content/uploads/vespa-adventures.png\" width=\"150%\" height=\"150%\" />\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        {this.state.displayItems.length == 0 &&\r\n                            <div>\r\n                                <h6 className='container'>No events match your filters.</h6>\r\n                            </div>\r\n                        }\r\n                        {this.state.pageOfItems.map((event, index) =>\r\n                            <div style={{ paddingBottom: \"10px\" }}>\r\n                                <div className=\"card\" onClick={() => this.onChildClick(index, event.cs_lat, event.cs_long)} >\r\n                                    <div class=\"card-body\">\r\n                                        <h5 class=\"card-title\">{event.cs_name} <span style={{ fontWeight: \"normal\", fontSize: \"16px\" }}>\r\n                                            <a type=\"button\" class=\"btn btn-lg btn-danger\" data-toggle=\"popover\" title=\"Popoverrr title\" data-content=\"And here's some amazing content. It's very engaging. Right?\" class=\"card-link\" style={{ color: \"black\" }}>\r\n                                                by {event.cs_owner}\r\n                                            </a>\r\n                                        </span></h5>\r\n                                        <h6 class=\"card-subtitle mb-2 text-muted\">{this.getDate(event.cs_start_time)}, {this.getTime(event.cs_start_time)}</h6>\r\n                                        <a href={`/#/event-detail/${event.clean_site_id}`} class=\"card-link\">See more...</a>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {this.state.displayItems.length !== 0 &&\r\n                            <Pagination pageSize={2} initialPage={1} items={this.state.displayItems} onChangePage={this.onChangePage.bind(this)} />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"col-6 container\" >\r\n                        <Map\r\n                            ref={this.child}\r\n                            events={this.props.events}\r\n                            defaultOptions={{ scaleControl: true }}\r\n                            googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyAbyEx4KJzCcJDrK_s-B4RaRMIrxceYSfQ&libraries=visualization,drawing,geometry,places`}\r\n                            loadingElement={<div style={{ height: '100%' }}> Loading... </div>}\r\n                            containerElement={<div style={{ height: '75vh' }} />}\r\n                            mapElement={<div style={{ height: '100%' }} />}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"col-1\">\r\n                        <div>\r\n                            <img src=\"http://vietnamsachvaxanh.org/wp-content/uploads/vespa-adventures.png\" width=\"150%\" height=\"150%\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        events: state.events,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        actionFetchEvents: () => { dispatch(actionFetchEventsRequest()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MapUI)","import React, { Component, useState, useRef } from 'react'\r\nimport { compose, withProps, withStateHandlers } from 'recompose'\r\nimport {\r\n    Marker,\r\n    GoogleMap,\r\n    withScriptjs,\r\n    withGoogleMap,\r\n    InfoWindow\r\n} from 'react-google-maps'\r\nimport SearchBox from './SearchBox'\r\n\r\n\r\nconst MapForSetUp = compose(\r\n\r\n    withStateHandlers(() => ({\r\n        isOpen: false,\r\n        markerIndex: 0\r\n    }), {\r\n        onToggleOpen: ({ isOpen }) => (index) => ({\r\n            isOpen: !isOpen,\r\n            markerIndex: index\r\n        })\r\n    }),\r\n    \r\n    withScriptjs,\r\n    withGoogleMap\r\n)(props => {\r\n    const [marker, setMarker] = useState({ hasMarker: false, position: {} })\r\n    const [center, setCenter] = useState({ lat: 10.729572, lng: 106.693748 })\r\n    \r\n    const handlePlacesChanged = place => {\r\n        setCenter({\r\n            lat: place.geometry.location.lat(),\r\n            lng: place.geometry.location.lng(),\r\n        })\r\n        setMarker({\r\n            hasMarker: true,\r\n            position: {\r\n                lat: place.geometry.location.lat(),\r\n                lng: place.geometry.location.lng(),\r\n            },\r\n            \r\n        })\r\n        props.handleCall({\r\n            lat: place.geometry.location.lat(),\r\n            lng: place.geometry.location.lng(),\r\n            address: place.formatted_address\r\n        })\r\n    }\r\n\r\n    \r\n    return (\r\n        \r\n        <GoogleMap\r\n            defaultZoom={14}\r\n            center={center}\r\n        >\r\n            <SearchBox onPlacesChanged={handlePlacesChanged} />\r\n            {marker.hasMarker && <Marker position={marker.position} />}\r\n        </GoogleMap>\r\n    )\r\n}\r\n);\r\n\r\n\r\n\r\nclass MapForSetUpUI extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isOpen: false\r\n        }\r\n        this.onToggleOpen = this.onToggleOpen.bind(this);\r\n    }\r\n\r\n    onToggleOpen() {\r\n        this.setState({\r\n            isOpen: !this.state.isOpen\r\n        });\r\n    }\r\n\r\n    parentCall = (data) => {\r\n        console.log(data, \"hjhj\");\r\n        this.props.history(data);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <MapForSetUp\r\n                    handleCall = {this.parentCall}\r\n                    defaultOptions={{ scaleControl: true }}\r\n                    googleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyAbyEx4KJzCcJDrK_s-B4RaRMIrxceYSfQ&libraries=visualization,drawing,geometry,places`}\r\n                    loadingElement={<div style={{ height: '100%' }}> Loading... </div>}\r\n                    containerElement={<div style={{ height: '48vh', width: '100%' }} />}\r\n                    mapElement={<div style={{ height: '100%' }} />}\r\n                />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default MapForSetUpUI","import React, { Component } from 'react';\r\nimport { actionAddEventsRequest } from '../action/actions'\r\nimport { connect } from 'react-redux'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './../css/style.css'\r\nimport MapForSetUpUI from '../MapComponents/MapForSetUp';\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { Link } from 'react-router-dom';\r\nimport jwtDecode from 'jwt-decode'\r\nimport \"./../css/customDatePickerWidth.css\"\r\nimport SearchBox from './../MapComponents/SearchBox'\r\nimport { FusionTablesLayer } from 'react-google-maps';\r\n\r\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\r\n\r\nclass SetUpLocationPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventName: '',\r\n            eventLocationName: '',\r\n            eventAdress: \"\",\r\n            eventCoordLat: '',\r\n            eventCoordLng: '',\r\n            eventDescription: '',\r\n            eventStartDateTime: this.get_7_days_after(),\r\n            eventEndDateTime: this.get_7_days_after(),\r\n            public: 'public',\r\n            ownerID: '',\r\n\r\n            notify: false,\r\n            showInternal: false,\r\n            token: '',\r\n            tokenName: '',\r\n            nameErr: false,\r\n            descErr: false,\r\n            coordErr: false,\r\n            timeErr: false,\r\n            publicErr: false,\r\n            locationNameErr: false\r\n        }\r\n        this.handleNameChange = this.handleNameChange.bind(this)\r\n        this.handleLocationNameChange = this.handleLocationNameChange.bind(this)\r\n        this.handleCoordChange = this.handleCoordChange.bind(this)\r\n        this.handleStartDateTimeChange = this.handleStartDateTimeChange.bind(this)\r\n        this.handleEndDateTimeChange = this.handleEndDateTimeChange.bind(this)\r\n        this.handleDescriptionChange = this.handleDescriptionChange.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n        this.public = this.public.bind(this)\r\n        this.nopublic = this.nopublic.bind(this)\r\n    }\r\n\r\n    handleNameChange(e) {\r\n        this.setState({\r\n            eventName: e.target.value\r\n        });\r\n    }\r\n\r\n    handleLocationNameChange(e) {\r\n        this.setState({\r\n            eventLocationName: e.target.value\r\n        });\r\n    }\r\n\r\n    handleCoordChange() {\r\n        this.setState({\r\n            eventCoordLat: this.childData.lat,\r\n            eventCoordLng: this.childData.lng\r\n        });\r\n    }\r\n\r\n    handleStartDateTimeChange = (e) => {\r\n        this.setState({\r\n            eventStartDateTime: e,\r\n            eventEndDateTime: e\r\n        })\r\n    }\r\n\r\n    handleEndDateTimeChange = (e) => {\r\n        this.setState({\r\n            eventEndDateTime: e\r\n        });\r\n    }\r\n\r\n    handleDescriptionChange(e) {\r\n        this.setState({\r\n            eventDescription: e.target.value\r\n        });\r\n    }\r\n\r\n    get_end_of_date = () => {\r\n        var date = new Date();\r\n        date.setHours(23);\r\n        return date;\r\n    }\r\n    get_7_days_after = () => {\r\n        var date = new Date();\r\n        date.setDate(date.getDate() + 7);\r\n        return date;\r\n    }\r\n    get_24_hours_before = () => {\r\n        var date = this.state.eventEndDateTime;\r\n        date.setDate(date.getHours);\r\n        return date;\r\n    }\r\n\r\n    public(e) {\r\n        this.setState({\r\n            showInternal: false,\r\n            public: e.target.value\r\n        })\r\n    }\r\n\r\n    nopublic(e) {\r\n        this.setState({\r\n            showInternal: true,\r\n            public: e.target.value\r\n        })\r\n    }\r\n\r\n    callBackFunc = (childData) => {\r\n        console.log(\"called from parent\")\r\n        this.setState({ eventCoordLat: childData.lat, eventCoordLng: childData.lng, eventAdress: childData.address })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const obj = {\r\n            cs_name: this.state.eventName,\r\n            cs_address_name: this.state.eventLocationName,\r\n            cs_address: this.state.eventAdress.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\"),\r\n            cs_lat: this.state.eventCoordLat,\r\n            cs_long: this.state.eventCoordLng,\r\n            cs_agenda: this.state.eventDescription,\r\n            cs_start_time: this.state.eventStartDateTime,\r\n            cs_end_time: this.state.eventEndDateTime,\r\n            cs_owner: this.state.token,\r\n            cs_owner_name: this.state.tokenName,\r\n            cs_inex: this.state.public\r\n        };\r\n        if (this.state.eventName === \"\") {\r\n            this.setState({\r\n                nameErr: true,\r\n                descErr: false,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventDescription === \"\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: true,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventStartDateTime.getDate() == this.state.eventEndDateTime.getDate()\r\n            && this.state.eventStartDateTime.getTime() >= this.state.eventEndDateTime.getTime()) {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                locationNameErr: false,\r\n                coordErr: false,\r\n                timeErr: true,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventLocationName === \"\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: false,\r\n                locationNameErr: true,\r\n                timeErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventCoordLat === \"\" || this.state.eventCoordLng === \"\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: true,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.public === \"public\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                publicErr: true,\r\n                locationNameErr: false,\r\n            })\r\n        }\r\n        //after passing all validations\r\n        else {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                publicErr: false,\r\n                locationNameErr: false,\r\n            })\r\n            this.props.actionAddEvents(obj)\r\n            this.setState({\r\n                eventName: \"\",\r\n                eventAdress: \"\",\r\n                eventCoordLat: \"\",\r\n                eventCoordLng: \"\",\r\n                eventDescription: \"\",\r\n                eventEndDateTime: \"\",\r\n                eventStartDateTime: \"\",\r\n                notify: true,\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userToken = localStorage.getItem(\"usertoken\")\r\n        if (typeof userToken !== \"undefined\" && userToken !== null) {\r\n            var decoded = jwtDecode(userToken);\r\n            const id = decoded.acc_id;\r\n            this.setState({ token: decoded.acc_id, tokenName: decoded.acc_username })\r\n        } else {\r\n            window.location.href = \"/#/sign-in\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state, \"state\")\r\n        return (\r\n            <div className=\"App\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <br /><br /><br /><br /><br />\r\n                <Modal isOpen={this.state.notify}>\r\n                    <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Event successfully created!</h5></ModalBody>\r\n                    <ModalBody>\r\n                        <Link to={`/event-list`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                            <button className=\"btn btn-success btn-sm\">\r\n                                Go to List Page\r\n                                </button>\r\n                        </Link>\r\n                    </ModalBody>\r\n                </Modal>\r\n                <div className=\"pageTitle\">Create New Event</div>\r\n                <br />\r\n                <form action='#' id='book-form' className=\"{formStatus} needs-validation\" onSubmit={this.onSubmit} novalidate>\r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-6\">\r\n                            <div className=\"form-group\">\r\n                                <label>Event Name *</label>\r\n                                <input type=\"text\" className=\"col\"\r\n                                    placeholder=\"name...\"\r\n                                    className=\"form-control\"\r\n                                    value={this.state.eventName}\r\n                                    onChange={this.handleNameChange}\r\n                                />\r\n                                {this.state.nameErr &&\r\n                                    <span className='error'>Please fill in this field!</span>}\r\n                            </div>\r\n\r\n                            <div class=\"form-group\">\r\n                                <label>Agenda *</label>\r\n                                <textarea placeholder=\"tell everyone a bit about your event...\"\r\n                                    class=\"form-control\"\r\n                                    id=\"exampleFormControlTextarea1\"\r\n                                    rows=\"14\"\r\n                                    value={this.state.eventDescription}\r\n                                    onChange={this.handleDescriptionChange}\r\n                                >\r\n                                </textarea>\r\n                                {this.state.descErr &&\r\n                                    <span className='error'>Please fill in this field!</span>}\r\n                            </div>\r\n\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                                    <label>Start Date / Time *</label>\r\n                                    <div className=\"form-group customDatePickerWidth\">\r\n                                        <DatePicker\r\n                                            className='form-control'\r\n                                            selected={this.state.eventStartDateTime}\r\n                                            minDate={this.get_7_days_after()}\r\n                                            showTimeSelect\r\n                                            timeFormat=\"HH:mm\"\r\n                                            timeIntervals={30}\r\n                                            dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                                            timeCaption=\"Time\"\r\n                                            onSelect={this.handleSelect}\r\n                                            placeholderText=\"date / time\"\r\n                                            onChange={this.handleStartDateTimeChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col\">\r\n                                    <label>End Date / Time of Event *</label>\r\n                                    <div className=\"form-group customDatePickerWidth\">\r\n                                        <DatePicker\r\n                                            className='form-control'\r\n                                            selected={this.state.eventEndDateTime}\r\n                                            minDate={this.state.eventStartDateTime}\r\n                                            maxDate={this.state.eventStartDateTime}\r\n                                            showTimeSelect\r\n                                            excludeOutOfBoundsTimes\r\n                                            timeFormat=\"HH:mm\"\r\n                                            timeIntervals={30}\r\n                                            dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                                            timeCaption=\"time\"\r\n                                            onSelect={this.handleSelect}\r\n                                            placeholderText=\"date / time\"\r\n                                            onChange={this.handleEndDateTimeChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {this.state.timeErr &&\r\n                                <span className='error'>Invalid end time!</span>}\r\n\r\n                        </div>\r\n\r\n                        <br />\r\n\r\n                        <div className=\"col-6\">\r\n                            <div className=\"form-group\">\r\n                                <label>Location Name *</label>\r\n                                <input type=\"text\" className=\"col\"\r\n                                    placeholder=\"location name...\"\r\n                                    className=\"form-control\"\r\n                                    value={this.state.eventLocationName}\r\n                                    onChange={this.handleLocationNameChange}\r\n                                />\r\n                                {this.state.locationNameErr &&\r\n                                    <span className='error'>Please fill in this field!</span>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label>Location Address *</label>\r\n                                <div>\r\n                                    <MapForSetUpUI history={this.callBackFunc} onChange={this.handleCoordChanges} />\r\n                                    {this.state.coordErr &&\r\n                                        <span className='error'>Please choose your location!</span>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <br />\r\n\r\n                            <div>\r\n                                <label>External or Internal event? *</label>\r\n                                <div className=\"form-group\">\r\n                                    <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                        <input type=\"radio\"\r\n                                            id=\"customRadio1\"\r\n                                            name=\"customRadio\"\r\n                                            class=\"custom-control-input\"\r\n                                            value=''\r\n                                            onChange={this.public}\r\n                                        />\r\n                                        <label class=\"custom-control-label\" for=\"customRadio1\">External</label>\r\n                                    </div>\r\n                                    <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                        <input type=\"radio\"\r\n                                            id=\"customRadio2\"\r\n                                            name=\"customRadio\"\r\n                                            class=\"custom-control-input\"\r\n                                            value={this.state.public}\r\n                                            onChange={this.nopublic}\r\n                                        />\r\n                                        <label class=\"custom-control-label\" for=\"customRadio2\">Internal</label>\r\n                                    </div>\r\n                                    {this.state.showInternal && \r\n                                        <div className=\"form-group\">\r\n                                        <label>Email domain name *</label>\r\n                                        <input type=\"text\" className=\"col\"\r\n                                            placeholder=\"domain name...\"\r\n                                            className=\"form-control\"\r\n                                            onChange={this.nopublic}\r\n                                        />\r\n                                        {this.state.nameErr &&\r\n                                            <span className='error'>Please fill in this field!</span>}\r\n                                    </div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            {this.state.publicErr &&\r\n                                <span className='error'>Please choose an option!</span>}\r\n                        </div>\r\n\r\n                        <br />\r\n\r\n                    </div>\r\n\r\n                    <br />\r\n                    <br />\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }} >\r\n                        <button className=\"btn btnColor btn-lg\" type=\"submit\" on>Create</button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        actionAddEvents: (obj) => { dispatch(actionAddEventsRequest(obj)) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SetUpLocationPage)","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {\r\n    actionFetchEventsByIDRequest,\r\n    actionFetchVolunteersByEmailRequest,\r\n    actionAddSiteVolunteerRequest,\r\n    actionAddVolunteersRequest,\r\n    actionFetchVolunteersRequest,\r\n    actionFetchVolunteersBySiteRequest,\r\n    actionDownloadVolunteersBySiteRequest\r\n} from '../action/actions'\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\r\n\r\nclass EventDetailPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventId: '',\r\n            eventName: '',\r\n            eventAddress: '',\r\n            eventDescription: '',\r\n            eventStartDateTime: '',\r\n            eventEndDateTime: '',\r\n            eventLat: '',\r\n            eventLng: '',\r\n            eventDomain: '',\r\n            eventDataCollected: '',\r\n            eventOwner: '',\r\n            ownerPhoto: '',\r\n            eventPhoto: '',\r\n\r\n            vltEmail: '',\r\n            vltName: '',\r\n            vltDOB: '',\r\n            vltAddress: '',\r\n            tools: '',\r\n            tool: false,\r\n            showSize: false,\r\n            shirt: '',\r\n\r\n            account: [],\r\n\r\n            showForm: false,\r\n            notify: false,\r\n            notify2: false,\r\n            emailErr: false\r\n        }\r\n        this.handleVolunteerEmailChange = this.handleVolunteerEmailChange.bind(this)\r\n        this.handleVolunteerNameChange = this.handleVolunteerNameChange.bind(this)\r\n        this.handleVolunteerAddressChange = this.handleVolunteerAddressChange.bind(this)\r\n        this.handleVolunteerDOBChange = this.handleVolunteerDOBChange.bind(this)\r\n        this.handleToolsChange = this.handleToolsChange.bind(this)\r\n        this.handleShirtChange = this.handleShirtChange.bind(this)\r\n        this.handleSizeChange = this.handleSizeChange.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n        this.closeModal = this.closeModal.bind(this)\r\n        this.toggleOpenForm = this.toggleOpenForm.bind(this)\r\n    }\r\n\r\n    handleVolunteerEmailChange(e) {\r\n        this.setState({\r\n            vltEmail: e.target.value\r\n        });\r\n    }\r\n\r\n    handleVolunteerNameChange(e) {\r\n        this.setState({\r\n            vltName: e.target.value\r\n        });\r\n    }\r\n\r\n    handleVolunteerAddressChange(e) {\r\n        this.setState({\r\n            vltAddress: e.target.value\r\n        });\r\n    }\r\n\r\n    handleVolunteerDOBChange(e) {\r\n        this.setState({\r\n            vltDOB: e\r\n        });\r\n    }\r\n\r\n    handleToolsChange(e) {\r\n        this.setState({\r\n            tool: !this.state.tool\r\n        });\r\n    }\r\n\r\n    handleShirtChange(e) {\r\n        this.setState({\r\n            showSize: !this.state.showSize\r\n        });\r\n    }\r\n\r\n    handleSizeChange(e) {\r\n        this.setState({\r\n            shirt: e.target.value\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.actionFetchVolunteers()\r\n        this.setState({ account: this.props.volunteers.volunteers })\r\n        var { match } = this.props\r\n        if (match) {\r\n            var eventID = match.params.eventID\r\n            this.props.fetchVolunteerBySite(eventID)\r\n            axios({\r\n                method: 'GET',\r\n                url: `http://localhost:8081/cleansite/${eventID}`,\r\n                data: null\r\n            }).then(res => {\r\n                var data = res.data[0]\r\n                axios({\r\n                    method: 'GET',\r\n                    url: `http://localhost:3000/photo/owner/${data.cs_owner}/photo`,\r\n                    data: null\r\n                }).then(res => {\r\n                    this.setState({\r\n                        ownerPhoto: res.data\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n\r\n                axios({\r\n                    method: 'GET',\r\n                    url: `http://localhost:3000/photo/site/${eventID}/photo`,\r\n                    data: null\r\n                }).then(res => {\r\n                    this.setState({\r\n                        eventPhoto: res.data\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n\r\n                this.setState({\r\n                    eventId: data.clean_site_id,\r\n                    eventName: data.cs_name,\r\n                    eventAddress: data.cs_address,\r\n                    eventDescription: data.cs_description,\r\n                    eventStartDateTime: data.cs_start_time,\r\n                    eventEndDateTime: data.cs_end_time,\r\n                    eventLat: data.cs_lat,\r\n                    eventLng: data.cs_long,\r\n                    eventDataCollected: data.cs_amount_collected,\r\n                    eventOwner: data.cs_owner,\r\n                    eventDomain: data.cs_inex\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const obj = {\r\n            sv_site: this.state.eventId,\r\n            sv_volunteer: this.state.vltEmail,\r\n            sv_cleanuptools: this.state.tool,\r\n            sv_shirt: this.state.shirt\r\n        }\r\n        const obj1 = {\r\n            vlt_name: this.state.vltName,\r\n            vlt_email: this.state.vltEmail,\r\n            vlt_dob: this.state.vltDOB,\r\n            vlt_address: this.state.vltAddress\r\n        }\r\n        if (this.state.vltEmail === \"\" || validEmailRegex.test(this.state.vltEmail) === false || !this.state.vltEmail.includes(this.state.eventDomain)) {\r\n            this.setState({\r\n                emailErr: true,\r\n            })\r\n        } else {\r\n            this.setState({\r\n                emailErr: false,\r\n            })\r\n            if (this.state.showForm == false) {\r\n                var count = 0\r\n                for (let i = 0; i < this.props.volunteers.volunteers.length; i++) {     //Chay nguyen cai volunteer\r\n                    if (this.props.volunteers.volunteers[i].vlt_email == this.state.vltEmail) {\r\n                        count += 1  //So vlt email voi tat ca mail, neu co\r\n                        if (this.props.volunteers.volunteersBySite.length == 0) {   //Neu site chua co ai\r\n                            this.props.actionAddSiteVolunteer(obj)\r\n                            this.setState({\r\n                                vltEmail: \"\"\r\n                            })\r\n                            this.setState({ notify: true })\r\n                            console.log(\"added old volunteer to event 11\")\r\n                        }\r\n                        else {\r\n                            for (let k = 0; k < this.props.volunteers.volunteersBySite.length; k++) { // Neu site co\r\n                                console.log(this.props.volunteers.volunteersBySite[k])\r\n                                if (this.props.volunteers.volunteersBySite[k].vlt_email == this.state.vltEmail) {\r\n                                    console.log(\"this volunteer already registered this site\")\r\n                                    this.setState({ notify2: true })\r\n                                    break\r\n                                }\r\n                                this.props.actionAddSiteVolunteer(obj)\r\n                                this.setState({\r\n                                    vltEmail: \"\"\r\n                                })\r\n                                console.log(\"added old volunteer to event\")\r\n                                this.setState({ notify: true })\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                }\r\n                console.log(count)\r\n                if (count == 0) {\r\n                    console.log(\"open form\")\r\n                    this.setState({ showForm: !this.state.showForm })\r\n                }\r\n            }\r\n            if (this.state.showForm == true) {\r\n                this.props.actionAddVolunteers(obj1)\r\n                this.props.actionAddSiteVolunteer(obj)\r\n                console.log(\"added new volunteer\")\r\n                this.setState({ notify: true })\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleOpenForm = (bool) => {\r\n        this.setState({\r\n            showForm: !this.state.showForm\r\n        });\r\n    }\r\n\r\n    //func to get 100 years before today\r\n    get_100_years = () => {\r\n        var date = new Date();\r\n        date.setDate(date.getDate() - 36500);\r\n        return date;\r\n    }\r\n\r\n    //get date from timestamp \r\n    getDate(timestamp) {\r\n        return new Date(timestamp).toLocaleDateString()\r\n    }\r\n\r\n    //get time from timestamp\r\n    getTime(timestamp) {\r\n        return new Date(timestamp).toLocaleTimeString()\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ notify2: false })\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.state.ownerPhoto, \"photo\")\r\n        return (\r\n            <div className=\"Min-height\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <div className=\"container font\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                    <br /><br /><br /><br /><br />\r\n                    <Modal isOpen={this.state.notify}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Successfully registered for this event. Thank you!</h5></ModalBody>\r\n                        <ModalBody>\r\n                            <Link to={`/`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <button className=\"btn btn-success btn-sm\">\r\n                                    Back to Homepage\r\n                                </button>\r\n                            </Link>\r\n                        </ModalBody>\r\n                    </Modal>\r\n                    <Modal isOpen={this.state.notify2}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>You have already registered for this event!</h5></ModalBody>\r\n                        <ModalBody>\r\n\r\n                            <button className=\"btn btn-success btn-sm\"\r\n                                style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}\r\n                                onClick={this.closeModal}>\r\n                                Confirm\r\n                                </button>\r\n                        </ModalBody>\r\n                    </Modal>\r\n                    <div className=\"row\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n\r\n                        <div className=\"col-7\" >\r\n                            <h1 className=\"\">{this.state.eventName}</h1>\r\n                            <br />\r\n                            <div style={{ fontSize: \"18px\" }}>{this.state.eventAddress}</div>\r\n                            <a target=\"_blank\" href={`https://www.google.com/maps/search/?api=1&query=${this.state.eventLat},${this.state.eventLng}`}>See location on Google Maps</a>\r\n                            <br /><br />\r\n                            <hr className=\"hr\"></hr> <br />\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}> Event Time:</div>\r\n                            <div className=\"AppSmall\">\r\n                                Date: {this.getDate(this.state.eventStartDateTime)}\r\n                            </div>\r\n                            <div className=\"AppSmall\">\r\n                                Time: {this.getTime(this.state.eventStartDateTime)} - {this.getTime(this.state.eventEndDateTime)}\r\n                            </div>\r\n                            <br />\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Agenda: </div>\r\n                            <div className=\"AppSmall\">{this.state.eventDescription}</div> <br />\r\n\r\n                            {this.state.eventDataCollected !== \"unknown\" &&\r\n                                <div>\r\n                                    <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Report: </div>\r\n                                    <div className=\"AppSmall\">{this.state.eventDataCollected}</div> <br />\r\n                                </div>\r\n\r\n                            }\r\n\r\n                            {this.state.ownerPhoto.length !== 0 &&\r\n                                <div>\r\n                                    <label style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Photo of organizer or clean-up activities before</label>\r\n                                    <br />\r\n                                    {this.state.ownerPhoto.map((url, index) =>\r\n                                        <div style={{ display: \"inline-block\" }}>\r\n                                            <div class=\"modal-dialog\" >\r\n                                                <div class=\"modal-content\">\r\n                                                    <div class=\"modal-header\">\r\n                                                        <img style={{ backgroundSize: \"cover\", width: \"50px\", height: \"50px\" }} class=\"img-responsive\" src={url.p_url} />\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            &nbsp;\r\n                                    </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                            }\r\n\r\n                            {this.state.eventPhoto.length !== 0 &&\r\n                                <div>\r\n                                    <label style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Photo of this event</label>\r\n                                    <br />\r\n                                    {this.state.eventPhoto.map((url, index) =>\r\n                                        <div style={{ display: \"inline-block\" }}>\r\n                                            <div class=\"modal-dialog\" >\r\n                                                <div class=\"modal-content\">\r\n                                                    <div class=\"modal-header\">\r\n                                                        <img style={{ backgroundSize: \"cover\", width: \"50px\", height: \"50px\" }} class=\"img-responsive\" src={url.p_url} />\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            &nbsp;\r\n                                    </div>\r\n                                    )}\r\n                                </div>\r\n                            }\r\n                        </div>\r\n\r\n                        <br /><br /><br />\r\n\r\n                        <div className=\"col-5\" >\r\n                            <div id=\"formModal\" className=\"  modalCSS\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                                <div className=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content cardCSS\">\r\n\r\n                                        <div class=\"modal-header\">\r\n                                            {this.state.showForm &&\r\n                                                <h5>First time joining events of Vietnam Sach & Xanh?\r\n                                                    Tell us a little bit about you!</h5>}\r\n                                            {this.state.showForm == false &&\r\n                                                <h5 class=\"modal-title\">Let's join the Clean Up!</h5>}\r\n                                        </div>\r\n\r\n                                        <div className='modal-body'>\r\n                                            <form action='#' id='book-form' className=\"{formStatus} needs-validation\"\r\n                                                onSubmit={this.onSubmit}\r\n                                                novalidate>\r\n\r\n                                                <div className=\"form-group\">\r\n                                                    <label>Email *</label>\r\n                                                    <input type=\"text\" className=\"col\"\r\n                                                        placeholder=\"abc@example.com\"\r\n                                                        className=\"form-control\"\r\n                                                        name='vltEmail'\r\n                                                        value={this.state.vltEmail}\r\n                                                        onChange={this.handleVolunteerEmailChange}\r\n                                                        noValidate\r\n                                                    />\r\n                                                    {this.state.emailErr &&\r\n                                                        <span className='error'>Invalid Email!</span>}\r\n                                                </div>\r\n\r\n                                                {this.state.showForm &&\r\n                                                    <div>\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            <label>Full Name *</label>\r\n                                                            <input type=\"text\" className=\"col\"\r\n                                                                placeholder=\"name...\"\r\n                                                                className=\"form-control\"\r\n                                                                value={this.state.vltName}\r\n                                                                onChange={this.handleVolunteerNameChange}\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div>\r\n                                                            <label>D.O.B *</label>\r\n                                                            <div className=\"form-group\">\r\n                                                                <DatePicker\r\n                                                                    className='form-control'\r\n                                                                    selected={this.state.vltDOB}\r\n                                                                    peekNextMonth\r\n                                                                    showMonthDropdown\r\n                                                                    showYearDropdown\r\n                                                                    dropdownMode=\"select\"\r\n                                                                    dateFormat=\"MMMM d, yyyy\"\r\n                                                                    placeholderText=\"dd/mm/yy\"\r\n                                                                    minDate={this.get_100_years()}\r\n                                                                    maxDate={new Date()}\r\n                                                                    onChange={this.handleVolunteerDOBChange}\r\n                                                                />\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            <label>Address *</label>\r\n                                                            <input type=\"text\" className=\"col\"\r\n                                                                placeholder=\"address...\"\r\n                                                                className=\"form-control\"\r\n                                                                value={this.state.vltAddress}\r\n                                                                onChange={this.handleVolunteerAddressChange}\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n                                                }\r\n\r\n                                                <div className=\"form-group\">\r\n                                                    <label>Do you want to buy any clean-up tools? (optional)</label>\r\n                                                    <div class=\"custom-control custom-checkbox\">\r\n                                                        <input class=\"custom-control-input\" type=\"checkbox\" id=\"inlineCheckbox1\" value='Clean up tools' onChange={this.handleToolsChange} />\r\n                                                        <label class=\"custom-control-label\" for=\"inlineCheckbox1\">Clean up tools</label>\r\n                                                    </div>\r\n                                                    <div class=\"custom-control custom-checkbox\">\r\n                                                        <input class=\"custom-control-input\" type=\"checkbox\" id=\"inlineCheckbox2\" value='T-shirt' onChange={this.handleShirtChange} />\r\n                                                        <label class=\"custom-control-label\" for=\"inlineCheckbox2\">T-shirt</label>\r\n                                                    </div>\r\n                                                    {this.state.showSize &&\r\n                                                        <div style={{ width: '100px' }}>\r\n                                                            <select class=\"custom-select mr-sm-2\"\r\n                                                                id=\"inlineFormCustomSelect\"\r\n                                                                value={this.state.shirt}\r\n                                                                onChange={this.handleSizeChange}>\r\n                                                                <option selected value=\"\">Size...</option>\r\n                                                                <option>XS</option>\r\n                                                                <option>S</option>\r\n                                                                <option>M</option>\r\n                                                                <option>L</option>\r\n                                                                <option>XL</option>\r\n                                                            </select>\r\n                                                        </div>\r\n                                                    }\r\n\r\n                                                </div>\r\n\r\n                                                <br />\r\n                                                <br />\r\n\r\n                                                <button className=\"btn btnColor btn-lg btn-block\" type=\"submit\" on>\r\n                                                    Join\r\n                                                </button>\r\n\r\n                                            </form>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        event: state.event,\r\n        volunteers: state.volunteers,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchEventsById: (id) => { dispatch(actionFetchEventsByIDRequest(id)) },\r\n        fetchVolunteerByEmail: (email) => { dispatch(actionFetchVolunteersByEmailRequest(email)) },\r\n        fetchVolunteerBySite: (siteID) => { dispatch(actionFetchVolunteersBySiteRequest(siteID)) },\r\n        actionAddSiteVolunteer: (obj) => { dispatch(actionAddSiteVolunteerRequest(obj)) },\r\n        actionAddVolunteers: (obj) => { dispatch(actionAddVolunteersRequest(obj)) },\r\n        actionFetchVolunteers: () => { dispatch(actionFetchVolunteersRequest()) },\r\n        actionDownloadVolunteersBySite: (siteid, sitename) => { dispatch(actionDownloadVolunteersBySiteRequest(siteid, sitename)) },\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EventDetailPage)\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {\r\n    actionEditEventsRequest,\r\n    actionDeleteEventsRequest,\r\n    actionFetchEventsByIDRequest,\r\n    actionFetchVolunteersByEmailRequest,\r\n    actionSendEmailVolunteersBySiteRequest,\r\n    actionAddSiteVolunteerRequest,\r\n    actionAddVolunteersRequest,\r\n    actionFetchVolunteersRequest,\r\n    actionFetchVolunteersBySiteRequest,\r\n    actionDownloadVolunteersBySiteRequest\r\n} from '../action/actions'\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport jwtDecode from 'jwt-decode'\r\n\r\n\r\nclass EventDetailPageOwner extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventId: '',\r\n            eventName: '',\r\n            eventLocationName: '',\r\n            eventAddress: '',\r\n            eventLat: '',\r\n            eventLng: '',\r\n            eventDescription: '',\r\n            eventStartDateTime: '',\r\n            eventEndDateTime: '',\r\n            eventInEx: '',\r\n            eventDataCollected: '',\r\n            eventNumParticipants: '',\r\n            eventParticipants: [],\r\n            eventTrashWeight: '',\r\n            eventRecyclableTrash: '',\r\n            eventNonRecyclableTrash: '',\r\n            eventOrganicTrash: '',\r\n            file: '',\r\n            imagePreviewUrl: [],\r\n            files: [],\r\n            eventToolReq: '',\r\n            eventXSreq: '',\r\n            eventSreq: '',\r\n            eventMreq: '',\r\n            eventLreq: '',\r\n            eventXLreq: '',\r\n            eventPay: true,\r\n\r\n            vltEmail: '',\r\n            vltName: '',\r\n            vltDOB: '',\r\n            vltAddress: '',\r\n\r\n\r\n\r\n            account: [],\r\n            tokenId: '',\r\n            tokenName: '',\r\n\r\n            showForm: false,\r\n\r\n            notify: false,\r\n            notify2: false,\r\n            notify3: false,\r\n            errorNum: false,\r\n            errorWeight: false\r\n\r\n\r\n        }\r\n        // this.onSubmit = this.onSubmit.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n        this.closeModal = this.closeModal.bind(this)\r\n        this.toggleOpenForm = this.toggleOpenForm.bind(this)\r\n        this.download = this.download.bind(this)\r\n        this.sendEmail = this.sendEmail.bind(this)\r\n        this.handleeventNumParticipantsChange = this.handleeventNumParticipantsChange.bind(this)\r\n        this.handleeventTrashWeightChange = this.handleeventTrashWeightChange.bind(this)\r\n        this.showResultForm = this.showResultForm.bind(this)\r\n        this.closeForm = this.closeForm.bind(this)\r\n        this.removePreview = this.removePreview.bind(this)\r\n        this.handleeventRecyclableTrashChange = this.handleeventRecyclableTrashChange.bind(this)\r\n        this.handleeventNonRecyclableTrashChange = this.handleeventNonRecyclableTrashChange.bind(this)\r\n        this.handleeventOrganicTrashChange = this.handleeventOrganicTrashChange.bind(this)\r\n    }\r\n\r\n    handleeventNumParticipantsChange(e) {\r\n        let recent = this.state.eventParticipants\r\n        if (this.state.eventParticipants.length == 0) {\r\n            this.setState({\r\n                eventParticipants: [...this.state.eventParticipants, e.target.value],\r\n            })\r\n        } else {\r\n            for (let i = 0; i < this.state.eventParticipants.length; i++) {\r\n                if (this.state.eventParticipants[i] == e.target.value) {\r\n                    recent.splice(i, 1)\r\n                    this.setState({\r\n                        eventParticipants: recent,\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        eventParticipants: [...this.state.eventParticipants, e.target.value],\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleeventTrashWeightChange(e) {\r\n        this.setState({\r\n            eventTrashWeight: e.target.value\r\n        });\r\n    }\r\n\r\n    handleeventRecyclableTrashChange(e) {\r\n        this.setState({\r\n            eventRecyclableTrash: e.target.value\r\n        });\r\n    }\r\n\r\n    handleeventNonRecyclableTrashChange(e) {\r\n        this.setState({\r\n            eventNonRecyclableTrash: e.target.value\r\n        });\r\n    }\r\n\r\n    handleeventOrganicTrashChange(e) {\r\n        this.setState({\r\n            eventOrganicTrash: e.target.value\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userToken = localStorage.getItem(\"usertoken\")\r\n        if (typeof userToken !== \"undefined\" && userToken !== null) {\r\n            var decoded = jwtDecode(userToken);\r\n            this.setState({ account: this.props.volunteers.volunteers, tokenName: decoded.acc_username, tokenId: decoded.acc_id })\r\n            var { match } = this.props\r\n            if (match) {\r\n                var eventID = match.params.eventID\r\n                this.props.fetchVolunteerBySite(eventID)\r\n                axios({\r\n                    method: 'GET',\r\n                    url: `http://localhost:3000/cleansite/${eventID}`,\r\n                    data: null\r\n                }).then(res => {\r\n                    var data = res.data[0]\r\n                    this.setState({\r\n                        eventId: data.clean_site_id,\r\n                        eventName: data.cs_name,\r\n                        eventLocationName: data.cs_address_name,\r\n                        eventAddress: data.cs_address,\r\n                        eventDescription: data.cs_agenda,\r\n                        eventStartDateTime: data.cs_start_time,\r\n                        eventEndDateTime: data.cs_end_time,\r\n                        eventLat: data.cs_lat,\r\n                        eventLng: data.cs_long,\r\n                        eventNumParticipants: data.cs_ptcp_no,\r\n                        eventTrashWeight: data.cs_amount_collected,\r\n                        eventRecyclableTrash: data.cs_recy,\r\n                        eventNonRecyclableTrash: data.cs_non_recy,\r\n                        eventOrganicTrash: data.cs_organic,\r\n                        eventToolReq: data.cs_rq_set,\r\n                        eventXSreq: data.cs_xs_shirt,\r\n                        eventSreq: data.cs_s_shirt,\r\n                        eventMreq: data.cs_m_shirt,\r\n                        eventLreq: data.cs_l_shirt,\r\n                        eventXLreq: data.cs_xl_shirt,\r\n                        eventInEx: data.cs_inex,\r\n                        eventPay: data.cs_pay\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        } else {\r\n            window.location.href = \"/#/sign-in\"\r\n        }\r\n    }\r\n\r\n    toggleOpenForm = (bool) => {\r\n        this.setState({\r\n            showForm: !this.state.showForm,\r\n            eventNumParticipants: this.state.eventParticipants.length.toString()\r\n        });\r\n    }\r\n\r\n    //func to get 100 years before today\r\n    get_100_years = () => {\r\n        var date = new Date();\r\n        date.setDate(date.getDate() - 36500);\r\n        return date;\r\n    }\r\n\r\n    //get date from timestamp \r\n    getDate(timestamp) {\r\n        return new Date(timestamp).toLocaleDateString()\r\n    }\r\n\r\n    //get time from timestamp\r\n    getTime(timestamp) {\r\n        return new Date(timestamp).toLocaleTimeString()\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ notify: false })\r\n    }\r\n\r\n    download() {\r\n        this.props.actionDownloadVolunteersBySite(this.state.eventId, this.state.eventName)\r\n    }\r\n\r\n    sendEmail() {\r\n        this.props.sendEmailVolunteersBySite(this.state.eventId)\r\n    }\r\n\r\n    deleteBooking(name) {\r\n        this.props.actionDeleteEvents(name)\r\n        this.setState({ notify: false })\r\n        this.setState({ notify2: true })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            notify: true,\r\n        })\r\n    }\r\n\r\n    showResultForm = () => {\r\n        this.setState({\r\n            showForm: true,\r\n        })\r\n    }\r\n\r\n    closeForm = () => {\r\n        this.setState({\r\n            showForm: false,\r\n        })\r\n    }\r\n\r\n    close = () => {\r\n        window.location.reload()\r\n    }\r\n\r\n    fileSelectedHandler = (e) => {\r\n        this.setState({\r\n            files: [...this.state.files, ...e.target.files],\r\n        })\r\n        for (let i = 0; i < e.target.files.length; i++) {\r\n            this.addPreview(e.target.files[i])  \r\n        }\r\n    }\r\n\r\n    addPreview(a) {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(a)\r\n        reader.onloadend = () => {\r\n            this.setState({\r\n                imagePreviewUrl: this.state.imagePreviewUrl.concat(reader.result)\r\n            })\r\n        }\r\n    }\r\n\r\n    removePreview(e) {\r\n        let recent = this.state.files\r\n        let recent2 = this.state.imagePreviewUrl\r\n        recent.splice(e, 1)\r\n        recent2.splice(e, 1)\r\n        this.setState({\r\n            files: recent,\r\n            imagePreviewUrl: recent2\r\n        })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const obj = {\r\n            clean_site_id: this.state.eventId,\r\n            cs_name: this.state.eventName,\r\n            cs_address_name: this.state.eventLocationName,\r\n            cs_address: this.state.eventAddress,\r\n            cs_lat: this.state.eventCoordLat,\r\n            cs_long: this.state.eventCoordLng,\r\n            cs_agenda: this.state.eventDescription,\r\n            cs_start_time: this.state.eventStartDateTime,\r\n            cs_end_time: this.state.eventEndDateTime,\r\n            cs_inex: this.state.eventInEx,\r\n            cs_ptcp_no: this.state.eventParticipants.length.toString(),\r\n            cs_amount_collected: this.state.eventTrashWeight,\r\n            cs_organic: this.state.eventOrganicTrash,\r\n            cs_recy: this.state.eventRecyclableTrash,\r\n            cs_non_recy: this.state.eventNonRecyclableTrash,\r\n            cs_xs_shirt: this.state.eventXSreq,\r\n            cs_s_shirt: this.state.eventSreq,\r\n            cs_m_shirt: this.state.eventMreq,\r\n            cs_l_shirt: this.state.eventLreq,\r\n            cs_xl_shirt: this.state.eventXLreq,\r\n            cs_rq_set: this.state.eventToolReq\r\n        };\r\n        if (this.state.eventParticipants.length == 0) {\r\n          this.setState({\r\n                errorNum: true,\r\n                errorWeight: false\r\n          })\r\n        } else if (this.state.eventTrashWeight === \"unknown\") {\r\n            console.log(\"check desc\")\r\n            this.setState({\r\n                errorNum: false,\r\n                errorWeight: true\r\n            })\r\n        } \r\n        else {\r\n            const fd = new FormData();\r\n            for (let i = 0; i < this.state.files.length; i++) {\r\n                fd.append('galleryImage', this.state.files[i], this.state.files[i].name)\r\n            }\r\n            axios.post(`http://localhost:8081/photo/basic/${this.state.tokenId}/${this.state.eventId}/upload`, fd)\r\n                .then(res => {\r\n                    console.log(res)\r\n                });\r\n            this.props.actionEditEvents(obj, this.state.eventId)\r\n            this.setState({\r\n                notify3: true\r\n            })\r\n        }\r\n    }\r\n\r\n    fileUploadHandler = () => {\r\n        const fd = new FormData();\r\n        fd.append('image')\r\n        axios.post(`localhost:8081/photo/basic/${this.state.tokenId}/${this.state.eventId}/upload`);\r\n    }\r\n\r\n    pay() {\r\n        this.setState({\r\n            eventPay: true\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.state, \"state\")\r\n        return (\r\n            <div className=\"Min-height\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <div className=\"container font\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                    <br /><br /><br /><br /><br />\r\n\r\n                    <Modal isOpen={this.state.notify}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: \"left\", justifyContent: 'left' }}>Are you sure you want to delete this event?</h5></ModalBody>\r\n                        <ModalBody style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                            <Link>\r\n                                <button className=\"btn btn-danger btn-sm\" onClick={() => { this.deleteBooking(this.state.eventId) }}>\r\n                                    Yes\r\n                                </button>\r\n                            </Link>\r\n                            &nbsp;\r\n                            <button type=\"button\" className=\"btn btn-secondary btn-sm\" onClick={this.closeModal} >\r\n                                Cancel\r\n                            </button>\r\n                        </ModalBody>\r\n                    </Modal>\r\n\r\n                    <Modal isOpen={this.state.notify2}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Event deleted!</h5></ModalBody>\r\n                        <ModalBody>\r\n                            <Link to={`/event-list`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <button className=\"btn btn-success btn-sm\">\r\n                                    Back to List Page\r\n                                    </button>\r\n                            </Link>\r\n                        </ModalBody>\r\n                    </Modal>\r\n\r\n                    <Modal isOpen={this.state.notify3}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Result Submitted!</h5></ModalBody>\r\n                        <ModalBody>\r\n                            <a style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <button onClick={this.close} type=\"button\" className=\"btn btn-success btn-sm\" >\r\n                                    OK\r\n                                    </button>\r\n                            </a>\r\n                        </ModalBody>\r\n                    </Modal>\r\n\r\n                    <div className=\"row\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n\r\n                        <div className=\"col-7\" >\r\n                            <h1>{this.state.eventName}</h1>\r\n                            <div style={{ fontSize: \"18px\" }}>{this.state.eventAddress}</div>\r\n                            <a target=\"_blank\" href={`https://www.google.com/maps/search/?api=1&query=${this.state.eventLat},${this.state.eventLng}`}>See location on Google Maps</a>\r\n                            <br /><br />\r\n                            <hr className=\"hr\"></hr>\r\n                            <br />\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}> Event Time:</div>\r\n                            <div className=\"AppSmall\">\r\n                                Date: {this.getDate(this.state.eventStartDateTime)}\r\n                            </div>\r\n                            <div className=\"AppSmall\">\r\n                                Time: {this.getTime(this.state.eventStartDateTime)} - {this.getTime(this.state.eventEndDateTime)}\r\n                            </div>\r\n                            <br />\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Agenda: </div>\r\n                            <div className=\"AppSmall\">{this.state.eventDescription}</div> <br />\r\n\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Report: </div>\r\n                            <div className=\"AppSmall\">{this.state.eventDataCollected}</div> <br />\r\n\r\n                            <br /><br /><br />\r\n\r\n                            {/* {this.state.eventNumParticipants == 'unknown' && */}\r\n                            <button type=\"button\" className=\"btn btn-secondary btn-sm\"\r\n                                onClick={this.showResultForm}>\r\n                                Fill in the result\r\n                            </button>\r\n                            {/* } */}\r\n\r\n                            &nbsp;\r\n    \r\n                        <Link to={`/edit-event/${this.state.eventId}`}>\r\n                                <button type=\"button\" className=\"btn btn-warning btn-sm\" >\r\n                                    Edit this event\r\n                            </button>\r\n                            </Link>\r\n\r\n                            &nbsp;\r\n    \r\n                        <button type=\"button\" className=\"btn btn-danger btn-sm\"\r\n                                onClick={() => { this.openModal() }}>\r\n                                Delete this event\r\n                        </button>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"col-5\">\r\n                            <div>\r\n                                <h5 class=\"modal-title\">List of registered volunteers</h5>\r\n                                {this.props.volunteers.volunteersBySite.map((volunteer, index) =>\r\n                                    <div>{volunteer.vlt_name} - {volunteer.vlt_email}</div>\r\n                                )}\r\n                                <br />\r\n                                <a href={`/#/event-detail-owner/${this.state.eventId}`} onClick={this.download}>Download list of volunteers</a>\r\n                                <a href={`/#/event-detail-owner/${this.state.eventId}`} onClick={this.sendEmail.bind(this)}>Send email to volunteers</a>\r\n                            </div>\r\n\r\n                            <br /><br />\r\n\r\n                            <div>\r\n                                <h5 class=\"modal-title\">Tools Requirements</h5>\r\n                                <br />\r\n                                <h6>Tool kits: {this.state.eventToolReq}</h6>\r\n                                <h6>Shirts: </h6>\r\n                                <div>XS: {this.state.eventXSreq}</div>\r\n                                <div>S: {this.state.eventSreq}</div>\r\n                                <div>M: {this.state.eventMreq}</div>\r\n                                <div>L: {this.state.eventLreq}</div>\r\n                                <div>XL: {this.state.eventXLreq}</div>\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-danger btn-sm\"\r\n                                onClick={() => { this.pay() }}>\r\n                                Change Tool Requirements\r\n                            </button>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <br />\r\n\r\n                    {this.state.showForm &&\r\n\r\n                        <div className='modal-body'>\r\n                            <h3>Result of event</h3>\r\n                            <br />\r\n                            <form action='#' id='book-form' className=\"{formStatus} needs-validation\"\r\n                                onSubmit={this.onSubmit}\r\n                                novalidate>\r\n\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Number of participants *</label>\r\n                                            {this.props.volunteers.volunteersBySite.map((volunteer, index) =>\r\n                                                <div class=\"custom-control custom-checkbox\">\r\n                                                    <input class=\"custom-control-input\" type=\"checkbox\" id={index} value={volunteer.vlt_email} onChange={this.handleeventNumParticipantsChange} />\r\n                                                    <label class=\"custom-control-label\" for={index}>{volunteer.vlt_name} - {volunteer.vlt_email}</label>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Weight of trash has been collected *</label>\r\n                                            <input type=\"text\" className=\"col\"\r\n                                                placeholder=\"kilograms...\"\r\n                                                className=\"form-control\"\r\n                                                value={this.state.eventTrashWeight}\r\n                                                onChange={this.handleeventTrashWeightChange}\r\n                                            />\r\n                                            {this.state.errorWeight &&\r\n                                                <span className='error'>Invalid Email!</span>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <br />\r\n                                <h5>Number of every pieces of trash</h5>\r\n\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Recyclable *</label>\r\n                                            <input type=\"text\" className=\"col\"\r\n                                                placeholder=\"number...\"\r\n                                                className=\"form-control\"\r\n                                                name='vltEmail'\r\n                                                // value={this.state.eventRecyclableTrash}\r\n                                                onChange={this.handleeventRecyclableTrashChange}\r\n                                                noValidate\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group\">\r\n                                            <label>Organic *</label>\r\n                                            <input type=\"text\" className=\"col\"\r\n                                                placeholder=\"number...\"\r\n                                                className=\"form-control\"\r\n                                                name='vltEmail'\r\n                                                // value={this.state.eventOrganicTrash}\r\n                                                onChange={this.handleeventOrganicTrashChange}\r\n                                                noValidate\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label>Non-Recyclable *</label>\r\n                                            <input type=\"text\" className=\"col\"\r\n                                                placeholder=\"kilograms...\"\r\n                                                className=\"form-control\"\r\n                                                // value={this.state.eventNonRecyclableTrash}\r\n                                                onChange={this.handleeventNonRecyclableTrashChange}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n\r\n                                    <br />\r\n                                    <h5>Event Photos *</h5>\r\n\r\n                                    <div>\r\n                                        <br />\r\n                                        <input style={{ display: \"none\" }}\r\n                                            type=\"file\" accept=\"image/png, image/jpeg, image/jpg, image/gif, image/jfif\"\r\n                                            multiple\r\n                                            onChange={this.fileSelectedHandler}\r\n                                            ref={fileInput => this.fileInput = fileInput} />\r\n                                        <button onClick={() => this.fileInput.click()}>Import photos</button>\r\n                                    </div>\r\n\r\n                                    <div className=\"imgPreview\">\r\n                                        {this.state.imagePreviewUrl.map((url, index) =>\r\n                                            <div style={{ display: \"inline-block\" }}>\r\n                                                <div class=\"modal-dialog\" >\r\n                                                    <div class=\"modal-content\">\r\n                                                        <div class=\"modal-header\">\r\n                                                            <img style={{ backgroundSize: \"cover\", width: \"50px\", height: \"50px\" }} class=\"img-responsive\" src={url} />\r\n                                                            <button type=\"button\" class=\"close\"\r\n                                                                onClick={() => { this.removePreview(index) }}\r\n                                                                style={{ fontSize: \"20px\" }}>&times;</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                &nbsp;\r\n                                                                </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <br />\r\n                                <br />\r\n\r\n                                <button className=\"btn btnColor btn-lg btn-block\" type=\"submit\" on>\r\n                                    Submit Result\r\n                                                </button>\r\n\r\n                            </form>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        event: state.event,\r\n        volunteers: state.volunteers,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchEventsById: (id) => { dispatch(actionFetchEventsByIDRequest(id)) },\r\n        fetchVolunteerByEmail: (email) => { dispatch(actionFetchVolunteersByEmailRequest(email)) },\r\n        fetchVolunteerBySite: (siteID) => { dispatch(actionFetchVolunteersBySiteRequest(siteID)) },\r\n        actionAddSiteVolunteer: (obj) => { dispatch(actionAddSiteVolunteerRequest(obj)) },\r\n        actionAddVolunteers: (obj) => { dispatch(actionAddVolunteersRequest(obj)) },\r\n        actionFetchVolunteers: () => { dispatch(actionFetchVolunteersRequest()) },\r\n        actionDownloadVolunteersBySite: (siteid, sitename) => { dispatch(actionDownloadVolunteersBySiteRequest(siteid, sitename)) },\r\n        sendEmailVolunteersBySite: (siteID) => { dispatch(actionSendEmailVolunteersBySiteRequest(siteID))},\r\n        actionDeleteEvents: (name) => { dispatch(actionDeleteEventsRequest(name)) },\r\n        actionEditEvents: (obj, id) => { dispatch(actionEditEventsRequest(obj, id)) }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EventDetailPageOwner)","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {\r\n    actionEditEventsRequest,\r\n    actionDeleteEventsRequest,\r\n    actionFetchEventsByIDRequest,\r\n    actionFetchVolunteersByEmailRequest,\r\n    actionAddSiteVolunteerRequest,\r\n    actionAddVolunteersRequest,\r\n    actionFetchVolunteersRequest,\r\n    actionFetchVolunteersBySiteRequest,\r\n    actionDownloadVolunteersBySiteRequest\r\n} from '../action/actions'\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport jwtDecode from 'jwt-decode'\r\nimport { bool } from 'prop-types';\r\n\r\n\r\nclass EventDetailPageAdmin extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventId: '',\r\n            eventName: '',\r\n            eventLocationName: '',\r\n            eventAddress: '',\r\n            eventLat: '',\r\n            eventLng: '',\r\n            eventDescription: '',\r\n            eventStartDateTime: '',\r\n            eventEndDateTime: '',\r\n            eventInEx: '',\r\n            eventDataCollected: '',\r\n            eventNumParticipants: '',\r\n            eventParticipants: [],\r\n            eventTrashWeight: '',\r\n            eventRecyclableTrash: '',\r\n            eventNonRecyclableTrash: '',\r\n            eventOrganicTrash: '',\r\n            file: '',\r\n            imagePreviewUrl: [],\r\n            files: [],\r\n            eventToolReq: '',\r\n            eventXSreq: '',\r\n            eventSreq: '',\r\n            eventMreq: '',\r\n            eventLreq: '',\r\n            eventXLreq: '',\r\n            eventPay: false,\r\n\r\n            vltEmail: '',\r\n            vltName: '',\r\n            vltDOB: '',\r\n            vltAddress: '',\r\n\r\n            account: [],\r\n            tokenId: '',\r\n            tokenName: '',\r\n\r\n            showForm: false,\r\n\r\n            notify: false,\r\n            notify2: false,\r\n            notify3: false,\r\n            errorNum: false,\r\n            errorWeight: false\r\n        }\r\n        this.closeModal = this.closeModal.bind(this)\r\n        this.toggleOpenForm = this.toggleOpenForm.bind(this)\r\n        this.download = this.download.bind(this)\r\n        this.closeForm = this.closeForm.bind(this)\r\n        this.pay = this.pay.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userToken = localStorage.getItem(\"usertoken\")\r\n        var decoded = jwtDecode(userToken);\r\n        if (typeof userToken !== \"undefined\" && userToken !== null && decoded.acc_username == \"admin\") {\r\n            this.setState({ account: this.props.volunteers.volunteers, tokenName: decoded.acc_username, tokenId: decoded.acc_id })\r\n            var { match } = this.props\r\n            if (match) {\r\n                var eventID = match.params.eventID\r\n                this.props.fetchVolunteerBySite(eventID)\r\n                axios({\r\n                    method: 'GET',\r\n                    url: `http://localhost:3000/cleansite/${eventID}`,\r\n                    data: null\r\n                }).then(res => {\r\n                    console.log(res.data, \"data\")\r\n                    var data = res.data[0]\r\n                    this.setState({\r\n                        eventId: data.clean_site_id,\r\n                        eventName: data.cs_name,\r\n                        eventLocationName: data.cs_address_name,\r\n                        eventAddress: data.cs_address,\r\n                        eventDescription: data.cs_agenda,\r\n                        eventStartDateTime: data.cs_start_time,\r\n                        eventEndDateTime: data.cs_end_time,\r\n                        eventLat: data.cs_lat,\r\n                        eventLng: data.cs_long,\r\n                        eventNumParticipants: data.cs_ptcp_no,\r\n                        eventTrashWeight: data.cs_amount_collected,\r\n                        eventRecyclableTrash: data.cs_recy,\r\n                        eventNonRecyclableTrash: data.cs_non_recy,\r\n                        eventOrganicTrash: data.cs_organic,\r\n                        eventToolReq: data.cs_rq_set,\r\n                        eventXSreq: data.cs_xs_shirt,\r\n                        eventSreq: data.cs_s_shirt,\r\n                        eventMreq: data.cs_m_shirt,\r\n                        eventLreq: data.cs_l_shirt,\r\n                        eventXLreq: data.cs_xl_shirt,\r\n                        eventInEx: data.cs_inex,\r\n                        eventPay: Boolean(data.cs_pay)\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        } else {\r\n            window.location.href = \"/#/sign-in\"\r\n        }\r\n    }\r\n\r\n    toggleOpenForm = (bool) => {\r\n        this.setState({\r\n            showForm: !this.state.showForm,\r\n            eventNumParticipants: this.state.eventParticipants.length.toString()\r\n        });\r\n    }\r\n\r\n    //func to get 100 years before today\r\n    get_100_years = () => {\r\n        var date = new Date();\r\n        date.setDate(date.getDate() - 36500);\r\n        return date;\r\n    }\r\n\r\n    //get date from timestamp \r\n    getDate(timestamp) {\r\n        return new Date(timestamp).toLocaleDateString()\r\n    }\r\n\r\n    //get time from timestamp\r\n    getTime(timestamp) {\r\n        return new Date(timestamp).toLocaleTimeString()\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ notify: false })\r\n    }\r\n\r\n    download() {\r\n        this.props.actionDownloadVolunteersBySite(this.state.eventId, this.state.eventName)\r\n    }\r\n\r\n    deleteBooking(name) {\r\n        this.props.actionDeleteEvents(name)\r\n        this.setState({ notify: false })\r\n        this.setState({ notify2: true })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            notify: true,\r\n        })\r\n    }\r\n\r\n    closeForm = () => {\r\n        this.setState({\r\n            showForm: false,\r\n        })\r\n    }\r\n\r\n    close = () => {\r\n        window.location.reload()\r\n    }\r\n\r\n    pay(e) {\r\n        const obj = {\r\n            clean_site_id: this.state.eventId,\r\n            cs_name: this.state.eventName,\r\n            cs_address_name: this.state.eventLocationName,\r\n            cs_address: this.state.eventAddress,\r\n            cs_lat: this.state.eventCoordLat,\r\n            cs_long: this.state.eventCoordLng,\r\n            cs_agenda: this.state.eventDescription,\r\n            cs_start_time: this.state.eventStartDateTime,\r\n            cs_end_time: this.state.eventEndDateTime,\r\n            cs_inex: this.state.eventInEx,\r\n            cs_ptcp_no: this.state.eventParticipants.length.toString(),\r\n            cs_amount_collected: this.state.eventTrashWeight,\r\n            cs_organic: this.state.eventOrganicTrash,\r\n            cs_recy: this.state.eventRecyclableTrash,\r\n            cs_non_recy: this.state.eventNonRecyclableTrash,\r\n            cs_xs_shirt: this.state.eventXSreq,\r\n            cs_s_shirt: this.state.eventSreq,\r\n            cs_m_shirt: this.state.eventMreq,\r\n            cs_l_shirt: this.state.eventLreq,\r\n            cs_xl_shirt: this.state.eventXLreq,\r\n            cs_rq_set: this.state.eventToolReq,\r\n            cs_pay: true\r\n        };\r\n        this.props.actionEditEvents(obj, this.state.eventId)\r\n        window.location.reload()\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state, \"state\")\r\n        return (\r\n            <div className=\"Min-height\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <div className=\"container font\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                    <br /><br /><br /><br /><br />\r\n\r\n                    <Modal isOpen={this.state.notify}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: \"left\", justifyContent: 'left' }}>Are you sure you want to delete this event?</h5></ModalBody>\r\n                        <ModalBody style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                            <Link>\r\n                                <button className=\"btn btn-danger btn-sm\" onClick={() => { this.deleteBooking(this.state.eventId) }}>\r\n                                    Yes\r\n                                </button>\r\n                            </Link>\r\n                            &nbsp;\r\n                            <button type=\"button\" className=\"btn btn-secondary btn-sm\" onClick={this.closeModal} >\r\n                                Cancel\r\n                            </button>\r\n                        </ModalBody>\r\n                    </Modal>\r\n\r\n                    <Modal isOpen={this.state.notify2}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Event deleted!</h5></ModalBody>\r\n                        <ModalBody>\r\n                            <Link to={`/event-list`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <button className=\"btn btn-success btn-sm\">\r\n                                    Back to List Page\r\n                                    </button>\r\n                            </Link>\r\n                        </ModalBody>\r\n                    </Modal>\r\n\r\n                    <Modal isOpen={this.state.notify3}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Result Submitted!</h5></ModalBody>\r\n                        <ModalBody>\r\n                            <a style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <button onClick={this.close} type=\"button\" className=\"btn btn-success btn-sm\" >\r\n                                    OK\r\n                                    </button>\r\n                            </a>\r\n                        </ModalBody>\r\n                    </Modal>\r\n\r\n                    <div className=\"row\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n\r\n                        <div className=\"col-7\" >\r\n                            <h1>{this.state.eventName}</h1>\r\n                            <div style={{ fontSize: \"18px\" }}>{this.state.eventAddress}</div>\r\n                            <a target=\"_blank\" href={`https://www.google.com/maps/search/?api=1&query=${this.state.eventLat},${this.state.eventLng}`}>See location on Google Maps</a>\r\n                            <br /><br />\r\n                            <hr className=\"hr\"></hr>\r\n                            <br />\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}> Event Time:</div>\r\n                            <div className=\"AppSmall\">\r\n                                Date: {this.getDate(this.state.eventStartDateTime)}\r\n                            </div>\r\n                            <div className=\"AppSmall\">\r\n                                Time: {this.getTime(this.state.eventStartDateTime)} - {this.getTime(this.state.eventEndDateTime)}\r\n                            </div>\r\n                            <br />\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Agenda: </div>\r\n                            <div className=\"AppSmall\">{this.state.eventDescription}</div> <br />\r\n\r\n                            <div style={{ fontSize: \"18px\", fontWeight: \"500\" }}>Report: </div>\r\n                            <div className=\"AppSmall\">{this.state.eventDataCollected}</div> <br />\r\n\r\n                            <br /><br /><br />\r\n\r\n                            &nbsp;\r\n\r\n                            <button type=\"button\" className=\"btn btn-danger btn-sm\"\r\n                                onClick={() => { this.openModal() }}>\r\n                                Delete this event\r\n                            </button>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"col-5\">\r\n                            <div>\r\n                                <h5 class=\"modal-title\">List of registered volunteers</h5>\r\n                                {this.props.volunteers.volunteersBySite.map((volunteer, index) =>\r\n                                    <div>{volunteer.vlt_name} - {volunteer.vlt_email}</div>\r\n                                )}\r\n                                <br />\r\n                                <a href={`/#/event-detail-owner/${this.state.eventId}`} onClick={this.download}>Download list of volunteers</a>\r\n                            </div>\r\n\r\n                            <br /><br />\r\n\r\n                            <div>\r\n                                <h5 class=\"modal-title\">Tools Requirements</h5>\r\n                                <br />\r\n                                <h6>Tool kits: {this.state.eventToolReq}</h6>\r\n                                <h6>Shirts: </h6>\r\n                                <div>XS: {this.state.eventXSreq}</div>\r\n                                <div>S: {this.state.eventSreq}</div>\r\n                                <div>M: {this.state.eventMreq}</div>\r\n                                <div>L: {this.state.eventLreq}</div>\r\n                                <div>XL: {this.state.eventXLreq}</div>\r\n                            </div>\r\n\r\n                            <br />\r\n                            \r\n                            {this.state.cs_pay == false &&\r\n                                <button type=\"button\" className=\"btn btn-danger btn-sm\"\r\n                                    onClick={() => { this.pay() }}>\r\n                                    Confirm Payment\r\n                                </button>\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        event: state.event,\r\n        volunteers: state.volunteers,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchEventsById: (id) => { dispatch(actionFetchEventsByIDRequest(id)) },\r\n        fetchVolunteerByEmail: (email) => { dispatch(actionFetchVolunteersByEmailRequest(email)) },\r\n        fetchVolunteerBySite: (siteID) => { dispatch(actionFetchVolunteersBySiteRequest(siteID)) },\r\n        actionAddSiteVolunteer: (obj) => { dispatch(actionAddSiteVolunteerRequest(obj)) },\r\n        actionAddVolunteers: (obj) => { dispatch(actionAddVolunteersRequest(obj)) },\r\n        actionFetchVolunteers: () => { dispatch(actionFetchVolunteersRequest()) },\r\n        actionDownloadVolunteersBySite: (siteid, sitename) => { dispatch(actionDownloadVolunteersBySiteRequest(siteid, sitename)) },\r\n        actionDeleteEvents: (name) => { dispatch(actionDeleteEventsRequest(name)) },\r\n        actionEditEvents: (obj, id) => { dispatch(actionEditEventsRequest(obj, id)) }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EventDetailPageAdmin)\r\n","import React, { Component } from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport './../css/style.css'\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { connect } from 'react-redux'\r\nimport { login, fb_login } from '../action/UserFunctions'\r\nimport axios from \"axios\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\r\n\r\nconst styles = {\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n  },\r\n}\r\n\r\nclass SignIn extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      acc_email: '',\r\n      acc_pass: '',\r\n\r\n      emailErr: false,\r\n      passErr: false,\r\n      loginErr: false\r\n    }\r\n    this.handleEmailChange = this.handleEmailChange.bind(this)\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this)\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n    this.handleFBClick = this.handleFBClick.bind(this);\r\n    this.handleGmailClick = this.handleGmailClick.bind(this);\r\n\r\n\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault()\r\n    const user = {\r\n      acc_email: this.state.acc_email,\r\n      acc_pass: this.state.acc_pass\r\n    }\r\n    if (this.state.acc_email === \"\" || validEmailRegex.test(this.state.acc_email) === false ) {\r\n      this.setState({\r\n          emailErr: true,\r\n          passErr: false,\r\n      })\r\n    } else if (this.state.acc_pass === \"\") {\r\n        console.log(\"check desc\")\r\n        this.setState({\r\n          emailErr: false,\r\n          passErr: true,\r\n        })\r\n    } else {\r\n      this.setState({\r\n        emailErr: false,\r\n        passErr: false,\r\n      })\r\n      login(user).then(res => {\r\n        if (res) {\r\n          window.location.href='/#/event-list'\r\n          window.location.reload()\r\n          // this.props.history.push(`/event-list`)\r\n        } else {\r\n          this.setState({loginErr: true})\r\n        }\r\n      })\r\n    }  \r\n  }\r\n\r\n  handleEmailChange(e) {\r\n    this.setState({\r\n      acc_email: e.target.value\r\n    });\r\n  }\r\n\r\n  handlePasswordChange(e) {\r\n    this.setState({\r\n      acc_pass: e.target.value\r\n    });\r\n  }\r\n\r\n  handleFBClick() {\r\n    localStorage.setItem('socialtype', \"facebook\")\r\n  }\r\n\r\n  handleGmailClick() {\r\n    localStorage.setItem('socialtype', \"gmail\")\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    axios({\r\n      method: 'GET',\r\n      url: `http://localhost:3000/sociallogin/logout`,\r\n      data: null\r\n    })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n  }\r\n\r\n  render(){\r\n    const classes = this.props;\r\n    localStorage.clear()\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\" className=\" Min-height\">\r\n        <br /><br /><br /><br /><br />\r\n        <CssBaseline />\r\n        <div\r\n          className={classes.paper}\r\n        >\r\n          <Typography className=\"signIn\" component=\"h1\" variant=\"h5\">\r\n            Sign In\r\n        </Typography>\r\n          <form\r\n            onSubmit={this.onSubmit}\r\n            className={classes.form}\r\n            noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              value={this.state.acc_email}\r\n              onChange={this.handleEmailChange}\r\n            />\r\n            {this.state.emailErr && \r\n              <span className='error'>Please enter a valid email!</span>}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={this.state.acc_pass}\r\n              onChange={this.handlePasswordChange}\r\n            />\r\n            {this.state.passErr && \r\n              <span className='error'>Please enter your password!</span>}\r\n            {this.state.loginErr && \r\n              <span className='error'>Wrong username or password!</span>}\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <button className=\"btn noHoverButton btn-block\" type=\"submit\" role=\"button\" on>SIGN IN</button>\r\n            <br />\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"#/sign-up\" variant=\"body2\">\r\n                  Don't have an account yet?\r\n              </Link>\r\n              </Grid>\r\n            </Grid>\r\n\r\n          </form>\r\n          <a href={\"/sociallogin/auth/facebook\"} onClick={this.handleFBClick.bind(this)} className=\"btn btn-primary\"><span className=\"fa fa-facebook\"></span>Facebook</a>\r\n          <a href={\"/sociallogin/auth/google/callback\"} onClick={this.handleGmailClick.bind(this)} className=\"btn btn-primary\"><span className=\"fa fa-facebook\"></span>Gmail</a>\r\n\r\n        </div>\r\n        <Box mt={8}>\r\n        </Box>\r\n      </Container>\r\n    )\r\n  }\r\n  \r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n\r\n  }\r\n};\r\n\r\nexport default withStyles(styles)(SignIn);\r\nconnect(mapStateToProps, mapDispatchToProps); \r\n","import axios from 'axios'\r\n\r\n/////// REGISTER NEW USER\r\nexport const register = newUser => {\r\n  return axios\r\n    .post('http://localhost:3000/users/register', {\r\n      acc_email: newUser.acc_email,\r\n      acc_username: newUser.acc_username,\r\n      acc_pass: newUser.acc_pass,\r\n      acc_description: newUser.acc_description,\r\n      acc_profile_pic: newUser.acc_profile_pic\r\n    })\r\n    .then(response => {\r\n      console.log('Registered', response.data)\r\n    })\r\n}\r\n\r\n/////// LOG IN \r\nexport const login = user => {\r\n  return axios\r\n    .post('http://localhost:3000/users/login', {\r\n      acc_email: user.acc_email,\r\n      acc_pass: user.acc_pass\r\n    })\r\n    .then(response => {\r\n      localStorage.setItem('usertoken', response.data)\r\n      return response.data\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n}\r\n\r\n////// FB LOG IN\r\nexport const fb_login = user => {\r\n    return axios\r\n        .get('http://localhost:3000/sociallogin/auth/facebook', {\r\n            // acc_email: user.acc_email,\r\n            // acc_pass: user.acc_pass\r\n        })\r\n        .then(response => {\r\n                    localStorage.setItem('usertoken', response.data)\r\n                    console.log(\"TOi DAY ROI NE\")\r\n                        return response.data\r\n                    })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\n// import Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport './../css/style.css'\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { register } from '../action/UserFunctions'\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap'\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\r\n\r\n\r\nconst styles = {\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n  },\r\n}\r\n\r\n\r\nclass SignUp extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      acc_username: '',\r\n      acc_email: '',\r\n      acc_pass: '',\r\n      acc_description: '',\r\n      errors: {},\r\n\r\n      notify: false,\r\n      usernameErr: false,\r\n      emailErr: false,\r\n      passErr: false,\r\n      descErr: false,\r\n      imagePreviewUrl: [],\r\n      files: []\r\n    }\r\n    this.handleEmailChange = this.handleEmailChange.bind(this)\r\n    this.handleUsernameChange = this.handleUsernameChange.bind(this)\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this)\r\n    this.handleDescChange = this.handleDescChange.bind(this)\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault()\r\n    const newUser = {\r\n      acc_email: this.state.acc_email,\r\n      acc_pass: this.state.acc_pass,\r\n      acc_username: this.state.acc_username,\r\n      acc_description: this.state.acc_description,\r\n      acc_profile_pic: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQnRM7I0HLiujP2nRnyulNuzAwFRVgWKo16YMsYUvFYKJLWA5lyA&s\"\r\n    }\r\n    if (this.state.acc_username === \"\" || this.state.acc_username === \"admin\") {\r\n      this.setState({\r\n        emailErr: false,\r\n        passErr: false,\r\n        usernameErr: true\r\n      })\r\n\r\n    } else if (this.state.acc_email === \"\" || this.state.acc_email.includes(\"admin\") || validEmailRegex.test(this.state.acc_email) === false) {\r\n      this.setState({\r\n        emailErr: true,\r\n        passErr: false,\r\n        usernameErr: false\r\n      })\r\n    } else if (this.state.acc_pass === \"\") {\r\n      this.setState({\r\n        emailErr: false,\r\n        passErr: true,\r\n        usernameErr: false\r\n      })\r\n    } else if (this.state.acc_description === \"\") {\r\n      this.setState({\r\n        emailErr: false,\r\n        passErr: false,\r\n        usernameErr: false,\r\n        descErr: true\r\n      })\r\n    } else {\r\n      this.setState({\r\n        emailErr: false,\r\n        passErr: false,\r\n        usernameErr: false,\r\n        descErr: false\r\n      })\r\n      register(newUser).then(res => {\r\n        // this.props.history.push(`/`)\r\n      })\r\n\r\n      this.setState({ notify: true })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  handleUsernameChange(e) {\r\n    this.setState({\r\n      acc_username: e.target.value\r\n    });\r\n  }\r\n\r\n  handleEmailChange(e) {\r\n    this.setState({\r\n      acc_email: e.target.value\r\n    });\r\n  }\r\n\r\n  handlePasswordChange(e) {\r\n    this.setState({\r\n      acc_pass: e.target.value\r\n    });\r\n  }\r\n\r\n  handleDescChange(e) {\r\n    this.setState({\r\n      acc_description: e.target.value\r\n    });\r\n  }\r\n\r\n  fileSelectedHandler = (e) => {\r\n    let reader = new FileReader();\r\n    this.setState({\r\n      files: [...e.target.files],\r\n    })\r\n    reader.readAsDataURL(e.target.files[0])\r\n    this.state.imagePreviewUrl.pop()\r\n    reader.onloadend = () => {\r\n      this.setState({\r\n        imagePreviewUrl: [reader.result]\r\n      })\r\n    }\r\n  }\r\n\r\n  removePreview(e) {\r\n    let recent = this.state.files\r\n    let recent2 = this.state.imagePreviewUrl\r\n    recent.splice(e, 1)\r\n    recent2.splice(e, 1)\r\n    this.setState({\r\n      files: recent,\r\n      imagePreviewUrl: recent2\r\n    })\r\n  }\r\n\r\n  fileUploadHandler = () => {\r\n    const fd = new FormData();\r\n    fd.append('image', )\r\n    axios.post(`localhost:8081/photo/basic//0303019/upload`);\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state)\r\n    const classes = this.props;\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\" className=\"Min-height\">\r\n        <br /><br /><br /><br /><br />\r\n        <Modal isOpen={this.state.notify}>\r\n          <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>You've successfully created your account!</h5></ModalBody>\r\n          <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>You will be redirected to Sign In page.</h5></ModalBody>\r\n          <ModalBody>\r\n            <Link to={`/sign-in`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n              <button className=\"btn btn-success btn-sm\">\r\n                Confirm\r\n              </button>\r\n            </Link>\r\n          </ModalBody>\r\n        </Modal>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography className=\"signIn\" component=\"h1\" variant=\"h5\">\r\n            Sign Up\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={this.onSubmit} noValidate>\r\n            <TextField\r\n              autoComplete=\"fname\"\r\n              name=\"firstName\"\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"Organization Name\"\r\n              autoFocus\r\n              value={this.state.acc_username}\r\n              onChange={this.handleUsernameChange}\r\n            />\r\n            {this.state.usernameErr &&\r\n              <span className='error'>Please enter your organization name!</span>}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              value={this.state.acc_email}\r\n              onChange={this.handleEmailChange}\r\n            />\r\n            {this.state.emailErr &&\r\n              <span className='error'>Please enter a valid email!</span>}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={this.state.acc_pass}\r\n              onChange={this.handlePasswordChange}\r\n            />\r\n            {this.state.passErr &&\r\n              <span className='error'>Please enter your password!</span>}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              fullWidth\r\n              name=\"description\"\r\n              label=\"Description\"\r\n              type=\"description\"\r\n              id=\"description\"\r\n              multiline={true}\r\n              rows={4}\r\n              rowsMax={10}\r\n              value={this.state.acc_description}\r\n              onChange={this.handleDescChange}\r\n            />\r\n            {this.state.descErr &&\r\n              <span className='error'>Please enter the description of your organizer!</span>}\r\n            <br /><br />\r\n            {/* <div>\r\n              <Typography className=\"signIn\" component=\"h1\" variant=\"h5\">\r\n                Profile picture\r\n              </Typography>\r\n              <br />\r\n              <input type=\"file\" onChange={this.fileSelectedHandler} />\r\n            </div>\r\n            <div className=\"imgPreview\">\r\n              {this.state.imagePreviewUrl.map((url, index) =>\r\n                <div style={{ display: \"inline-block\" }}>\r\n                  <div class=\"modal-dialog\" >\r\n                    <div class=\"modal-content\">\r\n                      <div class=\"modal-header\">\r\n                        <img style={{ backgroundSize: \"cover\", width: \"100px\", height: \"100px\" }} class=\"img-responsive\" src={url} />\r\n                        <button type=\"button\" class=\"close\"\r\n                          onClick={() => { this.removePreview(index) }}\r\n                          style={{ fontSize: \"20px\" }}>&times;</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  &nbsp;\r\n                </div>\r\n              )}\r\n            </div> */}\r\n\r\n            <br />\r\n            <button className=\"btn noHoverButton  btn-block\" type=\"submit\" on>Sign Up</button>\r\n            <br />\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link to=\"/sign-in\" variant=\"body2\">\r\n                  Already have an account? Sign In !\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}>\r\n        </Box>\r\n      </Container>\r\n    );\r\n\r\n  }\r\n\r\n}\r\nexport default withStyles(styles)(SignUp); ","import React from 'react';\r\nimport './../css/style.css'\r\n\r\nclass AboutUS extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"font App\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <br /><br /><br /><br /><br />\r\n                <div className=\"pageTitle\">About Us</div>\r\n                <br />\r\n                <div className=\"row\">\r\n                    <div className=\"col-7\">\r\n                        <div className=\"container\"></div>\r\n                        <p className=\"container\">\r\n                            <p>\r\n                                Our goal at Keep Vietnam Clean & Green (KVCG) is to raise awareness about the litter & trash problem in Vietnam. While we understand there are many other issues that impact the environment, our focus is on littering, as we believe it to be the most basic of environmental issues and the foundational basis of environmental education. We believe, How can we educate people about issues like climate change, sustainable building, reusable energies and recycling when we cant get the general population to stop littering?\r\n                            </p>\r\n                            <p>\r\n                                Our first program, started in June 2013, was the Green Ribbon Campaign that won the international Youth4Asia competition sponsored by the Asian Development Bank in 2015 when we worked with 15 universities in Vietnam to get over 40,000 pledges to not litter. We were honored to present our program to the Environment Ministers of all the countries in the Greater Mekong Region in Myanmar and then again in 2016 at the Asia Youth Conference in the Philippines.\r\n                            </p>\r\n                            <p>\r\n                                In April 2015, we started our second program the Community Clean Ups on Phu Quoc Island. We have, since then, also organized clean ups in Han Noi, HCMC, Hoi An, Hue and Can Tho and have engaged over organizations to join the clean ups.                            </p>\r\n                            <p>\r\n                                In 2016, we developed the characters for the Green Turtle Army, a campaign targeting children. We are excited as these mascots will educate children about the negative impacts of littering. Our partners in this effort are (1) RMIT Universitys Centre of Communication and Design, whose students designed the characters and (2) Saigon South International School, whose elementary and middle school students helped to create activities based on the Green Turtle Army characters.\r\n                            </p>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"col-5\">\r\n                        <img src=\"http://vietnamsachvaxanh.org/wp-content/uploads/a_MG_0443s.jpg\" style={{ width: \"100%\" }}></img>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default (AboutUS)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport axios from 'axios';\r\nimport { actionFetchEventsRequest, \r\n  actionDeleteEventsRequest, \r\n  actionFetchEventsByIDRequest,\r\n  actionFetchEventsByOwnerRequest,\r\n  actionFetchAccountsByIDRequest,\r\n  actionDownloadEventsByAccountRequest } from '../action/actions'\r\nimport { Link } from 'react-router-dom';\r\nimport {Modal,ModalHeader,ModalBody} from 'reactstrap'\r\nimport jwtDecode from 'jwt-decode'\r\nimport Cryptr from 'cryptr'\r\nconst cryptr = new Cryptr('myTotalySecretKey');\r\n\r\n\r\n\r\n\r\n\r\nclass EventListPage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayItems: [],\r\n      readytodeleteEvent: '',\r\n      notify: false,\r\n      idNow: '',\r\n      nameNow: '',\r\n      descNow: '',\r\n      photoNow: '',\r\n\r\n      keyword: '',\r\n      filterCity: \"\",\r\n      filterDistrict: \"\",\r\n      filterTime: \"\"\r\n    }\r\n    this.closeModal = this.closeModal.bind(this)\r\n    this.download = this.download.bind(this)\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onChangeFilterCity = this.onChangeFilterCity.bind(this);\r\n    this.onChangeFilterDistrict = this.onChangeFilterDistrict.bind(this);\r\n    this.onChangeFilterTime = this.onChangeFilterTime.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    const userToken = localStorage.getItem(\"usertoken\")\r\n    const socialType = localStorage.getItem(\"socialtype\")\r\n\r\n\r\n    if (typeof userToken !== \"undefined\" && userToken !== null) {\r\n      var decoded = jwtDecode(userToken);\r\n      const id = decoded.acc_id;\r\n      const name = decoded.acc_username;\r\n      const desc = decoded.acc_description;\r\n      const photo = decoded.acc_profile_pic\r\n      this.setState({idNow: id, nameNow: name, descNow: desc, photoNow: photo})\r\n      if (decoded.acc_username == \"admin\") {\r\n        this.props.actionFetchEvents()\r\n      } else{\r\n        this.props.fetchEventsByOwner(id)\r\n        this.setState({ displayItems: this.props.events.events })\r\n      }\r\n    }\r\n    else if (socialType == \"facebook\"){\r\n        axios({\r\n            method: 'GET',\r\n            url: `http://localhost:3000/sociallogin/fblogin`,\r\n            data: null\r\n        })\r\n            .then(res => {\r\n                if (res.data != \"Not authenticated\") {\r\n                    var decoded = jwtDecode(res.data);\r\n                    console.log(\"YOU CAN DO THISS\")\r\n                    console.log(decoded)\r\n                    const id = decoded.user_id;\r\n                    const name = decoded.user_name;\r\n                    // const desc = decoded.acc_description;\r\n                    // const photo = decoded.acc_profile_pic\r\n                    this.setState({idNow: id, nameNow: name})\r\n                    this.props.fetchEventsByOwner(id)\r\n                    this.setState({ displayItems: this.props.events.events })\r\n                }\r\n                else {  window.location.href=\"/#/sign-in\"}\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    else if (socialType == \"gmail\"){\r\n            axios({\r\n                method: 'GET',\r\n                url: `http://localhost:3000/sociallogin/gmaillogin`,\r\n                data: null\r\n            })\r\n                .then(res => {\r\n                    if (res.data['authorization'] == \"true\") {\r\n                        var decoded = jwtDecode(res.data.token);\r\n                        console.log(\"YOU CAN DO THISS AGAIN\")\r\n                        console.log(decoded)\r\n                        const id = decoded.user_id;\r\n                        const name = decoded.user_name;\r\n                        // const desc = decoded.acc_description;\r\n                        // const photo = decoded.acc_profile_pic\r\n                        this.setState({idNow: id, nameNow: name})\r\n                        this.props.fetchEventsByOwner(id)\r\n                        this.setState({ displayItems: this.props.events.events })\r\n                    }\r\n                    else {  window.location.href=\"/#/sign-in\"}\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n\r\n    }\r\n  }\r\n  componentWillReceiveProps(props) {\r\n    this.setState({ displayItems: props.events.events })\r\n  }\r\n\r\n\r\ndeleteBooking(name) {\r\n  this.props.actionDeleteEvents(name)\r\n  this.setState({notify: false})\r\n}\r\n\r\n  //get date from timestamp \r\n  getDate(timestamp) {\r\n    return new Date(timestamp).toDateString()\r\n    // return new Date(timestamp).getDate()\r\n  }\r\n\r\n  //get time from timestamp\r\n  getTime(timestamp) {\r\n    return new Date(timestamp).toLocaleTimeString()\r\n    // return new Date(timestamp).getTime()\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({notify: false})\r\n  }\r\n\r\n  openModal = (a) =>{\r\n    this.setState({\r\n      notify: true,\r\n      readytodeleteEvent: a\r\n    })\r\n  }\r\n\r\n  download() {\r\n    this.props.actionDownloadEventsByAccount(this.state.idNow, this.state.nameNow)\r\n  }\r\n\r\n  searchFunc(e) {\r\n    // If the search bar isn't empty\r\n    if (this.state.filterTime == \"Morning\") {\r\n      let array = this.props.events.events.filter(value => value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n          && value.cs_address.includes(this.state.filterDistrict)\r\n          && value.cs_address.includes(this.state.filterCity)\r\n          && new Date(value.cs_start_time).getHours() < 12)\r\n      this.setState({ displayItems: array })\r\n    } else if (this.state.filterTime == \"Afternoon\") {\r\n        let array = this.props.events.events.filter(value => value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n          && value.cs_address.includes(this.state.filterDistrict)\r\n          && value.cs_address.includes(this.state.filterCity)\r\n          && new Date(value.cs_start_time).getHours() < 17 && new Date(value.cs_start_time).getHours() >=12)\r\n        this.setState({ displayItems: array })\r\n    } else if (this.state.filterTime == \"Evening\") {\r\n        let array = this.props.events.events.filter(value => value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n          && value.cs_address.includes(this.state.filterDistrict)\r\n          && value.cs_address.includes(this.state.filterCity)\r\n          && new Date(value.cs_start_time).getHours() < 21 && new Date(value.cs_start_time).getHours() >=17)\r\n        this.setState({ displayItems: array })\r\n    } else if (this.state.keyword == \"\" && this.state.filterCity == \"\" && this.state.filterDistrict == \"\" && this.state.filterTime == \"\") {\r\n        this.setState({ displayItems: this.props.events.events })\r\n    } else if (this.state.filterTime == \"\") {\r\n        let array = this.props.events.events.filter(value => value.cs_name.toLowerCase().includes(this.state.keyword.toLowerCase())\r\n          && value.cs_address.includes(this.state.filterDistrict)\r\n          && value.cs_address.includes(this.state.filterCity))\r\n        this.setState({ displayItems: array })\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n      this.setState({\r\n          keyword: e.target.value\r\n      });\r\n  }\r\n\r\n  onChangeFilterCity(e) {\r\n      this.setState({\r\n          filterCity: e.target.value\r\n      })\r\n  }\r\n\r\n  onChangeFilterDistrict(e) {\r\n      this.setState({\r\n          filterDistrict: e.target.value\r\n      })\r\n  }\r\n\r\n  onChangeFilterTime(e) {\r\n      this.setState({\r\n          filterTime: e.target.value\r\n      })\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state, \"state\")\r\n    return (\r\n      <div className=\"tableMargin App Min-height\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n        <br /><br /><br /><br /><br />\r\n        <Modal isOpen={this.state.notify}>\r\n          <ModalBody><h5 style={{ display: 'flex', alignItems: \"left\", justifyContent: 'left' }}>Are you sure you want to delete this event?</h5></ModalBody>\r\n            <ModalBody style={{ display: \"flex\" ,justifyContent: \"flex-end\" }}>\r\n              <Link>\r\n                <button className=\"btn btn-danger btn-sm\" onClick={() => {this.deleteBooking(this.state.readytodeleteEvent)} }>\r\n                  Yes\r\n                </button>\r\n              </Link>\r\n                                \r\n                &nbsp;    \r\n                \r\n              <button type=\"button\" className=\"btn btn-secondary btn-sm\" onClick={this.closeModal} >\r\n                  Cancel\r\n              </button>\r\n            </ModalBody>\r\n          </Modal>\r\n        <div className='row'>\r\n          <div className='col-2'>\r\n            <img style={{backgroundSize: \"cover\", width: \"200px\", height: \"200px\"}} class=\"img-responsive\" src={this.state.photoNow} />\r\n          </div>\r\n          <div className='col-8'>\r\n            <h3>{this.state.nameNow}</h3>\r\n            <p>{this.state.descNow}</p>\r\n          </div>\r\n        </div>\r\n        <br/>\r\n        <div className=\"pageTitle\">List of Events</div>\r\n        <br/>\r\n        <a href='/#/event-list' onClick={this.download}>Download your events</a>\r\n        <br/>\r\n        {this.state.nameNow == \"admin\" && \r\n        <div className=\"form-inline searchCenter\">\r\n\r\n                    <input className=\"form-control mr-sm-2 \"\r\n                        type=\"search\"\r\n                        placeholder=\"Event name...\"\r\n                        value={this.state.keyword}\r\n                        name=\"keyword\"\r\n                        onChange={this.handleChange}\r\n                    />\r\n\r\n                    <div class=\"form-row align-items-center\">\r\n                        <div class=\"col-auto my-1\">\r\n                            <select class=\"custom-select mr-sm-2\"\r\n                                value={this.state.filterCity}\r\n                                onChange={this.onChangeFilterCity}>\r\n                                <option selected value=\"\">City...</option>\r\n                                <option>Ho Chi Minh</option>    <option>Ha Noi</option> <option>Ba Ria - Vung Tau</option>  <option>Da Nang</option>\r\n                                <option>Can Tho</option>   <option>An Giang</option>    <option>Bac Giang</option>  <option>Bac Kan</option>    <option>Bac Lieu</option>\r\n                                <option>Bac Ninh</option>  <option>Ben Tre</option>     <option>Binh Dinh</option>    <option>Binh Duong</option>\r\n                                <option>Binh Phuoc</option>  <option>Binh Thuan</option>    <option>Ca Mau</option>  <option>Cao Bang</option>\r\n                                <option>Dak Lak</option>    <option>Dak Nong</option>  <option>Dien Bien</option>   <option>Dong Nai</option>\r\n                                <option>Dong Thap</option>  <option>Gia Lai</option>    <option>Ha Giang</option>   <option>Ha Nam</option>\r\n                                <option>Ha Tinh</option>    <option>Hai Duong</option>  <option>Hai Phong</option>    <option>Hau Giang</option>\r\n                                <option>Hoa Binh</option>   <option>Hung Yen</option>  <option>Khanh Hoa</option>\r\n                                <option>Kien Giang</option>  <option>Kon Tum</option>   <option>Lai Chau</option>  <option>Lam Dong</option>\r\n                                <option>Lang Son</option>  <option>Lao Cai</option>     <option>Long An</option>    <option>Nam Dinh</option>\r\n                                <option>Nghe An</option>    <option>Ninh Binh</option>  <option>Ninh Thuan</option>  <option>Phu Tho</option>\r\n                                <option>Phu Yen</option>    <option>Quang Binh</option>     <option>Quang Nam</option>    <option>Quang Ngai</option>\r\n                                <option>Quang Ninh</option>  <option>Quang Tri</option>     <option>Soc Trang</option>    <option>Son La</option>\r\n                                <option>Tay Ninh</option>      <option>Thai Binh</option>   <option>Thai Nguyen</option>    <option>Thanh Hoa</option>\r\n                                <option>Thua Thien Hue</option>  <option>Tien Giang</option>    <option>Tra Vinh</option>  <option>Tuyen Quang</option>\r\n                                <option>Vinh Long</option>    <option>Vinh Phuc</option>    <option>Yen Bai</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"col-auto my-1\">\r\n                            {this.state.filterCity == \"\" &&\r\n                                <select class=\"custom-select mr-sm-2\"\r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterDistrict}\r\n                                    onChange={this.onChangeFilterDistrict}>\r\n                                    <option selected value=\"\">District...</option>\r\n                                </select>\r\n                            }\r\n                            {this.state.filterCity.toLowerCase() == \"ho chi minh\" &&\r\n                                <select class=\"custom-select mr-sm-2\"\r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterDistrict}\r\n                                    onChange={this.onChangeFilterDistrict}>\r\n                                    <option selected value=\"\">District...</option>\r\n                                    <option>Quan 1</option>    <option>Quan 2</option>  <option>Quan 3</option>    <option>Quan 4</option>\r\n                                    <option>Quan 5</option>    <option>Quan 6</option>  <option>Quan 7</option>    <option>Quan 8</option>\r\n                                    <option>Quan 9</option>    <option>Quan 10</option> <option>Quan 11</option>   <option>Quan 12</option>\r\n                                    <option>Binh Tan</option>  <option>Binh Thanh</option>   <option>Go Vap</option>       <option>Phu Nhuan</option>\r\n                                    <option>Tan Binh</option>  <option>Tan Phu</option> <option>Thu Duc</option>    <option>Binh Chanh</option>\r\n                                    <option>Can Gio</option>      <option>Cu Chi</option>   <option>Hoc Mon</option>    <option>Nha Be</option>\r\n                                </select>\r\n                            }\r\n                            {this.state.filterCity.toLowerCase() == \"ha noi\" &&\r\n                                <select class=\"custom-select mr-sm-2\"\r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterDistrict}\r\n                                    onChange={this.onChangeFilterDistrict}>\r\n                                    <option selected>District...</option>\r\n                                    <option>Ba Dinh</option>    <option>Hoan Kiem</option>  <option>Hai Ba Trung</option>    <option>Dong Da</option>\r\n                                    <option>Cau Giay</option>    <option>Long Bien</option>  <option>Hoang Mai</option>    <option>Soc Son</option>\r\n                                    <option>Bac Tu Liem</option>    <option>Thanh Tri</option> <option>Gia Lam</option>   <option>Ba Vi</option>\r\n                                    <option>Chuong My</option>  <option>Dan Phuong</option>   <option>Hoai Duc</option>       <option>My Duc</option>\r\n                                    <option>Phu Xuyen</option>  <option>Phu Tho</option> <option>Quoc Oai</option>    <option>Thach That</option>\r\n                                    <option>Thanh Oai</option>      <option>Thuong Tin</option>   <option>Ung Hoa</option>    <option>Me Linh</option>\r\n                                    <option>Ha Dong</option>    <option>Son Tay</option>    <option>Dong Anh</option>   <option>Nam Tu Liem</option>\r\n                                    <option>Thanh Xuan</option>    <option>Tay Ho</option>\r\n                                </select>\r\n                            }\r\n                        </div>\r\n\r\n                        <div class=\"col-auto my-1\">\r\n                            <select class=\"custom-select mr-sm-2\" \r\n                                    id=\"inlineFormCustomSelect\"\r\n                                    value={this.state.filterTime}\r\n                                    onChange={this.onChangeFilterTime}>\r\n                                <option selected value=\"\">Time...</option>\r\n                                <option>Morning</option>\r\n                                <option>Afternoon</option>\r\n                                <option>Evening</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button className=\"btn searchBtn my-2 my-sm-0 col-md-1\"\r\n                            onClick={this.searchFunc.bind(this)}>\r\n                        <img className=\"kinhlup\" src=\"https://www.stickpng.com/assets/images/585e4ae9cb11b227491c3394.png\" width=\"27px\" height=\"30px\" alt=\"No Logo\" />\r\n                    </button>\r\n                </div>\r\n                }\r\n        <br/>\r\n        <table className=\"table table-hover tableColor\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\" style={{ width: \"200px\" }}>Name</th>\r\n              <th scope=\"col\" style={{ width: \"350px\" }}>Date / Time</th>\r\n              <th scope=\"col\" style={{ width: \"250px\" }}>Location</th>\r\n              <th scope=\"col\" style={{ width: \"350px\" }}>Address</th>\r\n              {this.state.nameNow == 'admin' && <th scope=\"col\">Action</th>}\r\n              <th scope=\"col\">Publicity</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.displayItems.map((event, index) =>\r\n              <tr key={index} >\r\n                <td >{index + 1}</td>\r\n                {this.state.nameNow !== 'admin' && \r\n                  <td ><Link style={{fontWeight: \"500\", color:\"black\"}} to={`/event-detail-owner/${event.clean_site_id}` }>{event.cs_name}</Link></td>\r\n                }\r\n                {this.state.nameNow == 'admin' && \r\n                  <td ><Link style={{fontWeight: \"500\", color:\"black\"}} to={`/event-detail-admin/${event.clean_site_id}` }>{event.cs_name}</Link></td>\r\n                }\r\n                <td >{this.getDate(event.cs_start_time)}, {this.getTime(event.cs_start_time)}-{this.getTime(event.cs_end_time)}</td>\r\n                <td >{this.getTime(event.cs_end_time)}, {this.getDate(event.cs_end_time)}</td>\r\n                <td >{event.cs_address}</td>\r\n                {this.state.nameNow == 'admin' && \r\n                <td>\r\n                <Link to={`/edit-event/${event.clean_site_id}`}>\r\n                  <button type=\"button\" className=\"btn btn-warning btn-sm\" >\r\n                    Edit\r\n                  </button>\r\n                </Link>\r\n\r\n                &nbsp;    \r\n                \r\n                <button type=\"button\" className=\"btn btn-danger btn-sm\" \r\n                onClick={() => {this.openModal(event.clean_site_id)} }>\r\n                    Delete\r\n                </button>\r\n                </td>\r\n                }\r\n                <td >{event.cs_inex}</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    events: state.events,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchEventsById: (id) => { dispatch(actionFetchEventsByIDRequest(id)) },\r\n    fetchEventsByOwner: (ownerid) => { dispatch(actionFetchEventsByOwnerRequest(ownerid)) },\r\n    fetchAccountBySite: (ownerID) => { dispatch(actionFetchAccountsByIDRequest(ownerID)) },\r\n    actionDeleteEvents: (name) => { dispatch(actionDeleteEventsRequest(name)) },\r\n    actionFetchEvents: () => { dispatch(actionFetchEventsRequest()) },\r\n    actionDownloadEventsByAccount: (ownerid, ownername) => { dispatch(actionDownloadEventsByAccountRequest(ownerid, ownername)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EventListPage)","import React, { Component, useState } from 'react';\r\nimport { actionEditEventsRequest, actionFetchEventsByIDRequest } from '../action/actions'\r\nimport { connect } from 'react-redux'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './../css/style.css'\r\nimport MapForSetUpUI from '../MapComponents/MapForSetUp';\r\nimport axios from 'axios';\r\nimport {Modal, ModalBody} from 'reactstrap'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass EditLocationPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventId: '',\r\n            eventName: '',\r\n            eventLocationName: '',\r\n            eventAdress: \"\",\r\n            eventCoordLat: '',\r\n            eventCoordLng: '',\r\n            eventDescription: '',\r\n            eventDataCollected: '',\r\n            eventStartDateTime: this.get_7_days_after(),\r\n            eventEndDateTime: this.get_7_days_after(),\r\n            public: '',\r\n            ownerID: '',\r\n            eventNumParticipants: '',\r\n            eventTrashWeight: '',\r\n            eventRecyclableTrash: '',\r\n            eventNonRecyclableTrash: '',\r\n            eventOrganicTrash: '',\r\n            eventToolReq: '',\r\n            eventXSreq: '',\r\n            eventSreq: '',\r\n            eventMreq: '',\r\n            eventLreq: '',\r\n            eventXLreq: '',\r\n            eventPay: false,\r\n\r\n            notify: false,\r\n            nameErr: false,\r\n            descErr: false,\r\n            coordErr: false,\r\n            timeErr: false,\r\n            publicErr: false,\r\n            locationNameErr: false\r\n        }\r\n        this.handleNameChange = this.handleNameChange.bind(this)\r\n        this.handleLocationNameChange = this.handleLocationNameChange.bind(this)\r\n        this.handleCoordChange = this.handleCoordChange.bind(this)\r\n        this.handleStartDateTimeChange = this.handleStartDateTimeChange.bind(this)\r\n        this.handleEndDateTimeChange = this.handleEndDateTimeChange.bind(this)\r\n        this.handleDescriptionChange = this.handleDescriptionChange.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n        this.handleDataCollectedChange = this.handleDataCollectedChange.bind(this)\r\n        this.public = this.public.bind(this)\r\n        this.nopublic = this.nopublic.bind(this)\r\n    }\r\n\r\n    handleNameChange(e) {\r\n        this.setState({\r\n            eventName: e.target.value\r\n        });\r\n    }\r\n\r\n    handleLocationNameChange(e) {\r\n        this.setState({\r\n            eventLocationName: e.target.value\r\n        });\r\n    }\r\n\r\n    handleCoordChange() {\r\n        this.setState({\r\n            eventCoordLat: this.childData.lat,\r\n            eventCoordLng: this.childData.lng\r\n        });\r\n    }\r\n\r\n    handleStartDateTimeChange = (e) => {\r\n        this.setState({\r\n            eventStartDateTime: e,\r\n            eventEndDateTime: e\r\n        })\r\n    }\r\n\r\n    handleEndDateTimeChange = (e) => {\r\n        this.setState({\r\n            eventEndDateTime: e\r\n        });\r\n    }\r\n\r\n    handleDescriptionChange(e) {\r\n        this.setState({\r\n            eventDescription: e.target.value\r\n        });\r\n    }\r\n\r\n    handleDataCollectedChange(e) {\r\n        this.setState({\r\n            eventDataCollected: e.target.value\r\n        });\r\n    }\r\n\r\n    public() {\r\n        this.setState({\r\n            public: \"true\"\r\n        })\r\n    }\r\n\r\n    nopublic() {\r\n        this.setState({\r\n            public: \"false\"\r\n        })\r\n    }\r\n\r\n    get_end_of_date = () => {\r\n        var date = new Date();\r\n        date.setHours(23);\r\n        return date;\r\n    }\r\n\r\n    get_7_days_after = () => {\r\n        var date = new Date();\r\n        date.setDate(date.getDate() + 7);\r\n        return date;\r\n    }\r\n\r\n    get_24_hours_before = () => {\r\n        var date = this.state.eventEndDateTime;\r\n        date.setDate(date.getHours);\r\n        return date;\r\n    }\r\n\r\n    callBackFunc = (childData) => {\r\n        console.log(\"called from parent\")\r\n        this.setState({ eventCoordLat: childData.lat, eventCoordLng: childData.lng, eventAdress: childData.address })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const obj = {\r\n            //   id: this.state.id,\r\n            clean_site_id: this.state.eventId,\r\n            cs_name: this.state.eventName,\r\n            cs_address_name: this.state.eventLocationName,\r\n            cs_address: this.state.eventAdress.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\"),\r\n            cs_lat: this.state.eventCoordLat,\r\n            cs_long: this.state.eventCoordLng,\r\n            cs_agenda: this.state.eventDescription,\r\n            cs_start_time: this.state.eventStartDateTime,\r\n            cs_end_time: this.state.eventEndDateTime,\r\n            cs_ptcp_no: this.state.eventNumParticipants,\r\n            cs_amount_collected: this.state.eventTrashWeight,\r\n            cs_recy: this.state.eventRecyclableTrash,\r\n            cs_non_recy: this.state.eventNonRecyclableTrash,\r\n            cs_organic: this.state.eventOrganicTrash,\r\n            cs_rq_set: this.state.eventToolReq,\r\n            cs_xs_shirt: this.state.eventXSreq,\r\n            cs_s_shirt: this.state.eventSreq,\r\n            cs_m_shirt: this.state.eventMreq,\r\n            cs_l_shirt: this.state.cs_l_shirt,\r\n            cs_xl_shirt: this.state.eventXLreq,\r\n            cs_inex: this.state.eventInEx,\r\n            cs_pay: this.state.eventPay\r\n        };\r\n        if (this.state.eventName === \"\") {\r\n            console.log(\"check name\")\r\n          this.setState({\r\n                nameErr: true,\r\n                descErr: false,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n          })\r\n        } else if (this.state.eventDescription === \"\") {\r\n            console.log(\"check desc\")\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: true,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventStartDateTime.getDate() == this.state.eventEndDateTime.getDate() \r\n                    && this.state.eventStartDateTime.getTime() >= this.state.eventEndDateTime.getTime() ) {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: false,\r\n                timeErr: true,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventLocationName === \"\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: false,\r\n                locationNameErr: true,\r\n                timeErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.eventCoordLat === \"\" || this.state.eventCoordLng === \"\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: true,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: false\r\n            })\r\n        } else if (this.state.public === \"\") {\r\n            this.setState({\r\n                nameErr: false,\r\n                descErr: false,\r\n                coordErr: false,\r\n                timeErr: false,\r\n                locationNameErr: false,\r\n                publicErr: true\r\n            })\r\n        } else {\r\n            this.props.actionEditEvents(obj, this.state.eventId)\r\n            this.setState({\r\n                eventName: \"\",\r\n                eventAdress: \"\",\r\n                eventCoordLat: \"\",\r\n                eventCoordLng: \"\",\r\n                eventDescription: \"\",\r\n                eventEndDateTime: \"\",\r\n                eventStartDateTime: \"\",\r\n                eventDataCollected: \"\",\r\n                eventLocationName:\"\",\r\n                notify: true,\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userToken = localStorage.getItem(\"usertoken\")\r\n        if (typeof userToken !== \"undefined\" && userToken !== null) {\r\n            var { match } = this.props\r\n            console.log(this.props)\r\n            if (match) {\r\n                var eventID = match.params.eventID\r\n                console.log(eventID)\r\n                axios({\r\n                    method: 'GET',\r\n                    url: `http://localhost:3000/cleansite/${eventID}`,\r\n                    data: null\r\n                }).then(res => {\r\n                    console.log(res.data, \"data\")\r\n                    var data = res.data[0]\r\n                    this.setState({\r\n                        eventId: data.clean_site_id,\r\n                        eventName: data.cs_name,\r\n                        eventLocationName: data.cs_address_name,\r\n                        eventAddress: data.cs_address,\r\n                        eventDescription: data.cs_agenda, \r\n                        eventStartDateTime: new Date(data.cs_start_time),\r\n                        eventEndDateTime: new Date(data.cs_end_time),\r\n                        eventNumParticipants: data.cs_ptcp_no,\r\n                        eventTrashWeight: data.cs_amount_collected,\r\n                        eventRecyclableTrash: data.cs_recy,\r\n                        eventNonRecyclableTrash: data.cs_non_recy,\r\n                        eventOrganicTrash: data.cs_organic,\r\n                        eventToolReq: data.cs_rq_set,\r\n                        eventXSreq: data.cs_xs_shirt,\r\n                        eventSreq: data.cs_s_shirt,\r\n                        eventMreq: data.cs_m_shirt,\r\n                        eventLreq: data.cs_l_shirt,\r\n                        eventXLreq: data.cs_xl_shirt,\r\n                        eventInEx: data.cs_inex,\r\n                        eventPay: Boolean(data.cs_pay)\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        } else {\r\n            window.location.href = \"/#/sign-in\"\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        console.log(this.state, \"state\")\r\n        return (\r\n            <div className=\"App\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <br /><br /><br /><br /><br />\r\n                <Modal isOpen={this.state.notify}>\r\n                        <ModalBody><h5 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Successfully edited!</h5></ModalBody>\r\n                        <ModalBody>\r\n                            <Link to={`/event-list`} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <button className=\"btn btn-success btn-sm\">\r\n                                    Back to List page\r\n                                </button>\r\n                            </Link>\r\n                        </ModalBody>\r\n                    </Modal>\r\n                <div className=\"pageTitle\">Edit event</div>\r\n                <br />\r\n                <form action='#' id='book-form' className=\"{formStatus} needs-validation\" onSubmit={this.onSubmit} novalidate>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-6\">\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label>Event Name *</label>\r\n                                <input type=\"text\" className=\"col\"\r\n                                    placeholder=\"name...\"\r\n                                    className=\"form-control\"\r\n                                    value={this.state.eventName}\r\n                                    onChange={this.handleNameChange}\r\n                                />\r\n                                {this.state.nameErr && \r\n                                        <span className='error'>Please fill in this field!</span>}\r\n                            </div>\r\n\r\n                            {/* text area for notes */}\r\n                            <div class=\"form-group\">\r\n                                <label>Agenda *</label>\r\n                                <textarea placeholder=\"tell everyone a bit about your event...\"\r\n                                    class=\"form-control\"\r\n                                    id=\"exampleFormControlTextarea1\"\r\n                                    rows=\"14\"\r\n                                    value={this.state.eventDescription}\r\n                                    onChange={this.handleDescriptionChange}\r\n                                >\r\n                                </textarea>\r\n                                {this.state.descErr && \r\n                                    <span className='error'>Please fill in this field!</span>}\r\n                            </div>\r\n\r\n                            {/* Date & Time picker */}\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                                    <label>Start Date / Time *</label>\r\n                                    <div className=\"form-group\">\r\n                                        <DatePicker\r\n                                            className='form-control'\r\n                                            selected={this.state.eventStartDateTime}\r\n                                            minDate={this.get_7_days_after()}\r\n                                            showTimeSelect\r\n                                            timeFormat=\"HH:mm\"\r\n                                            timeIntervals={30}\r\n                                            dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                                            timeCaption=\"Time\"\r\n                                            onSelect={this.handleSelect}\r\n                                            placeholderText=\"date - time\"\r\n                                            onChange={this.handleStartDateTimeChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div className=\"col\">\r\n                                    <label>End Date / Time *</label>\r\n                                    <div className=\"form-group\">\r\n                                        <DatePicker\r\n                                            className='form-control'\r\n                                            selected={this.state.eventEndDateTime}\r\n                                            minDate={this.state.eventStartDateTime}\r\n                                            // minTime={this.state.eventStartDateTime}\r\n                                            // maxTime={this.get_end_of_date()}\r\n                                            showTimeSelect\r\n                                            excludeOutOfBoundsTimes\r\n                                            // excludeTimes={this.state.disableSlots}\r\n                                            timeFormat=\"HH:mm\"\r\n                                            timeIntervals={30}\r\n                                            dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                                            timeCaption=\"time\"\r\n                                            onSelect={this.handleSelect}\r\n                                            placeholderText=\"date - time\"\r\n                                            onChange={this.handleEndDateTimeChange}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {this.state.timeErr && \r\n                                    <span className='error'>Invalid end time!</span>}\r\n                        </div>\r\n\r\n                        <br />\r\n\r\n                        <div className=\"col-6\">\r\n                            <div className=\"form-group\">\r\n                                <label>Location Name *</label>\r\n                                <input type=\"text\" className=\"col\"\r\n                                    placeholder=\"location name...\"\r\n                                    className=\"form-control\"\r\n                                    value={this.state.eventLocationName}\r\n                                    onChange={this.handleLocationNameChange}\r\n                                />\r\n                                {this.state.locationNameErr &&\r\n                                    <span className='error'>Please fill in this field!</span>}\r\n                            </div>\r\n                            <label>Location *</label>\r\n                            <div>\r\n                                <MapForSetUpUI history={this.callBackFunc} onChange={this.handleCoordChanges} />\r\n                                {this.state.coordErr && \r\n                                        <span className='error'>Please choose your location!</span>}\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                            <div>\r\n                                <label>Public this event? *</label>\r\n                                <div className=\"form-group\">\r\n                                    <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                        <input type=\"radio\" \r\n                                                id=\"customRadio1\" \r\n                                                name=\"customRadio\" \r\n                                                class=\"custom-control-input\"\r\n                                                value={this.state.public} \r\n                                                // checked={this.public}  \r\n                                                onChange={this.public}\r\n                                                />\r\n                                        <label class=\"custom-control-label\" for=\"customRadio1\">Yes</label>\r\n                                    </div>\r\n                                    <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                        <input type=\"radio\" \r\n                                                id=\"customRadio2\" \r\n                                                name=\"customRadio\" \r\n                                                class=\"custom-control-input\"\r\n                                                value={this.state.public} \r\n                                                // checked={this.nopublic} \r\n                                                onChange={this.nopublic}\r\n                                                />\r\n                                        <label class=\"custom-control-label\" for=\"customRadio2\">No</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {this.state.publicErr &&\r\n                                        <span className='error'>Please choose an option!</span>}\r\n\r\n                        </div>\r\n\r\n                        <br />\r\n\r\n                    </div>\r\n\r\n                    <br />\r\n                    <br />\r\n                    \r\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }} >\r\n                        <button className=\"btn btnColor btn-lg\" type=\"submit\" on>Change</button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        fetchEventsById: (id) => { dispatch(actionFetchEventsByIDRequest(id)) },\r\n        actionEditEvents: (obj, id) => { dispatch(actionEditEventsRequest(obj, id)) }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditLocationPage)","import React, { Component } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport MapUI from '../MapComponents/Map';\r\nimport setUpLocation from '../pages/SetUpLocationPage'\r\nimport eventDetailPage from '../pages/EventDetailPage'\r\nimport eventDetailPageOwner from '../pages/EventDetailPageOwner'\r\nimport eventDetailPageAdmin from '../pages/EventDetailPageAdmin'\r\nimport signIn from '../pages/SignIn'\r\nimport signUp from '../pages/SignUp'\r\nimport aboutUs from '../pages/AboutUs'\r\nimport eventListPage from '../pages/EventListPage'\r\nimport editLocationPage from '../pages/EditLocationPage'\r\n\r\nclass Routes extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={MapUI} />\r\n        <Route path=\"/create-event\" component={setUpLocation} />\r\n        <Route path=\"/event-detail/:eventID\" component={eventDetailPage} />\r\n        <Route path=\"/event-detail-owner/:eventID\" component={eventDetailPageOwner} />\r\n        <Route path=\"/event-detail-admin/:eventID\" component={eventDetailPageAdmin} />\r\n        <Route path=\"/sign-in\" component={signIn} />\r\n        <Route path=\"/sign-up\" component={signUp} />\r\n        <Route path=\"/about-us\" component={aboutUs} />\r\n        <Route path=\"/event-list/\" component={eventListPage} />\r\n        <Route path=\"/edit-event/:eventID\" component={editLocationPage} />\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Routes;","import React, { Component } from 'react';\r\nimport './../css/style.css';\r\nimport { connect } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport jwtDecode from 'jwt-decode'\r\n\r\n\r\nclass Navbar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: '',\r\n            switch: false\r\n        }\r\n        this.signOut = this.signOut.bind(this)\r\n        this.signIn = this.signIn.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userToken = localStorage.getItem(\"usertoken\")\r\n        this.setState({ token: userToken })\r\n        if (typeof userToken !== \"undefined\" && userToken !== null) {\r\n            var decoded = jwtDecode(userToken);\r\n            this.setState({ name: decoded.acc_username })\r\n        }\r\n    }\r\n\r\n    signOut() {\r\n        this.setState({ switch: false, name: '' })\r\n        localStorage.removeItem('usertoken')\r\n        window.location.href = '/#/'\r\n        window.location.reload()\r\n    }\r\n\r\n    signIn() {\r\n        this.setState({ switch: true })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"fixed-top\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                <nav className=\"navbar navbar-expand-lg\">\r\n                    <a className=\"navbar-brand\" href=\"#\">\r\n                        <img src=\"svx-logo.png\" width=\"150\" height=\"50\" alt=\"\"></img>\r\n                    </a>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n                        <ul className=\"navbar-nav nav-item active mr-auto mt-2 mt-lg-0\">\r\n                        </ul>\r\n                        <div className=\" navbar-nav my-2 my-lg-0\">\r\n                            <ul className=\"navbar-nav\">\r\n                                <Button className=\"nav-link navFontColor\" href=\"#/\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                                    Map of Events\r\n                            </Button>\r\n                            </ul>\r\n                            <ul className=\"navbar-nav\">\r\n                                <Button className=\"nav-link navFontColor\" href=\"#/about-us\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                                    About Us\r\n                            </Button>\r\n                            </ul>\r\n                            {typeof this.state.name == 'undefined' &&\r\n                                <ul className=\"navbar-nav\">\r\n                                    <Button className=\"nav-link navFontColor\" href=\"#/event-list\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                                        Your Events\r\n                                </Button>\r\n                                </ul>\r\n                            }\r\n                            {typeof this.state.name !== 'undefined' &&\r\n                                <ul className=\"navbar-nav\">\r\n                                    <Button className=\"nav-link navFontColor\" href=\"#/event-list\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                                        {this.state.name} Events\r\n                                </Button>\r\n                                </ul>\r\n                            }\r\n                            <ul className=\"navbar-nav\">\r\n                                <Button className=\"nav-link navFontColor\" href=\"#/create-event\" style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                                    Create Your Event\r\n                            </Button>\r\n                            </ul>\r\n                            {this.state.token !== null &&\r\n                                <ul className=\"navbar-nav\">\r\n                                    <Button className=\"nav-link navFontColor\"\r\n                                        onClick={() => { this.signOut() }}\r\n                                        style={{ backgroundColor: \"rgb(250, 250, 250)\" }}\r\n                                    >\r\n                                        Sign Out\r\n                                    </Button>\r\n                                </ul>\r\n                            }\r\n                            {this.state.token == null &&\r\n                                <ul className=\"navbar-nav\">\r\n                                    <Button className=\"nav-link navFontColor\"\r\n                                        href=\"#/sign-in\"\r\n                                        style={{ backgroundColor: \"rgb(250, 250, 250)\" }}>\r\n                                        Sign In\r\n                                    </Button>\r\n                                </ul>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default (Navbar);","import React, { Component } from 'react';\r\nimport { HashRouter as Router, Route } from 'react-router-dom';\r\nimport Routes from './components/Routes';\r\nimport Navbar from './components/Navbar'        \r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"bckgrd\">\r\n                <Router>\r\n                    <Navbar/>\r\n                    <Route path='/' component={Routes}></Route>\r\n                </Router>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default App;\r\n","import * as Types from '../action/constants.js';\r\n\r\nvar initialState = {\r\n    volunteers: [],\r\n    volunteer: {},\r\n    volunteersBySite: []\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case Types.FETCH_VOLUNTEERS:\r\n            return {\r\n                ...state,\r\n                volunteers: action.payload\r\n            }\r\n        case Types.FETCH_VOLUNTEERS_BY_EMAIL:\r\n            return {\r\n                ...state,\r\n                volunteer: action.payload\r\n            }\r\n        case Types.FETCH_VOLUNTEERS_BY_SITE:\r\n            return {\r\n                ...state,\r\n                volunteersBySite: action.payload\r\n            }\r\n        case Types.ADD_VOLUNTEERS:\r\n            return {\r\n                ...state,\r\n                volunteers: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}","import * as Types from '../action/constants.js';\r\n\r\nvar initialState = {\r\n    events: [],\r\n    event: {},\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case Types.FETCH_EVENTS:\r\n            return {\r\n                ...state,\r\n                events: action.payload\r\n            }\r\n        case Types.FETCH_EVENTS_BY_ID:\r\n            return {\r\n                ...state,\r\n                event: action.payload\r\n            }\r\n        case Types.DOWNLOAD_EVENTS_BY_ACCOUNT:\r\n            return {\r\n                ...state,\r\n                events: action.payload\r\n            }\r\n        case Types.FETCH_EVENTS_BY_OWNER:\r\n            return {\r\n                ...state,\r\n                events: action.payload\r\n            }\r\n        case Types.ADD_EVENTS:\r\n            return {\r\n                ...state,\r\n                events: [...state.events, action.payload]\r\n            }\r\n        case Types.DELETE_EVENTS:\r\n            let filtered = state.events.filter((event) => event.clean_site_id !== action.payload.toString())\r\n            return {\r\n                ...state,\r\n                events: filtered\r\n            }\r\n        case Types.EDIT_EVENTS:\r\n            let filteredEdit = state.events.filter((event) => event.clean_site_id !== action.payload)\r\n            return {\r\n                ...state,\r\n                events: filteredEdit\r\n            }\r\n        default: return state\r\n    }\r\n}","import * as Types from '../action/constants.js';\r\n\r\nvar initialState = {\r\n    accounts: [],\r\n    account: {},\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case Types.FETCH_ACCOUNTS_BY_ID:\r\n            return {\r\n                ...state,\r\n                account: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}","import {combineReducers} from 'redux'\r\nimport volunteers from './volunteers'\r\nimport events from'./events'\r\nimport accounts from './accounts'\r\n\r\nconst appReducers = combineReducers({\r\n    events: events,\r\n    volunteers: volunteers,\r\n    accounts: accounts\r\n})\r\n\r\nexport default appReducers","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport App from './App';\r\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport appReducers from './reducers/reducer';\r\nimport thunk from 'redux-thunk';\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\n\r\n\r\n\r\nconst store = createStore(\r\n    appReducers,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>, document.getElementById('root'));\r\n"],"sourceRoot":""}