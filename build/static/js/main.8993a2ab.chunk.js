(this.webpackJsonptesting=this.webpackJsonptesting||[]).push([[0],{106:function(e,t,a){},371:function(e,t,a){e.exports=a(822)},674:function(e,t,a){},744:function(e,t){},746:function(e,t){},779:function(e,t){},780:function(e,t){},822:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(16),s=a.n(o),r=a(39),i=(a(380),a(17)),c=a(18),m=a(20),u=a(19),h=a(21),d=a(26),p=a(89),v=a(9),E=a(5),g=a(98),b=a(226),f=a(111),y=a(62),C=a(345),_=a(875),N=a(346),S=Object(_.a)({searchBox:{marginTop:10,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)"},input:{width:240,height:40,fontSize:14,borderRadius:3,outline:"none",padding:"0 12px",boxSizing:"border-box",textOverflow:"ellipses",border:"1px solid transparent"}}),T=function(e){var t=e.onPlacesChanged,a=e.controlPosition,o=void 0===a?google.maps.ControlPosition.TOP_LEFT:a,s=S(),r=Object(n.useRef)(null);return l.a.createElement(N.SearchBox,{ref:r,onPlacesChanged:function(){t(r.current.getPlaces()[0])},controlPosition:o},l.a.createElement("div",{className:s.searchBox},l.a.createElement("input",{style:{width:"150%"},type:"text",placeholder:"Search landmarks, addresses & more...",className:s.input})))},w=a(45),D=a.n(w),O=a(13),k=a.n(O),j=function(e){return{type:"ADD_EVENTS",payload:e}},L=function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"POST",url:"http://localhost:3000/cleansite/delete/".concat(e),data:null}).then((function(e){console.log(e.data,"data"),t(x(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},x=function(e){return{type:"DELETE_EVENTS",payload:e}},I=function(e,t){return function(a){return D.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",k()({method:"PUT",url:"http://localhost:3000/cleansite/".concat(t),data:e}).then((function(e){console.log(e.data,"edited"),a(P(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return n.stop()}}))}},P=function(e){return{type:"EDIT_EVENTS",payload:e}},F=function(){return function(e){return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k()({method:"GET",url:"http://localhost:3000/cleansite/all",data:null}).then((function(t){e(B(t.data))})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}))}},B=function(e){return{type:"FETCH_EVENTS",payload:e}},M=function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"GET",url:"http://localhost:3000/cleansite/".concat(e),data:null}).then((function(e){console.log(e.data[0],"get by id"),t(A(e.data[0]))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},A=function(e){return{type:"FETCH_EVENTS_BY_ID",payload:e}},R=function(e){return{type:"FETCH_EVENTS_BY_OWNER",payload:e}},H=function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"GET",url:"http://localhost:3000/volunteer/".concat(e),data:null}).then((function(e){console.log(e.data[0],"get by email"),t(V(e.data[0]))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},V=function(e){return{type:"FETCH_VOLUNTEERS_BY_EMAIL",payload:e}},q=function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"POST",url:"http://localhost:3000/volunteer",data:e}).then((function(e){t(z(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},z=function(e){return{type:"ADD_VLOUNTEERS",payload:e}},W=function(){return function(e){return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k()({method:"GET",url:"http://localhost:3000/volunteer/all",data:null}).then((function(t){console.log(t.data,"get all volunteers"),e(U(t.data))})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}))}},U=function(e){return{type:"FETCH_VOLUNTEERS",payload:e}},G=function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"POST",url:"http://localhost:3000/sitevolunteer",data:e}).then((function(e){t(Q(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},Q=function(e){return{type:"ADD_SITE_VOLUNTEER",payload:e}},Y=function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"GET",url:"http://localhost:3000/cleansite/".concat(e,"/volunteer"),data:null}).then((function(e){console.log(e.data,"get by site id"),t(X(e.data))})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},X=function(e){return{type:"FETCH_VOLUNTEERS_BY_SITE",payload:e}},K=function(e,t){return function(a){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k()({method:"GET",url:"http://localhost:3000/cleansite/".concat(e,"/volunteer/download"),data:null,responseType:"blob"}).then((function(e){console.log(e.data,"get volunteers by site");var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download","".concat(t," volunteers.xlsx")),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e)})));case 1:case"end":return a.stop()}}))}},J=function(e){return{type:"FETCH_ACCOUNTS_BY_ID",payload:e}},$=a(347),Z=a(227),ee=a(69),te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={pager:{}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.items&&this.props.items.length&&this.setPage(this.props.initialPage)}},{key:"componentDidUpdate",value:function(e,t){this.props.items!==e.items&&this.setPage(this.props.initialPage)}},{key:"setPage",value:function(e){var t=this.props,a=t.items,n=t.pageSize,l=this.state.pager;if(!(e<1||e>l.totalPages)){l=this.getPager(a.length,e,n);var o=a.slice(l.startIndex,l.endIndex+1);this.setState({pager:l}),this.props.onChangePage(o)}}},{key:"getPager",value:function(e,t,a){t=t,a=a;var n,l,o=Math.ceil(e/a);o<=10?(n=1,l=o):t<=6?(n=1,l=10):t+4>=o?(n=o-9,l=o):(n=t-5,l=t+4);var s=(t-1)*a,r=Math.min(s+a-1,e-1),i=Object(ee.a)(Array(l+1-n).keys()).map((function(e){return n+e}));return{totalItems:e,currentPage:t,pageSize:a,totalPages:o,startPage:n,endPage:l,startIndex:s,endIndex:r,pages:i}}},{key:"render",value:function(){var e=this,t=this.state.pager;return!t.pages||t.pages.length<=1?null:l.a.createElement("ul",{className:"pagination justify-content-center"},l.a.createElement("li",{className:1===t.currentPage?"page-item disabled":"page-item"},l.a.createElement("a",{className:"page-link",onClick:function(){return e.setPage(1)}},"First")),l.a.createElement("li",{className:1===t.currentPage?"page-item disabled":"page-item"},l.a.createElement("a",{className:"page-link",onClick:function(){return e.setPage(t.currentPage-1)}},"Previous")),t.pages.map((function(a,n){return l.a.createElement("li",{key:n,className:t.currentPage===a?"page-item active":"page-item"},l.a.createElement("a",{className:"page-link",onClick:function(){return e.setPage(a)}},a))})),l.a.createElement("li",{className:t.currentPage===t.totalPages?"page-item disabled":"page-item"},l.a.createElement("a",{className:"page-link",onClick:function(){return e.setPage(t.currentPage+1)}},"Next")),l.a.createElement("li",{className:t.currentPage===t.totalPages?"page-item disabled":"page-item"},l.a.createElement("a",{className:"page-link",onClick:function(){return e.setPage(t.totalPages)}},"Last")))}}]),t}(l.a.Component);te.defaultProps={initialPage:1,pageSize:20};var ae=te;function ne(){var e=Object(b.a)(["",""]);return ne=function(){return e},e}function le(){var e=Object(b.a)(["animation: 2s "," infinite"]);return le=function(){return e},e}var oe=Z.a.div(le(),Object(Z.b)(ne(),$.bounce)),se=Object(f.a)(Object(f.b)((function(){return{isOpen:!1,markerIndex:0,display:[]}}),{onToggleOpen:function(e){e.isOpen;return function(e,t,a){return{isOpen:!0,markerIndex:e,lat:t,lng:a}}},onSearch:function(e){e.isOpen;return function(e){return{display:e}}}}),y.withScriptjs,y.withGoogleMap)((function(e){Object(n.useRef)(null);var t=Object(n.useState)(12),a=Object(g.a)(t,2),o=a[0],s=a[1],r=Object(n.useState)({hasMarker:!1,position:{}}),i=Object(g.a)(r,2),c=i[0],m=i[1],u=Object(n.useState)({lat:10.777428,lng:106.695448}),h=Object(g.a)(u,2),p=h[0],v=h[1];return l.a.createElement(y.GoogleMap,{zoom:o,center:p,style:{height:"75vh"}},l.a.createElement(oe,null,l.a.createElement(T,{onPlacesChanged:function(e){s(16),v({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),m({hasMarker:!0,position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})}})),c.hasMarker,l.a.createElement(C.MarkerClusterer,{averageCenter:!0,enableRetinaIcons:!0,gridSize:30},e.display.map((function(t,a){return l.a.createElement(y.Marker,{key:a,animation:e&&t.clean_site_id===e.markerIndex?"1":"0",position:{lat:parseFloat(t.cs_lat),lng:parseFloat(t.cs_long)},onClick:function(){e.onToggleOpen(a)}},e.isOpen&&e.markerIndex===a&&l.a.createElement(y.InfoWindow,{onCloseClick:e.onToggleOpen,onPositionChanged:function(){var e,a;e=parseFloat(t.cs_lat),a=parseFloat(t.cs_long),s(16),v({lat:e,lng:a})}},l.a.createElement("div",{className:"infoWindow"},l.a.createElement("h5",null,t.cs_name),l.a.createElement("p",{style:{fontSize:"16px"}},t.cs_address),l.a.createElement(d.b,{to:"/event-detail/".concat(t.clean_site_id)},"See more..."))))}))))})),re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){e.props.actionFetchEvents(),e.child.current.stateUpdaters.onSearch(e.props.events.events),e.setState({displayItems:e.props.events.events})},e.componentWillReceiveProps=function(t){e.child.current.stateUpdaters.onSearch(t.events.events),e.setState({displayItems:t.events.events})},e.onChildClick=function(t,a,n){e.child.current.stateUpdaters.onToggleOpen(t,a,n)},e.state={isOpen:!1,displayItems:[],pageOfItems:[],keyword:"",organizerName:"",filterCity:"",filterDistrict:"",filterTime:""},e.getDate=e.getDate.bind(Object(E.a)(e)),e.getTime=e.getTime.bind(Object(E.a)(e)),e.handleKeywordChange=e.handleKeywordChange.bind(Object(E.a)(e)),e.handleOrganizerNameChange=e.handleOrganizerNameChange.bind(Object(E.a)(e)),e.onChangeFilterCity=e.onChangeFilterCity.bind(Object(E.a)(e)),e.onChangeFilterDistrict=e.onChangeFilterDistrict.bind(Object(E.a)(e)),e.onChangeFilterTime=e.onChangeFilterTime.bind(Object(E.a)(e)),e.onChangePage=e.onChangePage.bind(Object(E.a)(e)),e.child=l.a.createRef(),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getDate",value:function(e){return new Date(e).toDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"searchFunc",value:function(e){var t=this;if("Morning"==this.state.filterTime){var a=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_owner.toLowerCase().includes(t.state.organizerName.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)&&new Date(e.cs_start_time).getHours()<12}));this.setState({displayItems:a}),this.child.current.stateUpdaters.onSearch(a)}else if("Afternoon"==this.state.filterTime){var n=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_owner.toLowerCase().includes(t.state.organizerName.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)&&new Date(e.cs_start_time).getHours()<17&&new Date(e.cs_start_time).getHours()>=12}));this.setState({displayItems:n}),this.child.current.stateUpdaters.onSearch(n)}else if("Evening"==this.state.filterTime){var l=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_owner.toLowerCase().includes(t.state.organizerName.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)&&new Date(e.cs_start_time).getHours()<21&&new Date(e.cs_start_time).getHours()>=17}));this.setState({displayItems:l}),this.child.current.stateUpdaters.onSearch(l)}else if(""==this.state.keyword&&""==this.state.filterCity&&""==this.state.filterDistrict&&""==this.state.filterTime&&""==this.state.organizerName)this.setState({displayItems:this.props.events.events}),this.child.current.stateUpdaters.onSearch(this.props.events.events);else if(""==this.state.filterTime){var o=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_owner.toLowerCase().includes(t.state.organizerName.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)}));this.setState({displayItems:o}),this.child.current.stateUpdaters.onSearch(o)}}},{key:"handleKeywordChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"handleOrganizerNameChange",value:function(e){this.setState({organizerName:e.target.value})}},{key:"onChangeFilterCity",value:function(e){this.setState({filterCity:e.target.value})}},{key:"onChangeFilterDistrict",value:function(e){this.setState({filterDistrict:e.target.value})}},{key:"onChangeFilterTime",value:function(e){this.setState({filterTime:e.target.value})}},{key:"onChangePage",value:function(e){this.setState({pageOfItems:e})}},{key:"render",value:function(){var e=this;return console.log(this.state,"state"),l.a.createElement("div",{className:"App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"pageTitle"},"Clean Up Events Around You"),l.a.createElement("br",null),l.a.createElement("div",{className:"form-inline container searchCenter"},l.a.createElement("input",{className:"form-control mr-sm-2 ",type:"search",placeholder:"Event name...",value:this.state.keyword,name:"keyword",onChange:this.handleKeywordChange}),l.a.createElement("input",{className:"form-control mr-sm-2 ",type:"search",placeholder:"Organizer name...",value:this.state.organizerName,name:"organizerName",onChange:this.handleOrganizerNameChange}),l.a.createElement("div",{class:"form-row align-items-center"},l.a.createElement("div",{class:"col-auto my-1"},l.a.createElement("select",{class:"custom-select mr-sm-2",value:this.state.filterCity,onChange:this.onChangeFilterCity},l.a.createElement("option",{selected:!0,value:""},"City..."),l.a.createElement("option",null,"Ho Chi Minh"),"    ",l.a.createElement("option",null,"Ha Noi")," ",l.a.createElement("option",null,"Ba Ria - Vung Tau"),"  ",l.a.createElement("option",null,"Da Nang"),l.a.createElement("option",null,"Can Tho"),"   ",l.a.createElement("option",null,"An Giang"),"    ",l.a.createElement("option",null,"Bac Giang"),"  ",l.a.createElement("option",null,"Bac Kan"),"    ",l.a.createElement("option",null,"Bac Lieu"),l.a.createElement("option",null,"Bac Ninh"),"  ",l.a.createElement("option",null,"Ben Tre"),"     ",l.a.createElement("option",null,"Binh Dinh"),"    ",l.a.createElement("option",null,"Binh Duong"),l.a.createElement("option",null,"Binh Phuoc"),"  ",l.a.createElement("option",null,"Binh Thuan"),"    ",l.a.createElement("option",null,"Ca Mau"),"  ",l.a.createElement("option",null,"Cao Bang"),l.a.createElement("option",null,"Dak Lak"),"    ",l.a.createElement("option",null,"Dak Nong"),"  ",l.a.createElement("option",null,"Dien Bien"),"   ",l.a.createElement("option",null,"Dong Nai"),l.a.createElement("option",null,"Dong Thap"),"  ",l.a.createElement("option",null,"Gia Lai"),"    ",l.a.createElement("option",null,"Ha Giang"),"   ",l.a.createElement("option",null,"Ha Nam"),l.a.createElement("option",null,"Ha Tinh"),"    ",l.a.createElement("option",null,"Hai Duong"),"  ",l.a.createElement("option",null,"Hai Phong"),"    ",l.a.createElement("option",null,"Hau Giang"),l.a.createElement("option",null,"Hoa Binh"),"   ",l.a.createElement("option",null,"Hung Yen"),"  ",l.a.createElement("option",null,"Khanh Hoa"),l.a.createElement("option",null,"Kien Giang"),"  ",l.a.createElement("option",null,"Kon Tum"),"   ",l.a.createElement("option",null,"Lai Chau"),"  ",l.a.createElement("option",null,"Lam Dong"),l.a.createElement("option",null,"Lang Son"),"  ",l.a.createElement("option",null,"Lao Cai"),"     ",l.a.createElement("option",null,"Long An"),"    ",l.a.createElement("option",null,"Nam Dinh"),l.a.createElement("option",null,"Nghe An"),"    ",l.a.createElement("option",null,"Ninh Binh"),"  ",l.a.createElement("option",null,"Ninh Thuan"),"  ",l.a.createElement("option",null,"Phu Tho"),l.a.createElement("option",null,"Phu Yen"),"    ",l.a.createElement("option",null,"Quang Binh"),"     ",l.a.createElement("option",null,"Quang Nam"),"    ",l.a.createElement("option",null,"Quang Ngai"),l.a.createElement("option",null,"Quang Ninh"),"  ",l.a.createElement("option",null,"Quang Tri"),"     ",l.a.createElement("option",null,"Soc Trang"),"    ",l.a.createElement("option",null,"Son La"),l.a.createElement("option",null,"Tay Ninh"),"      ",l.a.createElement("option",null,"Thai Binh"),"   ",l.a.createElement("option",null,"Thai Nguyen"),"    ",l.a.createElement("option",null,"Thanh Hoa"),l.a.createElement("option",null,"Thua Thien Hue"),"  ",l.a.createElement("option",null,"Tien Giang"),"    ",l.a.createElement("option",null,"Tra Vinh"),"  ",l.a.createElement("option",null,"Tuyen Quang"),l.a.createElement("option",null,"Vinh Long"),"    ",l.a.createElement("option",null,"Vinh Phuc"),"    ",l.a.createElement("option",null,"Yen Bai"))),l.a.createElement("div",{class:"col-auto my-1"},""==this.state.filterCity&&l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterDistrict,onChange:this.onChangeFilterDistrict},l.a.createElement("option",{selected:!0,value:""},"District...")),"ho chi minh"==this.state.filterCity.toLowerCase()&&l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterDistrict,onChange:this.onChangeFilterDistrict},l.a.createElement("option",{selected:!0,value:""},"District..."),l.a.createElement("option",null,"Quan 1"),"    ",l.a.createElement("option",null,"Quan 2"),"  ",l.a.createElement("option",null,"Quan 3"),"    ",l.a.createElement("option",null,"Quan 4"),l.a.createElement("option",null,"Quan 5"),"    ",l.a.createElement("option",null,"Quan 6"),"  ",l.a.createElement("option",null,"Quan 7"),"    ",l.a.createElement("option",null,"Quan 8"),l.a.createElement("option",null,"Quan 9"),"    ",l.a.createElement("option",null,"Quan 10")," ",l.a.createElement("option",null,"Quan 11"),"   ",l.a.createElement("option",null,"Quan 12"),l.a.createElement("option",null,"Binh Tan"),"  ",l.a.createElement("option",null,"Binh Thanh"),"   ",l.a.createElement("option",null,"Go Vap"),"       ",l.a.createElement("option",null,"Phu Nhuan"),l.a.createElement("option",null,"Tan Binh"),"  ",l.a.createElement("option",null,"Tan Phu")," ",l.a.createElement("option",null,"Thu Duc"),"    ",l.a.createElement("option",null,"Binh Chanh"),l.a.createElement("option",null,"Can Gio"),"      ",l.a.createElement("option",null,"Cu Chi"),"   ",l.a.createElement("option",null,"Hoc Mon"),"    ",l.a.createElement("option",null,"Nha Be")),"ha noi"==this.state.filterCity.toLowerCase()&&l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterDistrict,onChange:this.onChangeFilterDistrict},l.a.createElement("option",{selected:!0},"District..."),l.a.createElement("option",null,"Ba Dinh"),"    ",l.a.createElement("option",null,"Hoan Kiem"),"  ",l.a.createElement("option",null,"Hai Ba Trung"),"    ",l.a.createElement("option",null,"Dong Da"),l.a.createElement("option",null,"Cau Giay"),"    ",l.a.createElement("option",null,"Long Bien"),"  ",l.a.createElement("option",null,"Hoang Mai"),"    ",l.a.createElement("option",null,"Soc Son"),l.a.createElement("option",null,"Bac Tu Liem"),"    ",l.a.createElement("option",null,"Thanh Tri")," ",l.a.createElement("option",null,"Gia Lam"),"   ",l.a.createElement("option",null,"Ba Vi"),l.a.createElement("option",null,"Chuong My"),"  ",l.a.createElement("option",null,"Dan Phuong"),"   ",l.a.createElement("option",null,"Hoai Duc"),"       ",l.a.createElement("option",null,"My Duc"),l.a.createElement("option",null,"Phu Xuyen"),"  ",l.a.createElement("option",null,"Phu Tho")," ",l.a.createElement("option",null,"Quoc Oai"),"    ",l.a.createElement("option",null,"Thach That"),l.a.createElement("option",null,"Thanh Oai"),"      ",l.a.createElement("option",null,"Thuong Tin"),"   ",l.a.createElement("option",null,"Ung Hoa"),"    ",l.a.createElement("option",null,"Me Linh"),l.a.createElement("option",null,"Ha Dong"),"    ",l.a.createElement("option",null,"Son Tay"),"    ",l.a.createElement("option",null,"Dong Anh"),"   ",l.a.createElement("option",null,"Nam Tu Liem"),l.a.createElement("option",null,"Thanh Xuan"),"    ",l.a.createElement("option",null,"Tay Ho"))),l.a.createElement("div",{class:"col-auto my-1"},l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterTime,onChange:this.onChangeFilterTime},l.a.createElement("option",{selected:!0,value:""},"Time..."),l.a.createElement("option",null,"Morning"),l.a.createElement("option",null,"Afternoon"),l.a.createElement("option",null,"Evening")))),l.a.createElement("button",{className:"btn searchBtn my-2 my-sm-0 col-md-1",onClick:this.searchFunc.bind(this)},l.a.createElement("img",{className:"kinhlup",src:"https://www.stickpng.com/assets/images/585e4ae9cb11b227491c3394.png",width:"27px",height:"30px",alt:"No Logo"})),l.a.createElement("a",{href:""},l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm"},"Clear"))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-1"},l.a.createElement("div",null,l.a.createElement("img",{src:"http://vietnamsachvaxanh.org/wp-content/uploads/vespa-adventures.png",width:"150%",height:"150%"}))),l.a.createElement("div",{className:"col-4"},0==this.state.displayItems.length&&l.a.createElement("div",null,l.a.createElement("h6",{className:"container"},"No events match your filters.")),this.state.pageOfItems.map((function(t,a){var n;return l.a.createElement("div",{style:{paddingBottom:"10px"}},l.a.createElement("div",{className:"card",onClick:function(){return e.onChildClick(a,t.cs_lat,t.cs_long)}},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},t.cs_name," ",l.a.createElement("span",{style:{fontWeight:"normal",fontSize:"16px"}},l.a.createElement("a",(n={type:"button",class:"btn btn-lg btn-danger","data-toggle":"popover",title:"Popoverrr title","data-content":"And here's some amazing content. It's very engaging. Right?"},Object(v.a)(n,"class","card-link"),Object(v.a)(n,"style",{color:"black"}),n),"by ",t.cs_owner))),l.a.createElement("h6",{class:"card-subtitle mb-2 text-muted"},e.getDate(t.cs_start_time),", ",e.getTime(t.cs_start_time)),l.a.createElement("a",{href:"/#/event-detail/".concat(t.clean_site_id),class:"card-link"},"See more..."))))})),0!==this.state.displayItems.length&&l.a.createElement(ae,{pageSize:2,initialPage:1,items:this.state.displayItems,onChangePage:this.onChangePage.bind(this)})),l.a.createElement("div",{className:"col-6 container"},l.a.createElement(se,{ref:this.child,events:this.props.events,defaultOptions:{scaleControl:!0},googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAbyEx4KJzCcJDrK_s-B4RaRMIrxceYSfQ&libraries=visualization,drawing,geometry,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}," Loading... "),containerElement:l.a.createElement("div",{style:{height:"75vh"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})})),l.a.createElement("div",{className:"col-1"},l.a.createElement("div",null,l.a.createElement("img",{src:"http://vietnamsachvaxanh.org/wp-content/uploads/vespa-adventures.png",width:"150%",height:"150%"})))))}}]),t}(n.Component),ie=Object(r.b)((function(e){return{events:e.events}}),(function(e,t){return{actionFetchEvents:function(){e(F())}}}))(re),ce=a(74),me=a.n(ce),ue=(a(117),a(106),Object(f.a)(Object(f.b)((function(){return{isOpen:!1,markerIndex:0}}),{onToggleOpen:function(e){var t=e.isOpen;return function(e){return{isOpen:!t,markerIndex:e}}}}),y.withScriptjs,y.withGoogleMap)((function(e){var t=Object(n.useState)({hasMarker:!1,position:{}}),a=Object(g.a)(t,2),o=a[0],s=a[1],r=Object(n.useState)({lat:10.729572,lng:106.693748}),i=Object(g.a)(r,2),c=i[0],m=i[1];return l.a.createElement(y.GoogleMap,{defaultZoom:14,center:c},l.a.createElement(T,{onPlacesChanged:function(t){m({lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}),s({hasMarker:!0,position:{lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}}),e.handleCall({lat:t.geometry.location.lat(),lng:t.geometry.location.lng(),address:t.formatted_address})}}),o.hasMarker&&l.a.createElement(y.Marker,{position:o.position}))}))),he=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).parentCall=function(t){console.log(t,"hjhj"),e.props.history(t)},e.state={isOpen:!1},e.onToggleOpen=e.onToggleOpen.bind(Object(E.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onToggleOpen",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ue,{handleCall:this.parentCall,defaultOptions:{scaleControl:!0},googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAbyEx4KJzCcJDrK_s-B4RaRMIrxceYSfQ&libraries=visualization,drawing,geometry,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}," Loading... "),containerElement:l.a.createElement("div",{style:{height:"48vh",width:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(n.Component),de=a(877),pe=a(866),ve=a(52),Ee=a.n(ve),ge=(a(674),RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleStartDateTimeChange=function(e){a.setState({eventStartDateTime:e,eventEndDateTime:e})},a.handleEndDateTimeChange=function(e){a.setState({eventEndDateTime:e})},a.get_end_of_date=function(){var e=new Date;return e.setHours(23),e},a.get_7_days_after=function(){var e=new Date;return e.setDate(e.getDate()+7),e},a.get_24_hours_before=function(){var e=a.state.eventEndDateTime;return e.setDate(e.getHours),e},a.callBackFunc=function(e){console.log("called from parent"),a.setState({eventCoordLat:e.lat,eventCoordLng:e.lng,eventAdress:e.address})},a.state={eventName:"",eventLocationName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventStartDateTime:a.get_7_days_after(),eventEndDateTime:a.get_7_days_after(),public:"public",ownerID:"",notify:!1,showInternal:!1,token:"",tokenName:"",nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1,publicErr:!1,locationNameErr:!1},a.handleNameChange=a.handleNameChange.bind(Object(E.a)(a)),a.handleLocationNameChange=a.handleLocationNameChange.bind(Object(E.a)(a)),a.handleCoordChange=a.handleCoordChange.bind(Object(E.a)(a)),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(E.a)(a)),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(E.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.public=a.public.bind(Object(E.a)(a)),a.nopublic=a.nopublic.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleNameChange",value:function(e){this.setState({eventName:e.target.value})}},{key:"handleLocationNameChange",value:function(e){this.setState({eventLocationName:e.target.value})}},{key:"handleCoordChange",value:function(){this.setState({eventCoordLat:this.childData.lat,eventCoordLng:this.childData.lng})}},{key:"handleDescriptionChange",value:function(e){this.setState({eventDescription:e.target.value})}},{key:"public",value:function(e){this.setState({showInternal:!1,public:e.target.value})}},{key:"nopublic",value:function(e){this.setState({showInternal:!0,public:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={cs_name:this.state.eventName,cs_address_name:this.state.eventLocationName,cs_address:this.state.eventAdress.normalize("NFD").replace(/[\u0300-\u036f]/g,""),cs_lat:this.state.eventCoordLat,cs_long:this.state.eventCoordLng,cs_agenda:this.state.eventDescription,cs_start_time:this.state.eventStartDateTime,cs_end_time:this.state.eventEndDateTime,cs_owner:this.state.token,cs_owner_name:this.state.tokenName,cs_inex:this.state.public};""===this.state.eventName?this.setState({nameErr:!0,descErr:!1,coordErr:!1,timeErr:!1,locationNameErr:!1,publicErr:!1}):""===this.state.eventDescription?this.setState({nameErr:!1,descErr:!0,coordErr:!1,timeErr:!1,locationNameErr:!1,publicErr:!1}):this.state.eventStartDateTime.getDate()==this.state.eventEndDateTime.getDate()&&this.state.eventStartDateTime.getTime()>=this.state.eventEndDateTime.getTime()?this.setState({nameErr:!1,descErr:!1,locationNameErr:!1,coordErr:!1,timeErr:!0,publicErr:!1}):""===this.state.eventLocationName?this.setState({nameErr:!1,descErr:!1,coordErr:!1,locationNameErr:!0,timeErr:!1,publicErr:!1}):""===this.state.eventCoordLat||""===this.state.eventCoordLng?this.setState({nameErr:!1,descErr:!1,coordErr:!0,timeErr:!1,locationNameErr:!1,publicErr:!1}):"public"===this.state.public?this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1,publicErr:!0,locationNameErr:!1}):(this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1,publicErr:!1,locationNameErr:!1}),this.props.actionAddEvents(t),this.setState({eventName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventEndDateTime:"",eventStartDateTime:"",notify:!0}))}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if("undefined"!==typeof e&&null!==e){var t=Ee()(e);t.acc_id;this.setState({token:t.acc_id,tokenName:t.acc_username})}else window.location.href="/#/sign-in"}},{key:"render",value:function(){var e,t,a;return console.log(this.state,"state"),l.a.createElement("div",{className:"App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Event successfully created!")),l.a.createElement(pe.a,null,l.a.createElement(d.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Go to List Page")))),l.a.createElement("div",{className:"pageTitle"},"Create New Event"),l.a.createElement("br",null),l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Event Name *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"name..."},Object(v.a)(e,"className","form-control"),Object(v.a)(e,"value",this.state.eventName),Object(v.a)(e,"onChange",this.handleNameChange),e)),this.state.nameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Agenda *"),l.a.createElement("textarea",{placeholder:"tell everyone a bit about your event...",class:"form-control",id:"exampleFormControlTextarea1",rows:"14",value:this.state.eventDescription,onChange:this.handleDescriptionChange}),this.state.descErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"Start Date / Time *"),l.a.createElement("div",{className:"form-group customDatePickerWidth"},l.a.createElement(me.a,{className:"form-control",selected:this.state.eventStartDateTime,minDate:this.get_7_days_after(),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"Time",onSelect:this.handleSelect,placeholderText:"date / time",onChange:this.handleStartDateTimeChange}))),l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"End Date / Time of Event *"),l.a.createElement("div",{className:"form-group customDatePickerWidth"},l.a.createElement(me.a,{className:"form-control",selected:this.state.eventEndDateTime,minDate:this.state.eventStartDateTime,maxDate:this.state.eventStartDateTime,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time",onSelect:this.handleSelect,placeholderText:"date / time",onChange:this.handleEndDateTimeChange})))),this.state.timeErr&&l.a.createElement("span",{className:"error"},"Invalid end time!")),l.a.createElement("br",null),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Location Name *"),l.a.createElement("input",(t={type:"text",className:"col",placeholder:"location name..."},Object(v.a)(t,"className","form-control"),Object(v.a)(t,"value",this.state.eventLocationName),Object(v.a)(t,"onChange",this.handleLocationNameChange),t)),this.state.locationNameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",null,l.a.createElement("label",null,"Location Address *"),l.a.createElement("div",null,l.a.createElement(he,{history:this.callBackFunc,onChange:this.handleCoordChanges}),this.state.coordErr&&l.a.createElement("span",{className:"error"},"Please choose your location!"))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("label",null,"External or Internal event? *"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},l.a.createElement("input",{type:"radio",id:"customRadio1",name:"customRadio",class:"custom-control-input",value:"",onChange:this.public}),l.a.createElement("label",{class:"custom-control-label",for:"customRadio1"},"External")),l.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},l.a.createElement("input",{type:"radio",id:"customRadio2",name:"customRadio",class:"custom-control-input",value:this.state.public,onChange:this.nopublic}),l.a.createElement("label",{class:"custom-control-label",for:"customRadio2"},"Internal")),this.state.showInternal&&l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email domain name *"),l.a.createElement("input",(a={type:"text",className:"col",placeholder:"domain name..."},Object(v.a)(a,"className","form-control"),Object(v.a)(a,"onChange",this.nopublic),a)),this.state.nameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")))),this.state.publicErr&&l.a.createElement("span",{className:"error"},"Please choose an option!")),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btnColor btn-lg",type:"submit",on:!0},"Create"))))}}]),t}(n.Component)),be=Object(r.b)((function(e){return{}}),(function(e,t){return{actionAddEvents:function(t){var a;e((a=t,function(e){return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("check"),t.abrupt("return",k()({method:"POST",url:"http://localhost:3000/cleansite",data:a}).then((function(t){console.log("add event",t.data),e(j(t.data))})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}))}))}}}))(ge),fe=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleOpenForm=function(e){a.setState({showForm:!a.state.showForm})},a.get_100_years=function(){var e=new Date;return e.setDate(e.getDate()-36500),e},a.state={eventId:"",eventName:"",eventAddress:"",eventDescription:"",eventStartDateTime:"",eventEndDateTime:"",eventLat:"",eventLng:"",eventDomain:"",eventDataCollected:"",eventOwner:"",ownerPhoto:"",eventPhoto:"",vltEmail:"",vltName:"",vltDOB:"",vltAddress:"",tools:"",tool:!1,showSize:!1,shirt:"",account:[],showForm:!1,notify:!1,notify2:!1,emailErr:!1},a.handleVolunteerEmailChange=a.handleVolunteerEmailChange.bind(Object(E.a)(a)),a.handleVolunteerNameChange=a.handleVolunteerNameChange.bind(Object(E.a)(a)),a.handleVolunteerAddressChange=a.handleVolunteerAddressChange.bind(Object(E.a)(a)),a.handleVolunteerDOBChange=a.handleVolunteerDOBChange.bind(Object(E.a)(a)),a.handleToolsChange=a.handleToolsChange.bind(Object(E.a)(a)),a.handleShirtChange=a.handleShirtChange.bind(Object(E.a)(a)),a.handleSizeChange=a.handleSizeChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.toggleOpenForm=a.toggleOpenForm.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleVolunteerEmailChange",value:function(e){this.setState({vltEmail:e.target.value})}},{key:"handleVolunteerNameChange",value:function(e){this.setState({vltName:e.target.value})}},{key:"handleVolunteerAddressChange",value:function(e){this.setState({vltAddress:e.target.value})}},{key:"handleVolunteerDOBChange",value:function(e){this.setState({vltDOB:e})}},{key:"handleToolsChange",value:function(e){this.setState({tool:!this.state.tool})}},{key:"handleShirtChange",value:function(e){this.setState({showSize:!this.state.showSize})}},{key:"handleSizeChange",value:function(e){this.setState({shirt:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;this.props.actionFetchVolunteers(),this.setState({account:this.props.volunteers.volunteers});var t=this.props.match;if(t){var a=t.params.eventID;this.props.fetchVolunteerBySite(a),k()({method:"GET",url:"http://localhost:8081/cleansite/".concat(a),data:null}).then((function(t){var n=t.data[0];k()({method:"GET",url:"http://localhost:3000/photo/owner/".concat(n.cs_owner,"/photo"),data:null}).then((function(t){e.setState({ownerPhoto:t.data})})).catch((function(e){console.log(e)})),k()({method:"GET",url:"http://localhost:3000/photo/site/".concat(a,"/photo"),data:null}).then((function(t){e.setState({eventPhoto:t.data})})).catch((function(e){console.log(e)})),e.setState({eventId:n.clean_site_id,eventName:n.cs_name,eventAddress:n.cs_address,eventDescription:n.cs_description,eventStartDateTime:n.cs_start_time,eventEndDateTime:n.cs_end_time,eventLat:n.cs_lat,eventLng:n.cs_long,eventDataCollected:n.cs_amount_collected,eventOwner:n.cs_owner,eventDomain:n.cs_inex})})).catch((function(e){console.log(e)}))}}},{key:"onSubmit",value:function(e){e.preventDefault();var t={sv_site:this.state.eventId,sv_volunteer:this.state.vltEmail,sv_cleanuptools:this.state.tool,sv_shirt:this.state.shirt},a={vlt_name:this.state.vltName,vlt_email:this.state.vltEmail,vlt_dob:this.state.vltDOB,vlt_address:this.state.vltAddress};if(""!==this.state.vltEmail&&!1!==fe.test(this.state.vltEmail)&&this.state.vltEmail.includes(this.state.eventDomain)){if(this.setState({emailErr:!1}),0==this.state.showForm){for(var n=0,l=0;l<this.props.volunteers.volunteers.length;l++)if(this.props.volunteers.volunteers[l].vlt_email==this.state.vltEmail)if(n+=1,0==this.props.volunteers.volunteersBySite.length)this.props.actionAddSiteVolunteer(t),this.setState({vltEmail:""}),this.setState({notify:!0}),console.log("added old volunteer to event 11");else for(var o=0;o<this.props.volunteers.volunteersBySite.length;o++){if(console.log(this.props.volunteers.volunteersBySite[o]),this.props.volunteers.volunteersBySite[o].vlt_email==this.state.vltEmail){console.log("this volunteer already registered this site"),this.setState({notify2:!0});break}this.props.actionAddSiteVolunteer(t),this.setState({vltEmail:""}),console.log("added old volunteer to event"),this.setState({notify:!0});break}console.log(n),0==n&&(console.log("open form"),this.setState({showForm:!this.state.showForm}))}1==this.state.showForm&&(this.props.actionAddVolunteers(a),this.props.actionAddSiteVolunteer(t),console.log("added new volunteer"),this.setState({notify:!0}))}else this.setState({emailErr:!0})}},{key:"getDate",value:function(e){return new Date(e).toLocaleDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify2:!1})}},{key:"render",value:function(){var e,t,a;return console.log(this.state.ownerPhoto,"photo"),l.a.createElement("div",{className:"Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"container font",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Successfully registered for this event. Thank you!")),l.a.createElement(pe.a,null,l.a.createElement(d.b,{to:"/",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to Homepage")))),l.a.createElement(de.a,{isOpen:this.state.notify2},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"You have already registered for this event!")),l.a.createElement(pe.a,null,l.a.createElement("button",{className:"btn btn-success btn-sm",style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:this.closeModal},"Confirm"))),l.a.createElement("div",{className:"row",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"col-7"},l.a.createElement("h1",{className:""},this.state.eventName),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px"}},this.state.eventAddress),l.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(this.state.eventLat,",").concat(this.state.eventLng)},"See location on Google Maps"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",{className:"hr"})," ",l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}}," Event Time:"),l.a.createElement("div",{className:"AppSmall"},"Date: ",this.getDate(this.state.eventStartDateTime)),l.a.createElement("div",{className:"AppSmall"},"Time: ",this.getTime(this.state.eventStartDateTime)," - ",this.getTime(this.state.eventEndDateTime)),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Agenda: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDescription)," ",l.a.createElement("br",null),"unknown"!==this.state.eventDataCollected&&l.a.createElement("div",null,l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Report: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDataCollected)," ",l.a.createElement("br",null)),0!==this.state.ownerPhoto.length&&l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"18px",fontWeight:"500"}},"Photo of organizer or clean-up activities before"),l.a.createElement("br",null),this.state.ownerPhoto.map((function(e,t){return l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement("div",{class:"modal-dialog"},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"modal-header"},l.a.createElement("img",{style:{backgroundSize:"cover",width:"50px",height:"50px"},class:"img-responsive",src:e.p_url})))),"\xa0")}))),0!==this.state.eventPhoto.length&&l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"18px",fontWeight:"500"}},"Photo of this event"),l.a.createElement("br",null),this.state.eventPhoto.map((function(e,t){return l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement("div",{class:"modal-dialog"},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"modal-header"},l.a.createElement("img",{style:{backgroundSize:"cover",width:"50px",height:"50px"},class:"img-responsive",src:e.p_url})))),"\xa0")})))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-5"},l.a.createElement("div",{id:"formModal",className:"  modalCSS",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{class:"modal-content cardCSS"},l.a.createElement("div",{class:"modal-header"},this.state.showForm&&l.a.createElement("h5",null,"First time joining events of Vietnam Sach & Xanh? Tell us a little bit about you!"),0==this.state.showForm&&l.a.createElement("h5",{class:"modal-title"},"Let's join the Clean Up!")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"abc@example.com"},Object(v.a)(e,"className","form-control"),Object(v.a)(e,"name","vltEmail"),Object(v.a)(e,"value",this.state.vltEmail),Object(v.a)(e,"onChange",this.handleVolunteerEmailChange),Object(v.a)(e,"noValidate",!0),e)),this.state.emailErr&&l.a.createElement("span",{className:"error"},"Invalid Email!")),this.state.showForm&&l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Full Name *"),l.a.createElement("input",(t={type:"text",className:"col",placeholder:"name..."},Object(v.a)(t,"className","form-control"),Object(v.a)(t,"value",this.state.vltName),Object(v.a)(t,"onChange",this.handleVolunteerNameChange),t))),l.a.createElement("div",null,l.a.createElement("label",null,"D.O.B *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(me.a,{className:"form-control",selected:this.state.vltDOB,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"MMMM d, yyyy",placeholderText:"dd/mm/yy",minDate:this.get_100_years(),maxDate:new Date,onChange:this.handleVolunteerDOBChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Address *"),l.a.createElement("input",(a={type:"text",className:"col",placeholder:"address..."},Object(v.a)(a,"className","form-control"),Object(v.a)(a,"value",this.state.vltAddress),Object(v.a)(a,"onChange",this.handleVolunteerAddressChange),a)))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Do you want to buy any clean-up tools? (optional)"),l.a.createElement("div",{class:"custom-control custom-checkbox"},l.a.createElement("input",{class:"custom-control-input",type:"checkbox",id:"inlineCheckbox1",value:"Clean up tools",onChange:this.handleToolsChange}),l.a.createElement("label",{class:"custom-control-label",for:"inlineCheckbox1"},"Clean up tools")),l.a.createElement("div",{class:"custom-control custom-checkbox"},l.a.createElement("input",{class:"custom-control-input",type:"checkbox",id:"inlineCheckbox2",value:"T-shirt",onChange:this.handleShirtChange}),l.a.createElement("label",{class:"custom-control-label",for:"inlineCheckbox2"},"T-shirt")),this.state.showSize&&l.a.createElement("div",{style:{width:"100px"}},l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.shirt,onChange:this.handleSizeChange},l.a.createElement("option",{selected:!0,value:""},"Size..."),l.a.createElement("option",null,"XS"),l.a.createElement("option",null,"S"),l.a.createElement("option",null,"M"),l.a.createElement("option",null,"L"),l.a.createElement("option",null,"XL")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btnColor btn-lg btn-block",type:"submit",on:!0},"Join"))))))))))}}]),t}(l.a.Component),Ce=Object(r.b)((function(e){return{event:e.event,volunteers:e.volunteers}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchVolunteerByEmail:function(t){e(H(t))},fetchVolunteerBySite:function(t){e(Y(t))},actionAddSiteVolunteer:function(t){e(G(t))},actionAddVolunteers:function(t){e(q(t))},actionFetchVolunteers:function(){e(W())},actionDownloadVolunteersBySite:function(t,a){e(K(t,a))}}}))(ye),_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleOpenForm=function(e){a.setState({showForm:!a.state.showForm,eventNumParticipants:a.state.eventParticipants.length.toString()})},a.get_100_years=function(){var e=new Date;return e.setDate(e.getDate()-36500),e},a.openModal=function(){a.setState({notify:!0})},a.showResultForm=function(){a.setState({showForm:!0})},a.closeForm=function(){a.setState({showForm:!1})},a.close=function(){window.location.reload()},a.fileSelectedHandler=function(e){a.setState({files:[].concat(Object(ee.a)(a.state.files),Object(ee.a)(e.target.files))});for(var t=0;t<e.target.files.length;t++)a.addPreview(e.target.files[t])},a.fileUploadHandler=function(){(new FormData).append("image"),k.a.post("localhost:8081/photo/basic/".concat(a.state.tokenId,"/").concat(a.state.eventId,"/upload"))},a.state={eventId:"",eventName:"",eventLocationName:"",eventAddress:"",eventLat:"",eventLng:"",eventDescription:"",eventStartDateTime:"",eventEndDateTime:"",eventInEx:"",eventDataCollected:"",eventNumParticipants:"",eventParticipants:[],eventTrashWeight:"",eventRecyclableTrash:"",eventNonRecyclableTrash:"",eventOrganicTrash:"",file:"",imagePreviewUrl:[],files:[],eventToolReq:"",eventXSreq:"",eventSreq:"",eventMreq:"",eventLreq:"",eventXLreq:"",eventPay:!0,vltEmail:"",vltName:"",vltDOB:"",vltAddress:"",account:[],tokenId:"",tokenName:"",showForm:!1,notify:!1,notify2:!1,notify3:!1,errorNum:!1,errorWeight:!1},a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.toggleOpenForm=a.toggleOpenForm.bind(Object(E.a)(a)),a.download=a.download.bind(Object(E.a)(a)),a.sendEmail=a.sendEmail.bind(Object(E.a)(a)),a.handleeventNumParticipantsChange=a.handleeventNumParticipantsChange.bind(Object(E.a)(a)),a.handleeventTrashWeightChange=a.handleeventTrashWeightChange.bind(Object(E.a)(a)),a.showResultForm=a.showResultForm.bind(Object(E.a)(a)),a.closeForm=a.closeForm.bind(Object(E.a)(a)),a.removePreview=a.removePreview.bind(Object(E.a)(a)),a.handleeventRecyclableTrashChange=a.handleeventRecyclableTrashChange.bind(Object(E.a)(a)),a.handleeventNonRecyclableTrashChange=a.handleeventNonRecyclableTrashChange.bind(Object(E.a)(a)),a.handleeventOrganicTrashChange=a.handleeventOrganicTrashChange.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleeventNumParticipantsChange",value:function(e){var t=this.state.eventParticipants;if(0==this.state.eventParticipants.length)this.setState({eventParticipants:[].concat(Object(ee.a)(this.state.eventParticipants),[e.target.value])});else for(var a=0;a<this.state.eventParticipants.length;a++)this.state.eventParticipants[a]==e.target.value?(t.splice(a,1),this.setState({eventParticipants:t})):this.setState({eventParticipants:[].concat(Object(ee.a)(this.state.eventParticipants),[e.target.value])})}},{key:"handleeventTrashWeightChange",value:function(e){this.setState({eventTrashWeight:e.target.value})}},{key:"handleeventRecyclableTrashChange",value:function(e){this.setState({eventRecyclableTrash:e.target.value})}},{key:"handleeventNonRecyclableTrashChange",value:function(e){this.setState({eventNonRecyclableTrash:e.target.value})}},{key:"handleeventOrganicTrashChange",value:function(e){this.setState({eventOrganicTrash:e.target.value})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken");if("undefined"!==typeof t&&null!==t){var a=Ee()(t);this.setState({account:this.props.volunteers.volunteers,tokenName:a.acc_username,tokenId:a.acc_id});var n=this.props.match;if(n){var l=n.params.eventID;this.props.fetchVolunteerBySite(l),k()({method:"GET",url:"http://localhost:3000/cleansite/".concat(l),data:null}).then((function(t){var a=t.data[0];e.setState({eventId:a.clean_site_id,eventName:a.cs_name,eventLocationName:a.cs_address_name,eventAddress:a.cs_address,eventDescription:a.cs_agenda,eventStartDateTime:a.cs_start_time,eventEndDateTime:a.cs_end_time,eventLat:a.cs_lat,eventLng:a.cs_long,eventNumParticipants:a.cs_ptcp_no,eventTrashWeight:a.cs_amount_collected,eventRecyclableTrash:a.cs_recy,eventNonRecyclableTrash:a.cs_non_recy,eventOrganicTrash:a.cs_organic,eventToolReq:a.cs_rq_set,eventXSreq:a.cs_xs_shirt,eventSreq:a.cs_s_shirt,eventMreq:a.cs_m_shirt,eventLreq:a.cs_l_shirt,eventXLreq:a.cs_xl_shirt,eventInEx:a.cs_inex,eventPay:a.cs_pay})})).catch((function(e){console.log(e)}))}}else window.location.href="/#/sign-in"}},{key:"getDate",value:function(e){return new Date(e).toLocaleDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify:!1})}},{key:"download",value:function(){this.props.actionDownloadVolunteersBySite(this.state.eventId,this.state.eventName)}},{key:"sendEmail",value:function(){this.props.sendEmailVolunteersBySite(this.state.eventId)}},{key:"deleteBooking",value:function(e){this.props.actionDeleteEvents(e),this.setState({notify:!1}),this.setState({notify2:!0})}},{key:"addPreview",value:function(e){var t=this,a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){t.setState({imagePreviewUrl:t.state.imagePreviewUrl.concat(a.result)})}}},{key:"removePreview",value:function(e){var t=this.state.files,a=this.state.imagePreviewUrl;t.splice(e,1),a.splice(e,1),this.setState({files:t,imagePreviewUrl:a})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={clean_site_id:this.state.eventId,cs_name:this.state.eventName,cs_address_name:this.state.eventLocationName,cs_address:this.state.eventAddress,cs_lat:this.state.eventCoordLat,cs_long:this.state.eventCoordLng,cs_agenda:this.state.eventDescription,cs_start_time:this.state.eventStartDateTime,cs_end_time:this.state.eventEndDateTime,cs_inex:this.state.eventInEx,cs_ptcp_no:this.state.eventParticipants.length.toString(),cs_amount_collected:this.state.eventTrashWeight,cs_organic:this.state.eventOrganicTrash,cs_recy:this.state.eventRecyclableTrash,cs_non_recy:this.state.eventNonRecyclableTrash,cs_xs_shirt:this.state.eventXSreq,cs_s_shirt:this.state.eventSreq,cs_m_shirt:this.state.eventMreq,cs_l_shirt:this.state.eventLreq,cs_xl_shirt:this.state.eventXLreq,cs_rq_set:this.state.eventToolReq};if(0==this.state.eventParticipants.length)this.setState({errorNum:!0,errorWeight:!1});else if("unknown"===this.state.eventTrashWeight)console.log("check desc"),this.setState({errorNum:!1,errorWeight:!0});else{for(var a=new FormData,n=0;n<this.state.files.length;n++)a.append("galleryImage",this.state.files[n],this.state.files[n].name);k.a.post("http://localhost:8081/photo/basic/".concat(this.state.tokenId,"/").concat(this.state.eventId,"/upload"),a).then((function(e){console.log(e)})),this.props.actionEditEvents(t,this.state.eventId),this.setState({notify3:!0})}}},{key:"pay",value:function(){this.setState({eventPay:!0})}},{key:"render",value:function(){var e,t,a,n,o=this;return console.log(this.state,"state"),l.a.createElement("div",{className:"Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"container font",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"left",justifyContent:"left"}},"Are you sure you want to delete this event?")),l.a.createElement(pe.a,{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(d.b,null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){o.deleteBooking(o.state.eventId)}},"Yes")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.closeModal},"Cancel"))),l.a.createElement(de.a,{isOpen:this.state.notify2},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Event deleted!")),l.a.createElement(pe.a,null,l.a.createElement(d.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to List Page")))),l.a.createElement(de.a,{isOpen:this.state.notify3},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Result Submitted!")),l.a.createElement(pe.a,null,l.a.createElement("a",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{onClick:this.close,type:"button",className:"btn btn-success btn-sm"},"OK")))),l.a.createElement("div",{className:"row",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"col-7"},l.a.createElement("h1",null,this.state.eventName),l.a.createElement("div",{style:{fontSize:"18px"}},this.state.eventAddress),l.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(this.state.eventLat,",").concat(this.state.eventLng)},"See location on Google Maps"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",{className:"hr"}),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}}," Event Time:"),l.a.createElement("div",{className:"AppSmall"},"Date: ",this.getDate(this.state.eventStartDateTime)),l.a.createElement("div",{className:"AppSmall"},"Time: ",this.getTime(this.state.eventStartDateTime)," - ",this.getTime(this.state.eventEndDateTime)),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Agenda: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDescription)," ",l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Report: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDataCollected)," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.showResultForm},"Fill in the result"),"\xa0",l.a.createElement(d.b,{to:"/edit-event/".concat(this.state.eventId)},l.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm"},"Edit this event")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){o.openModal()}},"Delete this event")),l.a.createElement("div",{className:"col-5"},l.a.createElement("div",null,l.a.createElement("h5",{class:"modal-title"},"List of registered volunteers"),this.props.volunteers.volunteersBySite.map((function(e,t){return l.a.createElement("div",null,e.vlt_name," - ",e.vlt_email)})),l.a.createElement("br",null),l.a.createElement("a",{href:"/#/event-detail-owner/".concat(this.state.eventId),onClick:this.download},"Download list of volunteers"),l.a.createElement("a",{href:"/#/event-detail-owner/".concat(this.state.eventId),onClick:this.sendEmail.bind(this)},"Send email to volunteers")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h5",{class:"modal-title"},"Tools Requirements"),l.a.createElement("br",null),l.a.createElement("h6",null,"Tool kits: ",this.state.eventToolReq),l.a.createElement("h6",null,"Shirts: "),l.a.createElement("div",null,"XS: ",this.state.eventXSreq),l.a.createElement("div",null,"S: ",this.state.eventSreq),l.a.createElement("div",null,"M: ",this.state.eventMreq),l.a.createElement("div",null,"L: ",this.state.eventLreq),l.a.createElement("div",null,"XL: ",this.state.eventXLreq)),l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){o.pay()}},"Change Tool Requirements"))),l.a.createElement("br",null),this.state.showForm&&l.a.createElement("div",{className:"modal-body"},l.a.createElement("h3",null,"Result of event"),l.a.createElement("br",null),l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Number of participants *"),this.props.volunteers.volunteersBySite.map((function(e,t){return l.a.createElement("div",{class:"custom-control custom-checkbox"},l.a.createElement("input",{class:"custom-control-input",type:"checkbox",id:t,value:e.vlt_email,onChange:o.handleeventNumParticipantsChange}),l.a.createElement("label",{class:"custom-control-label",for:t},e.vlt_name," - ",e.vlt_email))})))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Weight of trash has been collected *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"kilograms..."},Object(v.a)(e,"className","form-control"),Object(v.a)(e,"value",this.state.eventTrashWeight),Object(v.a)(e,"onChange",this.handleeventTrashWeightChange),e)),this.state.errorWeight&&l.a.createElement("span",{className:"error"},"Invalid Email!")))),l.a.createElement("br",null),l.a.createElement("h5",null,"Number of every pieces of trash"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Recyclable *"),l.a.createElement("input",(t={type:"text",className:"col",placeholder:"number..."},Object(v.a)(t,"className","form-control"),Object(v.a)(t,"name","vltEmail"),Object(v.a)(t,"onChange",this.handleeventRecyclableTrashChange),Object(v.a)(t,"noValidate",!0),t))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Organic *"),l.a.createElement("input",(a={type:"text",className:"col",placeholder:"number..."},Object(v.a)(a,"className","form-control"),Object(v.a)(a,"name","vltEmail"),Object(v.a)(a,"onChange",this.handleeventOrganicTrashChange),Object(v.a)(a,"noValidate",!0),a)))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Non-Recyclable *"),l.a.createElement("input",(n={type:"text",className:"col",placeholder:"kilograms..."},Object(v.a)(n,"className","form-control"),Object(v.a)(n,"onChange",this.handleeventNonRecyclableTrashChange),n))))),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h5",null,"Event Photos *"),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("input",{style:{display:"none"},type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif, image/jfif",multiple:!0,onChange:this.fileSelectedHandler,ref:function(e){return o.fileInput=e}}),l.a.createElement("button",{onClick:function(){return o.fileInput.click()}},"Import photos")),l.a.createElement("div",{className:"imgPreview"},this.state.imagePreviewUrl.map((function(e,t){return l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement("div",{class:"modal-dialog"},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"modal-header"},l.a.createElement("img",{style:{backgroundSize:"cover",width:"50px",height:"50px"},class:"img-responsive",src:e}),l.a.createElement("button",{type:"button",class:"close",onClick:function(){o.removePreview(t)},style:{fontSize:"20px"}},"\xd7")))),"\xa0")})))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btnColor btn-lg btn-block",type:"submit",on:!0},"Submit Result")))))}}]),t}(l.a.Component),Ne=Object(r.b)((function(e){return{event:e.event,volunteers:e.volunteers}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchVolunteerByEmail:function(t){e(H(t))},fetchVolunteerBySite:function(t){e(Y(t))},actionAddSiteVolunteer:function(t){e(G(t))},actionAddVolunteers:function(t){e(q(t))},actionFetchVolunteers:function(){e(W())},actionDownloadVolunteersBySite:function(t,a){e(K(t,a))},sendEmailVolunteersBySite:function(t){e(function(e){return function(t){return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k()({method:"POST",url:"http://localhost:3000/cleansite/".concat(e,"/mailvolunteer"),data:null}).then((function(e){console.log("Sent email to volunteers by site")})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}))}}(t))},actionDeleteEvents:function(t){e(L(t))},actionEditEvents:function(t,a){e(I(t,a))}}}))(_e),Se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleOpenForm=function(e){a.setState({showForm:!a.state.showForm,eventNumParticipants:a.state.eventParticipants.length.toString()})},a.get_100_years=function(){var e=new Date;return e.setDate(e.getDate()-36500),e},a.openModal=function(){a.setState({notify:!0})},a.closeForm=function(){a.setState({showForm:!1})},a.close=function(){window.location.reload()},a.state={eventId:"",eventName:"",eventLocationName:"",eventAddress:"",eventLat:"",eventLng:"",eventDescription:"",eventStartDateTime:"",eventEndDateTime:"",eventInEx:"",eventDataCollected:"",eventNumParticipants:"",eventParticipants:[],eventTrashWeight:"",eventRecyclableTrash:"",eventNonRecyclableTrash:"",eventOrganicTrash:"",file:"",imagePreviewUrl:[],files:[],eventToolReq:"",eventXSreq:"",eventSreq:"",eventMreq:"",eventLreq:"",eventXLreq:"",eventPay:!1,vltEmail:"",vltName:"",vltDOB:"",vltAddress:"",account:[],tokenId:"",tokenName:"",showForm:!1,notify:!1,notify2:!1,notify3:!1,errorNum:!1,errorWeight:!1},a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.toggleOpenForm=a.toggleOpenForm.bind(Object(E.a)(a)),a.download=a.download.bind(Object(E.a)(a)),a.closeForm=a.closeForm.bind(Object(E.a)(a)),a.pay=a.pay.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken"),a=Ee()(t);if("undefined"!==typeof t&&null!==t&&"admin"==a.acc_username){this.setState({account:this.props.volunteers.volunteers,tokenName:a.acc_username,tokenId:a.acc_id});var n=this.props.match;if(n){var l=n.params.eventID;this.props.fetchVolunteerBySite(l),k()({method:"GET",url:"http://localhost:3000/cleansite/".concat(l),data:null}).then((function(t){console.log(t.data,"data");var a=t.data[0];e.setState({eventId:a.clean_site_id,eventName:a.cs_name,eventLocationName:a.cs_address_name,eventAddress:a.cs_address,eventDescription:a.cs_agenda,eventStartDateTime:a.cs_start_time,eventEndDateTime:a.cs_end_time,eventLat:a.cs_lat,eventLng:a.cs_long,eventNumParticipants:a.cs_ptcp_no,eventTrashWeight:a.cs_amount_collected,eventRecyclableTrash:a.cs_recy,eventNonRecyclableTrash:a.cs_non_recy,eventOrganicTrash:a.cs_organic,eventToolReq:a.cs_rq_set,eventXSreq:a.cs_xs_shirt,eventSreq:a.cs_s_shirt,eventMreq:a.cs_m_shirt,eventLreq:a.cs_l_shirt,eventXLreq:a.cs_xl_shirt,eventInEx:a.cs_inex,eventPay:Boolean(a.cs_pay)})})).catch((function(e){console.log(e)}))}}else window.location.href="/#/sign-in"}},{key:"getDate",value:function(e){return new Date(e).toLocaleDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify:!1})}},{key:"download",value:function(){this.props.actionDownloadVolunteersBySite(this.state.eventId,this.state.eventName)}},{key:"deleteBooking",value:function(e){this.props.actionDeleteEvents(e),this.setState({notify:!1}),this.setState({notify2:!0})}},{key:"pay",value:function(e){var t={clean_site_id:this.state.eventId,cs_name:this.state.eventName,cs_address_name:this.state.eventLocationName,cs_address:this.state.eventAddress,cs_lat:this.state.eventCoordLat,cs_long:this.state.eventCoordLng,cs_agenda:this.state.eventDescription,cs_start_time:this.state.eventStartDateTime,cs_end_time:this.state.eventEndDateTime,cs_inex:this.state.eventInEx,cs_ptcp_no:this.state.eventParticipants.length.toString(),cs_amount_collected:this.state.eventTrashWeight,cs_organic:this.state.eventOrganicTrash,cs_recy:this.state.eventRecyclableTrash,cs_non_recy:this.state.eventNonRecyclableTrash,cs_xs_shirt:this.state.eventXSreq,cs_s_shirt:this.state.eventSreq,cs_m_shirt:this.state.eventMreq,cs_l_shirt:this.state.eventLreq,cs_xl_shirt:this.state.eventXLreq,cs_rq_set:this.state.eventToolReq,cs_pay:!0};this.props.actionEditEvents(t,this.state.eventId),window.location.reload()}},{key:"render",value:function(){var e=this;return console.log(this.state,"state"),l.a.createElement("div",{className:"Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"container font",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"left",justifyContent:"left"}},"Are you sure you want to delete this event?")),l.a.createElement(pe.a,{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(d.b,null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){e.deleteBooking(e.state.eventId)}},"Yes")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.closeModal},"Cancel"))),l.a.createElement(de.a,{isOpen:this.state.notify2},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Event deleted!")),l.a.createElement(pe.a,null,l.a.createElement(d.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to List Page")))),l.a.createElement(de.a,{isOpen:this.state.notify3},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Result Submitted!")),l.a.createElement(pe.a,null,l.a.createElement("a",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{onClick:this.close,type:"button",className:"btn btn-success btn-sm"},"OK")))),l.a.createElement("div",{className:"row",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("div",{className:"col-7"},l.a.createElement("h1",null,this.state.eventName),l.a.createElement("div",{style:{fontSize:"18px"}},this.state.eventAddress),l.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(this.state.eventLat,",").concat(this.state.eventLng)},"See location on Google Maps"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",{className:"hr"}),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}}," Event Time:"),l.a.createElement("div",{className:"AppSmall"},"Date: ",this.getDate(this.state.eventStartDateTime)),l.a.createElement("div",{className:"AppSmall"},"Time: ",this.getTime(this.state.eventStartDateTime)," - ",this.getTime(this.state.eventEndDateTime)),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Agenda: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDescription)," ",l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500"}},"Report: "),l.a.createElement("div",{className:"AppSmall"},this.state.eventDataCollected)," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){e.openModal()}},"Delete this event")),l.a.createElement("div",{className:"col-5"},l.a.createElement("div",null,l.a.createElement("h5",{class:"modal-title"},"List of registered volunteers"),this.props.volunteers.volunteersBySite.map((function(e,t){return l.a.createElement("div",null,e.vlt_name," - ",e.vlt_email)})),l.a.createElement("br",null),l.a.createElement("a",{href:"/#/event-detail-owner/".concat(this.state.eventId),onClick:this.download},"Download list of volunteers")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h5",{class:"modal-title"},"Tools Requirements"),l.a.createElement("br",null),l.a.createElement("h6",null,"Tool kits: ",this.state.eventToolReq),l.a.createElement("h6",null,"Shirts: "),l.a.createElement("div",null,"XS: ",this.state.eventXSreq),l.a.createElement("div",null,"S: ",this.state.eventSreq),l.a.createElement("div",null,"M: ",this.state.eventMreq),l.a.createElement("div",null,"L: ",this.state.eventLreq),l.a.createElement("div",null,"XL: ",this.state.eventXLreq)),l.a.createElement("br",null),0==this.state.cs_pay&&l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){e.pay()}},"Confirm Payment")))))}}]),t}(l.a.Component),Te=Object(r.b)((function(e){return{event:e.event,volunteers:e.volunteers}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchVolunteerByEmail:function(t){e(H(t))},fetchVolunteerBySite:function(t){e(Y(t))},actionAddSiteVolunteer:function(t){e(G(t))},actionAddVolunteers:function(t){e(q(t))},actionFetchVolunteers:function(){e(W())},actionDownloadVolunteersBySite:function(t,a){e(K(t,a))},actionDeleteEvents:function(t){e(L(t))},actionEditEvents:function(t,a){e(I(t,a))}}}))(Se),we=a(878),De=a(873),Oe=a(871),ke=a(870),je=a(874),Le=a(830),xe=a(867),Ie=a(166),Pe=a.n(Ie),Fe=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),Be=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={acc_email:"",acc_pass:"",emailErr:!1,passErr:!1,loginErr:!1},e.handleEmailChange=e.handleEmailChange.bind(Object(E.a)(e)),e.handlePasswordChange=e.handlePasswordChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e.handleFBClick=e.handleFBClick.bind(Object(E.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={acc_email:this.state.acc_email,acc_pass:this.state.acc_pass};""===this.state.acc_email||!1===Fe.test(this.state.acc_email)?this.setState({emailErr:!0,passErr:!1}):""===this.state.acc_pass?(console.log("check desc"),this.setState({emailErr:!1,passErr:!0})):(this.setState({emailErr:!1,passErr:!1}),function(e){return k.a.post("http://localhost:3000/users/login",{acc_email:e.acc_email,acc_pass:e.acc_pass}).then((function(e){return localStorage.setItem("usertoken",e.data),e.data})).catch((function(e){console.log(e)}))}(a).then((function(e){e?(window.location.href="/#/event-list",window.location.reload()):t.setState({loginErr:!0})})))}},{key:"handleEmailChange",value:function(e){this.setState({acc_email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({acc_pass:e.target.value})}},{key:"handleFBClick",value:function(){var e=this;k.a.get("http://localhost:3000/sociallogin/auth/facebook",{}).then((function(e){return localStorage.setItem("usertoken",e.data),console.log("TOi DAY ROI NE"),e.data})).catch((function(e){console.log(e)})).then((function(t){t?(window.location.href="/#//auth/facebook",window.location.reload()):e.setState({loginErr:!0})}))}},{key:"componentDidMount",value:function(){k()({method:"GET",url:"http://localhost:3000/sociallogin/logout",data:null}).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props;return localStorage.clear(),l.a.createElement(xe.a,{component:"main",maxWidth:"xs",className:" Min-height"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(we.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(Le.a,{className:"signIn",component:"h1",variant:"h5"},"Sign In"),l.a.createElement("form",{onSubmit:this.onSubmit,className:e.form,noValidate:!0},l.a.createElement(De.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:this.state.acc_email,onChange:this.handleEmailChange}),this.state.emailErr&&l.a.createElement("span",{className:"error"},"Please enter a valid email!"),l.a.createElement(De.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.acc_pass,onChange:this.handlePasswordChange}),this.state.passErr&&l.a.createElement("span",{className:"error"},"Please enter your password!"),this.state.loginErr&&l.a.createElement("span",{className:"error"},"Wrong username or password!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn noHoverButton btn-block",type:"submit",role:"button",on:!0},"SIGN IN"),l.a.createElement("br",null),l.a.createElement(ke.a,{container:!0},l.a.createElement(ke.a,{item:!0},l.a.createElement(Oe.a,{href:"#/sign-up",variant:"body2"},"Don't have an account yet?")))),l.a.createElement("a",{href:"/sociallogin/auth/facebook",className:"btn btn-primary"},l.a.createElement("span",{className:"fa fa-facebook"}),"Facebook"),l.a.createElement("a",{href:"/sociallogin/gmaillogin",className:"btn btn-primary"},l.a.createElement("span",{className:"fa fa-facebook"}),"Gmail")),l.a.createElement(je.a,{mt:8}))}}]),t}(n.Component),Me=Pe()({paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"}})(Be);Object(r.b)((function(e){return{}}),(function(e){return{}}));var Ae=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),Re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).fileSelectedHandler=function(t){var a=new FileReader;e.setState({files:Object(ee.a)(t.target.files)}),a.readAsDataURL(t.target.files[0]),e.state.imagePreviewUrl.pop(),a.onloadend=function(){e.setState({imagePreviewUrl:[a.result]})}},e.fileUploadHandler=function(){(new FormData).append("image"),k.a.post("localhost:8081/photo/basic//0303019/upload")},e.state={acc_username:"",acc_email:"",acc_pass:"",acc_description:"",errors:{},notify:!1,usernameErr:!1,emailErr:!1,passErr:!1,descErr:!1,imagePreviewUrl:[],files:[]},e.handleEmailChange=e.handleEmailChange.bind(Object(E.a)(e)),e.handleUsernameChange=e.handleUsernameChange.bind(Object(E.a)(e)),e.handlePasswordChange=e.handlePasswordChange.bind(Object(E.a)(e)),e.handleDescChange=e.handleDescChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t={acc_email:this.state.acc_email,acc_pass:this.state.acc_pass,acc_username:this.state.acc_username,acc_description:this.state.acc_description,acc_profile_pic:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQnRM7I0HLiujP2nRnyulNuzAwFRVgWKo16YMsYUvFYKJLWA5lyA&s"};""===this.state.acc_username||"admin"===this.state.acc_username?this.setState({emailErr:!1,passErr:!1,usernameErr:!0}):""===this.state.acc_email||this.state.acc_email.includes("admin")||!1===Ae.test(this.state.acc_email)?this.setState({emailErr:!0,passErr:!1,usernameErr:!1}):""===this.state.acc_pass?this.setState({emailErr:!1,passErr:!0,usernameErr:!1}):""===this.state.acc_description?this.setState({emailErr:!1,passErr:!1,usernameErr:!1,descErr:!0}):(this.setState({emailErr:!1,passErr:!1,usernameErr:!1,descErr:!1}),function(e){return k.a.post("http://localhost:3000/users/register",{acc_email:e.acc_email,acc_username:e.acc_username,acc_pass:e.acc_pass,acc_description:e.acc_description,acc_profile_pic:e.acc_profile_pic}).then((function(e){console.log("Registered",e.data)}))}(t).then((function(e){})),this.setState({notify:!0}))}},{key:"handleUsernameChange",value:function(e){this.setState({acc_username:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({acc_email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({acc_pass:e.target.value})}},{key:"handleDescChange",value:function(e){this.setState({acc_description:e.target.value})}},{key:"removePreview",value:function(e){var t=this.state.files,a=this.state.imagePreviewUrl;t.splice(e,1),a.splice(e,1),this.setState({files:t,imagePreviewUrl:a})}},{key:"render",value:function(){console.log(this.state);var e=this.props;return l.a.createElement(xe.a,{component:"main",maxWidth:"xs",className:"Min-height"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"You've successfully created your account!")),l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"You will be redirected to Sign In page.")),l.a.createElement(pe.a,null,l.a.createElement(d.b,{to:"/sign-in",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Confirm")))),l.a.createElement(we.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(Le.a,{className:"signIn",component:"h1",variant:"h5"},"Sign Up"),l.a.createElement("form",{className:e.form,onSubmit:this.onSubmit,noValidate:!0},l.a.createElement(De.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,margin:"normal",fullWidth:!0,id:"username",label:"Organization Name",autoFocus:!0,value:this.state.acc_username,onChange:this.handleUsernameChange}),this.state.usernameErr&&l.a.createElement("span",{className:"error"},"Please enter your organization name!"),l.a.createElement(De.a,{variant:"outlined",required:!0,margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.acc_email,onChange:this.handleEmailChange}),this.state.emailErr&&l.a.createElement("span",{className:"error"},"Please enter a valid email!"),l.a.createElement(De.a,{variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.acc_pass,onChange:this.handlePasswordChange}),this.state.passErr&&l.a.createElement("span",{className:"error"},"Please enter your password!"),l.a.createElement(De.a,{variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"description",label:"Description",type:"description",id:"description",multiline:!0,rows:4,rowsMax:10,value:this.state.acc_description,onChange:this.handleDescChange}),this.state.descErr&&l.a.createElement("span",{className:"error"},"Please enter the description of your organizer!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn noHoverButton  btn-block",type:"submit",on:!0},"Sign Up"),l.a.createElement("br",null),l.a.createElement(ke.a,{container:!0,justify:"flex-end"},l.a.createElement(ke.a,{item:!0},l.a.createElement(d.b,{to:"/sign-in",variant:"body2"},"Already have an account? Sign In !"))))),l.a.createElement(je.a,{mt:5}))}}]),t}(n.Component),He=Pe()({paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"}})(Re),Ve=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"font App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"pageTitle"},"About Us"),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-7"},l.a.createElement("div",{className:"container"}),l.a.createElement("p",{className:"container"},l.a.createElement("p",null,"Our goal at Keep Vietnam Clean & Green (KVCG) is to raise awareness about the litter & trash problem in Vietnam. While we understand there are many other issues that impact the environment, our focus is on littering, as we believe it to be the most basic of environmental issues and the foundational basis of environmental education. We believe, \u201cHow can we educate people about issues like climate change, sustainable building, reusable energies and recycling when we can\u2019t get the general population to stop littering?\u201d"),l.a.createElement("p",null,"Our first program, started in June 2013, was the Green Ribbon Campaign that won the international Youth4Asia competition sponsored by the Asian Development Bank in 2015 when we worked with 15 universities in Vietnam to get over 40,000 pledges to not litter. We were honored to present our program to the Environment Ministers of all the countries in the Greater Mekong Region in Myanmar and then again in 2016 at the Asia Youth Conference in the Philippines."),l.a.createElement("p",null,"In April 2015, we started our second program the Community Clean Ups on Phu Quoc Island. We have, since then, also organized clean ups in Han Noi, HCMC, Hoi An, Hue and Can Tho and have engaged over organizations to join the clean ups.                            "),l.a.createElement("p",null,"In 2016, we developed the characters for the Green Turtle Army, a campaign targeting children. We are excited as these mascots will educate children about the negative impacts of littering. Our partners in this effort are (1) RMIT University\u2019s Centre of Communication and Design, whose students designed the characters and (2) Saigon South International School, whose elementary and middle school students helped to create activities based on the Green Turtle Army characters."))),l.a.createElement("div",{className:"col-5"},l.a.createElement("img",{src:"http://vietnamsachvaxanh.org/wp-content/uploads/a_MG_0443s.jpg",style:{width:"100%"}}))))}}]),t}(l.a.Component),qe=a(350),ze=(new(a.n(qe).a)("myTotalySecretKey"),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).openModal=function(e){a.setState({notify:!0,readytodeleteEvent:e})},a.state={displayItems:[],readytodeleteEvent:"",notify:!1,idNow:"",nameNow:"",descNow:"",photoNow:"",keyword:"",filterCity:"",filterDistrict:"",filterTime:""},a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.download=a.download.bind(Object(E.a)(a)),a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.onChangeFilterCity=a.onChangeFilterCity.bind(Object(E.a)(a)),a.onChangeFilterDistrict=a.onChangeFilterDistrict.bind(Object(E.a)(a)),a.onChangeFilterTime=a.onChangeFilterTime.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken");if("undefined"!==typeof t&&null!==t){var a=Ee()(t),n=a.acc_id,l=a.acc_username,o=a.acc_description,s=a.acc_profile_pic;this.setState({idNow:n,nameNow:l,descNow:o,photoNow:s}),"admin"==a.acc_username?this.props.actionFetchEvents():(this.props.fetchEventsByOwner(n),this.setState({displayItems:this.props.events.events}))}else k()({method:"GET",url:"http://localhost:3000/sociallogin/fblogin",data:null}).then((function(t){if("Not authenticated"!=t.data){var a=Ee()(t.data);console.log("YOU CAN DO THISS"),console.log(a);var n=a.user_id,l=a.user_name;e.setState({idNow:n,nameNow:l})}else k()({method:"GET",url:"http://localhost:3000/sociallogin/gmaillogin",data:null}).then((function(t){if("true"==t.data.authoriztion){var a=Ee()(t.data.token);console.log("YOU CAN DO THISS AGAIN"),console.log(a);var n=a.user_id,l=a.user_name;e.setState({idNow:n,nameNow:l})}else window.location.href="/#/sign-in"})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){this.setState({displayItems:e.events.events})}},{key:"deleteBooking",value:function(e){this.props.actionDeleteEvents(e),this.setState({notify:!1})}},{key:"getDate",value:function(e){return new Date(e).toDateString()}},{key:"getTime",value:function(e){return new Date(e).toLocaleTimeString()}},{key:"closeModal",value:function(){this.setState({notify:!1})}},{key:"download",value:function(){this.props.actionDownloadEventsByAccount(this.state.idNow,this.state.nameNow)}},{key:"searchFunc",value:function(e){var t=this;if("Morning"==this.state.filterTime){var a=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)&&new Date(e.cs_start_time).getHours()<12}));this.setState({displayItems:a})}else if("Afternoon"==this.state.filterTime){var n=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)&&new Date(e.cs_start_time).getHours()<17&&new Date(e.cs_start_time).getHours()>=12}));this.setState({displayItems:n})}else if("Evening"==this.state.filterTime){var l=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)&&new Date(e.cs_start_time).getHours()<21&&new Date(e.cs_start_time).getHours()>=17}));this.setState({displayItems:l})}else if(""==this.state.keyword&&""==this.state.filterCity&&""==this.state.filterDistrict&&""==this.state.filterTime)this.setState({displayItems:this.props.events.events});else if(""==this.state.filterTime){var o=this.props.events.events.filter((function(e){return e.cs_name.toLowerCase().includes(t.state.keyword.toLowerCase())&&e.cs_address.includes(t.state.filterDistrict)&&e.cs_address.includes(t.state.filterCity)}));this.setState({displayItems:o})}}},{key:"handleChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"onChangeFilterCity",value:function(e){this.setState({filterCity:e.target.value})}},{key:"onChangeFilterDistrict",value:function(e){this.setState({filterDistrict:e.target.value})}},{key:"onChangeFilterTime",value:function(e){this.setState({filterTime:e.target.value})}},{key:"render",value:function(){var e=this;return console.log(this.state,"state"),l.a.createElement("div",{className:"tableMargin App Min-height",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"left",justifyContent:"left"}},"Are you sure you want to delete this event?")),l.a.createElement(pe.a,{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(d.b,null,l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){e.deleteBooking(e.state.readytodeleteEvent)}},"Yes")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.closeModal},"Cancel"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("img",{style:{backgroundSize:"cover",width:"200px",height:"200px"},class:"img-responsive",src:this.state.photoNow})),l.a.createElement("div",{className:"col-8"},l.a.createElement("h3",null,this.state.nameNow),l.a.createElement("p",null,this.state.descNow))),l.a.createElement("br",null),l.a.createElement("div",{className:"pageTitle"},"List of Events"),l.a.createElement("br",null),l.a.createElement("a",{href:"/#/event-list",onClick:this.download},"Download your events"),l.a.createElement("br",null),"admin"==this.state.nameNow&&l.a.createElement("div",{className:"form-inline searchCenter"},l.a.createElement("input",{className:"form-control mr-sm-2 ",type:"search",placeholder:"Event name...",value:this.state.keyword,name:"keyword",onChange:this.handleChange}),l.a.createElement("div",{class:"form-row align-items-center"},l.a.createElement("div",{class:"col-auto my-1"},l.a.createElement("select",{class:"custom-select mr-sm-2",value:this.state.filterCity,onChange:this.onChangeFilterCity},l.a.createElement("option",{selected:!0,value:""},"City..."),l.a.createElement("option",null,"Ho Chi Minh"),"    ",l.a.createElement("option",null,"Ha Noi")," ",l.a.createElement("option",null,"Ba Ria - Vung Tau"),"  ",l.a.createElement("option",null,"Da Nang"),l.a.createElement("option",null,"Can Tho"),"   ",l.a.createElement("option",null,"An Giang"),"    ",l.a.createElement("option",null,"Bac Giang"),"  ",l.a.createElement("option",null,"Bac Kan"),"    ",l.a.createElement("option",null,"Bac Lieu"),l.a.createElement("option",null,"Bac Ninh"),"  ",l.a.createElement("option",null,"Ben Tre"),"     ",l.a.createElement("option",null,"Binh Dinh"),"    ",l.a.createElement("option",null,"Binh Duong"),l.a.createElement("option",null,"Binh Phuoc"),"  ",l.a.createElement("option",null,"Binh Thuan"),"    ",l.a.createElement("option",null,"Ca Mau"),"  ",l.a.createElement("option",null,"Cao Bang"),l.a.createElement("option",null,"Dak Lak"),"    ",l.a.createElement("option",null,"Dak Nong"),"  ",l.a.createElement("option",null,"Dien Bien"),"   ",l.a.createElement("option",null,"Dong Nai"),l.a.createElement("option",null,"Dong Thap"),"  ",l.a.createElement("option",null,"Gia Lai"),"    ",l.a.createElement("option",null,"Ha Giang"),"   ",l.a.createElement("option",null,"Ha Nam"),l.a.createElement("option",null,"Ha Tinh"),"    ",l.a.createElement("option",null,"Hai Duong"),"  ",l.a.createElement("option",null,"Hai Phong"),"    ",l.a.createElement("option",null,"Hau Giang"),l.a.createElement("option",null,"Hoa Binh"),"   ",l.a.createElement("option",null,"Hung Yen"),"  ",l.a.createElement("option",null,"Khanh Hoa"),l.a.createElement("option",null,"Kien Giang"),"  ",l.a.createElement("option",null,"Kon Tum"),"   ",l.a.createElement("option",null,"Lai Chau"),"  ",l.a.createElement("option",null,"Lam Dong"),l.a.createElement("option",null,"Lang Son"),"  ",l.a.createElement("option",null,"Lao Cai"),"     ",l.a.createElement("option",null,"Long An"),"    ",l.a.createElement("option",null,"Nam Dinh"),l.a.createElement("option",null,"Nghe An"),"    ",l.a.createElement("option",null,"Ninh Binh"),"  ",l.a.createElement("option",null,"Ninh Thuan"),"  ",l.a.createElement("option",null,"Phu Tho"),l.a.createElement("option",null,"Phu Yen"),"    ",l.a.createElement("option",null,"Quang Binh"),"     ",l.a.createElement("option",null,"Quang Nam"),"    ",l.a.createElement("option",null,"Quang Ngai"),l.a.createElement("option",null,"Quang Ninh"),"  ",l.a.createElement("option",null,"Quang Tri"),"     ",l.a.createElement("option",null,"Soc Trang"),"    ",l.a.createElement("option",null,"Son La"),l.a.createElement("option",null,"Tay Ninh"),"      ",l.a.createElement("option",null,"Thai Binh"),"   ",l.a.createElement("option",null,"Thai Nguyen"),"    ",l.a.createElement("option",null,"Thanh Hoa"),l.a.createElement("option",null,"Thua Thien Hue"),"  ",l.a.createElement("option",null,"Tien Giang"),"    ",l.a.createElement("option",null,"Tra Vinh"),"  ",l.a.createElement("option",null,"Tuyen Quang"),l.a.createElement("option",null,"Vinh Long"),"    ",l.a.createElement("option",null,"Vinh Phuc"),"    ",l.a.createElement("option",null,"Yen Bai"))),l.a.createElement("div",{class:"col-auto my-1"},""==this.state.filterCity&&l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterDistrict,onChange:this.onChangeFilterDistrict},l.a.createElement("option",{selected:!0,value:""},"District...")),"ho chi minh"==this.state.filterCity.toLowerCase()&&l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterDistrict,onChange:this.onChangeFilterDistrict},l.a.createElement("option",{selected:!0,value:""},"District..."),l.a.createElement("option",null,"Quan 1"),"    ",l.a.createElement("option",null,"Quan 2"),"  ",l.a.createElement("option",null,"Quan 3"),"    ",l.a.createElement("option",null,"Quan 4"),l.a.createElement("option",null,"Quan 5"),"    ",l.a.createElement("option",null,"Quan 6"),"  ",l.a.createElement("option",null,"Quan 7"),"    ",l.a.createElement("option",null,"Quan 8"),l.a.createElement("option",null,"Quan 9"),"    ",l.a.createElement("option",null,"Quan 10")," ",l.a.createElement("option",null,"Quan 11"),"   ",l.a.createElement("option",null,"Quan 12"),l.a.createElement("option",null,"Binh Tan"),"  ",l.a.createElement("option",null,"Binh Thanh"),"   ",l.a.createElement("option",null,"Go Vap"),"       ",l.a.createElement("option",null,"Phu Nhuan"),l.a.createElement("option",null,"Tan Binh"),"  ",l.a.createElement("option",null,"Tan Phu")," ",l.a.createElement("option",null,"Thu Duc"),"    ",l.a.createElement("option",null,"Binh Chanh"),l.a.createElement("option",null,"Can Gio"),"      ",l.a.createElement("option",null,"Cu Chi"),"   ",l.a.createElement("option",null,"Hoc Mon"),"    ",l.a.createElement("option",null,"Nha Be")),"ha noi"==this.state.filterCity.toLowerCase()&&l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterDistrict,onChange:this.onChangeFilterDistrict},l.a.createElement("option",{selected:!0},"District..."),l.a.createElement("option",null,"Ba Dinh"),"    ",l.a.createElement("option",null,"Hoan Kiem"),"  ",l.a.createElement("option",null,"Hai Ba Trung"),"    ",l.a.createElement("option",null,"Dong Da"),l.a.createElement("option",null,"Cau Giay"),"    ",l.a.createElement("option",null,"Long Bien"),"  ",l.a.createElement("option",null,"Hoang Mai"),"    ",l.a.createElement("option",null,"Soc Son"),l.a.createElement("option",null,"Bac Tu Liem"),"    ",l.a.createElement("option",null,"Thanh Tri")," ",l.a.createElement("option",null,"Gia Lam"),"   ",l.a.createElement("option",null,"Ba Vi"),l.a.createElement("option",null,"Chuong My"),"  ",l.a.createElement("option",null,"Dan Phuong"),"   ",l.a.createElement("option",null,"Hoai Duc"),"       ",l.a.createElement("option",null,"My Duc"),l.a.createElement("option",null,"Phu Xuyen"),"  ",l.a.createElement("option",null,"Phu Tho")," ",l.a.createElement("option",null,"Quoc Oai"),"    ",l.a.createElement("option",null,"Thach That"),l.a.createElement("option",null,"Thanh Oai"),"      ",l.a.createElement("option",null,"Thuong Tin"),"   ",l.a.createElement("option",null,"Ung Hoa"),"    ",l.a.createElement("option",null,"Me Linh"),l.a.createElement("option",null,"Ha Dong"),"    ",l.a.createElement("option",null,"Son Tay"),"    ",l.a.createElement("option",null,"Dong Anh"),"   ",l.a.createElement("option",null,"Nam Tu Liem"),l.a.createElement("option",null,"Thanh Xuan"),"    ",l.a.createElement("option",null,"Tay Ho"))),l.a.createElement("div",{class:"col-auto my-1"},l.a.createElement("select",{class:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:this.state.filterTime,onChange:this.onChangeFilterTime},l.a.createElement("option",{selected:!0,value:""},"Time..."),l.a.createElement("option",null,"Morning"),l.a.createElement("option",null,"Afternoon"),l.a.createElement("option",null,"Evening")))),l.a.createElement("button",{className:"btn searchBtn my-2 my-sm-0 col-md-1",onClick:this.searchFunc.bind(this)},l.a.createElement("img",{className:"kinhlup",src:"https://www.stickpng.com/assets/images/585e4ae9cb11b227491c3394.png",width:"27px",height:"30px",alt:"No Logo"}))),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-hover tableColor"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col",style:{width:"200px"}},"Name"),l.a.createElement("th",{scope:"col",style:{width:"350px"}},"Date / Time"),l.a.createElement("th",{scope:"col",style:{width:"250px"}},"Location"),l.a.createElement("th",{scope:"col",style:{width:"350px"}},"Address"),"admin"==this.state.nameNow&&l.a.createElement("th",{scope:"col"},"Action"),l.a.createElement("th",{scope:"col"},"Publicity"))),l.a.createElement("tbody",null,this.state.displayItems.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),"admin"!==e.state.nameNow&&l.a.createElement("td",null,l.a.createElement(d.b,{style:{fontWeight:"500",color:"black"},to:"/event-detail-owner/".concat(t.clean_site_id)},t.cs_name)),"admin"==e.state.nameNow&&l.a.createElement("td",null,l.a.createElement(d.b,{style:{fontWeight:"500",color:"black"},to:"/event-detail-admin/".concat(t.clean_site_id)},t.cs_name)),l.a.createElement("td",null,e.getDate(t.cs_start_time),", ",e.getTime(t.cs_start_time),"-",e.getTime(t.cs_end_time)),l.a.createElement("td",null,e.getTime(t.cs_end_time),", ",e.getDate(t.cs_end_time)),l.a.createElement("td",null,t.cs_address),"admin"==e.state.nameNow&&l.a.createElement("td",null,l.a.createElement(d.b,{to:"/edit-event/".concat(t.clean_site_id)},l.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm"},"Edit")),"\xa0",l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){e.openModal(t.clean_site_id)}},"Delete")),l.a.createElement("td",null,t.cs_inex))})))))}}]),t}(n.Component)),We=Object(r.b)((function(e){return{events:e.events}}),(function(e){return{fetchEventsById:function(t){e(M(t))},fetchEventsByOwner:function(t){var a;e((a=t,function(e){return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a,"123"),t.abrupt("return",k()({method:"GET",url:"http://localhost:3000/account/".concat(a,"/ownevent"),data:null}).then((function(t){console.log(t.data,"get by owner"),e(R(t.data))})).catch((function(e){console.log(e)})));case 2:case"end":return t.stop()}}))}))},fetchAccountBySite:function(t){var a;e((a=t,function(e){return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k()({method:"GET",url:"http://localhost:3000/account/".concat(a),data:null}).then((function(t){console.log(t.data[0],"get by id"),e(J(t.data[0]))})).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}))}))},actionDeleteEvents:function(t){e(L(t))},actionFetchEvents:function(){e(F())},actionDownloadEventsByAccount:function(t,a){var n,l;e((n=t,l=a,function(e){return D.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"id"),e.abrupt("return",k()({method:"GET",url:"http://localhost:3000/account/".concat(n,"/ownevent/download"),data:null,responseType:"blob"}).then((function(e){console.log(e.data,"get events by id");var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","".concat(l," events.xlsx")),document.body.appendChild(a),a.click()})).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}))}))}}}))(ze),Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleStartDateTimeChange=function(e){a.setState({eventStartDateTime:e,eventEndDateTime:e})},a.handleEndDateTimeChange=function(e){a.setState({eventEndDateTime:e})},a.get_end_of_date=function(){var e=new Date;return e.setHours(23),e},a.get_7_days_after=function(){var e=new Date;return e.setDate(e.getDate()+7),e},a.get_24_hours_before=function(){var e=a.state.eventEndDateTime;return e.setDate(e.getHours),e},a.callBackFunc=function(e){console.log("called from parent"),a.setState({eventCoordLat:e.lat,eventCoordLng:e.lng,eventAdress:e.address})},a.state={eventId:"",eventName:"",eventLocationName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventDataCollected:"",eventStartDateTime:a.get_7_days_after(),eventEndDateTime:a.get_7_days_after(),public:"",ownerID:"",eventNumParticipants:"",eventTrashWeight:"",eventRecyclableTrash:"",eventNonRecyclableTrash:"",eventOrganicTrash:"",eventToolReq:"",eventXSreq:"",eventSreq:"",eventMreq:"",eventLreq:"",eventXLreq:"",eventPay:!1,notify:!1,nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1,publicErr:!1,locationNameErr:!1},a.handleNameChange=a.handleNameChange.bind(Object(E.a)(a)),a.handleLocationNameChange=a.handleLocationNameChange.bind(Object(E.a)(a)),a.handleCoordChange=a.handleCoordChange.bind(Object(E.a)(a)),a.handleStartDateTimeChange=a.handleStartDateTimeChange.bind(Object(E.a)(a)),a.handleEndDateTimeChange=a.handleEndDateTimeChange.bind(Object(E.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.handleDataCollectedChange=a.handleDataCollectedChange.bind(Object(E.a)(a)),a.public=a.public.bind(Object(E.a)(a)),a.nopublic=a.nopublic.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleNameChange",value:function(e){this.setState({eventName:e.target.value})}},{key:"handleLocationNameChange",value:function(e){this.setState({eventLocationName:e.target.value})}},{key:"handleCoordChange",value:function(){this.setState({eventCoordLat:this.childData.lat,eventCoordLng:this.childData.lng})}},{key:"handleDescriptionChange",value:function(e){this.setState({eventDescription:e.target.value})}},{key:"handleDataCollectedChange",value:function(e){this.setState({eventDataCollected:e.target.value})}},{key:"public",value:function(){this.setState({public:"true"})}},{key:"nopublic",value:function(){this.setState({public:"false"})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={clean_site_id:this.state.eventId,cs_name:this.state.eventName,cs_address_name:this.state.eventLocationName,cs_address:this.state.eventAdress.normalize("NFD").replace(/[\u0300-\u036f]/g,""),cs_lat:this.state.eventCoordLat,cs_long:this.state.eventCoordLng,cs_agenda:this.state.eventDescription,cs_start_time:this.state.eventStartDateTime,cs_end_time:this.state.eventEndDateTime,cs_ptcp_no:this.state.eventNumParticipants,cs_amount_collected:this.state.eventTrashWeight,cs_recy:this.state.eventRecyclableTrash,cs_non_recy:this.state.eventNonRecyclableTrash,cs_organic:this.state.eventOrganicTrash,cs_rq_set:this.state.eventToolReq,cs_xs_shirt:this.state.eventXSreq,cs_s_shirt:this.state.eventSreq,cs_m_shirt:this.state.eventMreq,cs_l_shirt:this.state.cs_l_shirt,cs_xl_shirt:this.state.eventXLreq,cs_inex:this.state.eventInEx,cs_pay:this.state.eventPay};""===this.state.eventName?(console.log("check name"),this.setState({nameErr:!0,descErr:!1,coordErr:!1,timeErr:!1,locationNameErr:!1,publicErr:!1})):""===this.state.eventDescription?(console.log("check desc"),this.setState({nameErr:!1,descErr:!0,coordErr:!1,timeErr:!1,locationNameErr:!1,publicErr:!1})):this.state.eventStartDateTime.getDate()==this.state.eventEndDateTime.getDate()&&this.state.eventStartDateTime.getTime()>=this.state.eventEndDateTime.getTime()?this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!0,locationNameErr:!1,publicErr:!1}):""===this.state.eventLocationName?this.setState({nameErr:!1,descErr:!1,coordErr:!1,locationNameErr:!0,timeErr:!1,publicErr:!1}):""===this.state.eventCoordLat||""===this.state.eventCoordLng?this.setState({nameErr:!1,descErr:!1,coordErr:!0,timeErr:!1,locationNameErr:!1,publicErr:!1}):""===this.state.public?this.setState({nameErr:!1,descErr:!1,coordErr:!1,timeErr:!1,locationNameErr:!1,publicErr:!0}):(this.props.actionEditEvents(t,this.state.eventId),this.setState({eventName:"",eventAdress:"",eventCoordLat:"",eventCoordLng:"",eventDescription:"",eventEndDateTime:"",eventStartDateTime:"",eventDataCollected:"",eventLocationName:"",notify:!0}))}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("usertoken");if("undefined"!==typeof t&&null!==t){var a=this.props.match;if(console.log(this.props),a){var n=a.params.eventID;console.log(n),k()({method:"GET",url:"http://localhost:3000/cleansite/".concat(n),data:null}).then((function(t){console.log(t.data,"data");var a=t.data[0];e.setState({eventId:a.clean_site_id,eventName:a.cs_name,eventLocationName:a.cs_address_name,eventAddress:a.cs_address,eventDescription:a.cs_agenda,eventStartDateTime:new Date(a.cs_start_time),eventEndDateTime:new Date(a.cs_end_time),eventNumParticipants:a.cs_ptcp_no,eventTrashWeight:a.cs_amount_collected,eventRecyclableTrash:a.cs_recy,eventNonRecyclableTrash:a.cs_non_recy,eventOrganicTrash:a.cs_organic,eventToolReq:a.cs_rq_set,eventXSreq:a.cs_xs_shirt,eventSreq:a.cs_s_shirt,eventMreq:a.cs_m_shirt,eventLreq:a.cs_l_shirt,eventXLreq:a.cs_xl_shirt,eventInEx:a.cs_inex,eventPay:Boolean(a.cs_pay)})})).catch((function(e){console.log(e)}))}}else window.location.href="/#/sign-in"}},{key:"render",value:function(){var e,t;return console.log(this.state,"state"),l.a.createElement("div",{className:"App",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(de.a,{isOpen:this.state.notify},l.a.createElement(pe.a,null,l.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Successfully edited!")),l.a.createElement(pe.a,null,l.a.createElement(d.b,{to:"/event-list",style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btn-success btn-sm"},"Back to List page")))),l.a.createElement("div",{className:"pageTitle"},"Edit event"),l.a.createElement("br",null),l.a.createElement("form",{action:"#",id:"book-form",className:"{formStatus} needs-validation",onSubmit:this.onSubmit,novalidate:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Event Name *"),l.a.createElement("input",(e={type:"text",className:"col",placeholder:"name..."},Object(v.a)(e,"className","form-control"),Object(v.a)(e,"value",this.state.eventName),Object(v.a)(e,"onChange",this.handleNameChange),e)),this.state.nameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Agenda *"),l.a.createElement("textarea",{placeholder:"tell everyone a bit about your event...",class:"form-control",id:"exampleFormControlTextarea1",rows:"14",value:this.state.eventDescription,onChange:this.handleDescriptionChange}),this.state.descErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"Start Date / Time *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(me.a,{className:"form-control",selected:this.state.eventStartDateTime,minDate:this.get_7_days_after(),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"Time",onSelect:this.handleSelect,placeholderText:"date - time",onChange:this.handleStartDateTimeChange}))),l.a.createElement("div",{className:"col"},l.a.createElement("label",null,"End Date / Time *"),l.a.createElement("div",{className:"form-group"},l.a.createElement(me.a,{className:"form-control",selected:this.state.eventEndDateTime,minDate:this.state.eventStartDateTime,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time",onSelect:this.handleSelect,placeholderText:"date - time",onChange:this.handleEndDateTimeChange})))),this.state.timeErr&&l.a.createElement("span",{className:"error"},"Invalid end time!")),l.a.createElement("br",null),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Location Name *"),l.a.createElement("input",(t={type:"text",className:"col",placeholder:"location name..."},Object(v.a)(t,"className","form-control"),Object(v.a)(t,"value",this.state.eventLocationName),Object(v.a)(t,"onChange",this.handleLocationNameChange),t)),this.state.locationNameErr&&l.a.createElement("span",{className:"error"},"Please fill in this field!")),l.a.createElement("label",null,"Location *"),l.a.createElement("div",null,l.a.createElement(he,{history:this.callBackFunc,onChange:this.handleCoordChanges}),this.state.coordErr&&l.a.createElement("span",{className:"error"},"Please choose your location!")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("label",null,"Public this event? *"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},l.a.createElement("input",{type:"radio",id:"customRadio1",name:"customRadio",class:"custom-control-input",value:this.state.public,onChange:this.public}),l.a.createElement("label",{class:"custom-control-label",for:"customRadio1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio custom-control-inline"},l.a.createElement("input",{type:"radio",id:"customRadio2",name:"customRadio",class:"custom-control-input",value:this.state.public,onChange:this.nopublic}),l.a.createElement("label",{class:"custom-control-label",for:"customRadio2"},"No")))),this.state.publicErr&&l.a.createElement("span",{className:"error"},"Please choose an option!")),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("button",{className:"btn btnColor btn-lg",type:"submit",on:!0},"Change"))))}}]),t}(n.Component),Ge=Object(r.b)((function(e){return{}}),(function(e,t){return{fetchEventsById:function(t){e(M(t))},actionEditEvents:function(t,a){e(I(t,a))}}}))(Ue),Qe=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",component:ie}),l.a.createElement(p.a,{path:"/create-event",component:be}),l.a.createElement(p.a,{path:"/event-detail/:eventID",component:Ce}),l.a.createElement(p.a,{path:"/event-detail-owner/:eventID",component:Ne}),l.a.createElement(p.a,{path:"/event-detail-admin/:eventID",component:Te}),l.a.createElement(p.a,{path:"/sign-in",component:Me}),l.a.createElement(p.a,{path:"/sign-up",component:He}),l.a.createElement(p.a,{path:"/about-us",component:Ve}),l.a.createElement(p.a,{path:"/event-list/",component:We}),l.a.createElement(p.a,{path:"/edit-event/:eventID",component:Ge}))}}]),t}(n.Component),Ye=a(876),Xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={token:"",switch:!1},a.signOut=a.signOut.bind(Object(E.a)(a)),a.signIn=a.signIn.bind(Object(E.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(this.setState({token:e}),"undefined"!==typeof e&&null!==e){var t=Ee()(e);this.setState({name:t.acc_username})}}},{key:"signOut",value:function(){this.setState({switch:!1,name:""}),localStorage.removeItem("usertoken"),window.location.href="/#/",window.location.reload()}},{key:"signIn",value:function(){this.setState({switch:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"fixed-top",style:{backgroundColor:"rgb(250, 250, 250)"}},l.a.createElement("nav",{className:"navbar navbar-expand-lg"},l.a.createElement("a",{className:"navbar-brand",href:"#"},l.a.createElement("img",{src:"svx-logo.png",width:"150",height:"50",alt:""})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},l.a.createElement("ul",{className:"navbar-nav nav-item active mr-auto mt-2 mt-lg-0"}),l.a.createElement("div",{className:" navbar-nav my-2 my-lg-0"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",href:"#/",style:{backgroundColor:"rgb(250, 250, 250)"}},"Map of Events")),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",href:"#/about-us",style:{backgroundColor:"rgb(250, 250, 250)"}},"About Us")),"undefined"==typeof this.state.name&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",href:"#/event-list",style:{backgroundColor:"rgb(250, 250, 250)"}},"Your Events")),"undefined"!==typeof this.state.name&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",href:"#/event-list",style:{backgroundColor:"rgb(250, 250, 250)"}},this.state.name," Events")),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",href:"#/create-event",style:{backgroundColor:"rgb(250, 250, 250)"}},"Create Your Event")),null!==this.state.token&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",onClick:function(){e.signOut()},style:{backgroundColor:"rgb(250, 250, 250)"}},"Sign Out")),null==this.state.token&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement(Ye.a,{className:"nav-link navFontColor",href:"#/sign-in",style:{backgroundColor:"rgb(250, 250, 250)"}},"Sign In"))))))}}]),t}(n.Component),Ke=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"bckgrd"},l.a.createElement(d.a,null,l.a.createElement(Xe,null),l.a.createElement(p.a,{path:"/",component:Qe})))}}]),t}(n.Component),Je=a(86),$e=a(47),Ze={volunteers:[],volunteer:{},volunteersBySite:[]},et={events:[],event:{}},tt={accounts:[],account:{}},at=Object(Je.combineReducers)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EVENTS":return Object($e.a)({},e,{events:t.payload});case"FETCH_EVENTS_BY_ID":return Object($e.a)({},e,{event:t.payload});case"DOWNLOAD_EVENTS_BY_ACCOUNT":case"FETCH_EVENTS_BY_OWNER":return Object($e.a)({},e,{events:t.payload});case"ADD_EVENTS":return Object($e.a)({},e,{events:[].concat(Object(ee.a)(e.events),[t.payload])});case"DELETE_EVENTS":var a=e.events.filter((function(e){return e.clean_site_id!==t.payload.toString()}));return Object($e.a)({},e,{events:a});case"EDIT_EVENTS":var n=e.events.filter((function(e){return e.clean_site_id!==t.payload}));return Object($e.a)({},e,{events:n});default:return e}},volunteers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_VOLUNTEERS":return Object($e.a)({},e,{volunteers:t.payload});case"FETCH_VOLUNTEERS_BY_EMAIL":return Object($e.a)({},e,{volunteer:t.payload});case"FETCH_VOLUNTEERS_BY_SITE":return Object($e.a)({},e,{volunteersBySite:t.payload});case"ADD_VLOUNTEERS":return Object($e.a)({},e,{volunteers:t.payload});default:return e}},accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ACCOUNTS_BY_ID":return Object($e.a)({},e,{account:t.payload});default:return e}}}),nt=a(351),lt=a(352),ot=Object(Je.createStore)(at,Object(lt.composeWithDevTools)(Object(Je.applyMiddleware)(nt.a)));s.a.render(l.a.createElement(r.a,{store:ot},l.a.createElement(Ke,null)),document.getElementById("root"))}},[[371,1,2]]]);
//# sourceMappingURL=main.8993a2ab.chunk.js.map